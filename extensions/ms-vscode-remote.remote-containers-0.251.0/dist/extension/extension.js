/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var P8=Object.create;var od=Object.defineProperty,k8=Object.defineProperties,I8=Object.getOwnPropertyDescriptor,T8=Object.getOwnPropertyDescriptors,A8=Object.getOwnPropertyNames,dA=Object.getOwnPropertySymbols,D8=Object.getPrototypeOf,pA=Object.prototype.hasOwnProperty,R8=Object.prototype.propertyIsEnumerable;var hA=(e,t,r)=>t in e?od(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,G=(e,t)=>{for(var r in t||(t={}))pA.call(t,r)&&hA(e,r,t[r]);if(dA)for(var r of dA(t))R8.call(t,r)&&hA(e,r,t[r]);return e},ge=(e,t)=>k8(e,T8(t)),mA=e=>od(e,"__esModule",{value:!0});var je=(e,t)=>()=>(e&&(t=e(e=0)),t);var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),nb=(e,t)=>{mA(e);for(var r in t)od(e,r,{get:t[r],enumerable:!0})},O8=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of A8(t))!pA.call(e,n)&&n!=="default"&&od(e,n,{get:()=>t[n],enumerable:!(r=I8(t,n))||r.enumerable});return e},te=e=>O8(mA(od(e!=null?P8(D8(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Al=T((U0e,wA)=>{"use strict";var yA=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);wA.exports=e=>e?Object.keys(e).map(t=>[yA.has(t)?yA.get(t):t,e[t]]).reduce((t,r)=>(t[r[0]]=r[1],t),Object.create(null)):{}});var bA=T((B0e,CA)=>{"use strict";CA.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var ld=T((H0e,EA)=>{"use strict";EA.exports=ht;ht.Node=Qa;ht.create=ht;function ht(e){var t=this;if(t instanceof ht||(t=new ht),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}ht.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};ht.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};ht.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};ht.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)L8(this,arguments[e]);return this.length};ht.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)F8(this,arguments[e]);return this.length};ht.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};ht.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};ht.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};ht.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};ht.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};ht.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};ht.prototype.map=function(e,t){t=t||this;for(var r=new ht,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};ht.prototype.mapReverse=function(e,t){t=t||this;for(var r=new ht,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};ht.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};ht.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};ht.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};ht.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};ht.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ht;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};ht.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ht;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};ht.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=N8(this,i,r[n]);return o};ht.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function N8(e,t,r){var n=t===e.head?new Qa(r,null,t,e):new Qa(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function L8(e,t){e.tail=new Qa(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function F8(e,t){e.head=new Qa(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Qa(e,t,r,n){if(!(this instanceof Qa))return new Qa(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{bA()(ht)}catch{}});var Dl=T((V0e,DA)=>{"use strict";var M8=require("events"),_A=require("stream"),ud=ld(),SA=require("string_decoder").StringDecoder,Uo=Symbol("EOF"),fd=Symbol("maybeEmitEnd"),Is=Symbol("emittedEnd"),Fm=Symbol("emittingEnd"),Mm=Symbol("closed"),xA=Symbol("read"),ib=Symbol("flush"),PA=Symbol("flushChunk"),cn=Symbol("encoding"),Bo=Symbol("decoder"),qm=Symbol("flowing"),dd=Symbol("paused"),pd=Symbol("resume"),Qr=Symbol("bufferLength"),kA=Symbol("bufferPush"),ob=Symbol("bufferShift"),$r=Symbol("objectMode"),Ur=Symbol("destroyed"),IA=global._MP_NO_ITERATOR_SYMBOLS_!=="1",q8=IA&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),j8=IA&&Symbol.iterator||Symbol("iterator not implemented"),TA=e=>e==="end"||e==="finish"||e==="prefinish",$8=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,U8=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);DA.exports=class AA extends _A{constructor(t){super();this[qm]=!1,this[dd]=!1,this.pipes=new ud,this.buffer=new ud,this[$r]=t&&t.objectMode||!1,this[$r]?this[cn]=null:this[cn]=t&&t.encoding||null,this[cn]==="buffer"&&(this[cn]=null),this[Bo]=this[cn]?new SA(this[cn]):null,this[Uo]=!1,this[Is]=!1,this[Fm]=!1,this[Mm]=!1,this.writable=!0,this.readable=!0,this[Qr]=0,this[Ur]=!1}get bufferLength(){return this[Qr]}get encoding(){return this[cn]}set encoding(t){if(this[$r])throw new Error("cannot set encoding in objectMode");if(this[cn]&&t!==this[cn]&&(this[Bo]&&this[Bo].lastNeed||this[Qr]))throw new Error("cannot change encoding");this[cn]!==t&&(this[Bo]=t?new SA(t):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[Bo].write(r)))),this[cn]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[$r]}set objectMode(t){this[$r]=this[$r]||!!t}write(t,r,n){if(this[Uo])throw new Error("write after end");return this[Ur]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8"),!this[$r]&&!Buffer.isBuffer(t)&&(U8(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):$8(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),!this.objectMode&&!t.length?(this[Qr]!==0&&this.emit("readable"),n&&n(),this.flowing):(typeof t=="string"&&!this[$r]&&!(r===this[cn]&&!this[Bo].lastNeed)&&(t=Buffer.from(t,r)),Buffer.isBuffer(t)&&this[cn]&&(t=this[Bo].write(t)),this.flowing?(this[Qr]!==0&&this[ib](!0),this.emit("data",t)):this[kA](t),this[Qr]!==0&&this.emit("readable"),n&&n(),this.flowing))}read(t){if(this[Ur])return null;try{return this[Qr]===0||t===0||t>this[Qr]?null:(this[$r]&&(t=null),this.buffer.length>1&&!this[$r]&&(this.encoding?this.buffer=new ud([Array.from(this.buffer).join("")]):this.buffer=new ud([Buffer.concat(Array.from(this.buffer),this[Qr])])),this[xA](t||null,this.buffer.head.value))}finally{this[fd]()}}[xA](t,r){return t===r.length||t===null?this[ob]():(this.buffer.head.value=r.slice(t),r=r.slice(0,t),this[Qr]-=t),this.emit("data",r),!this.buffer.length&&!this[Uo]&&this.emit("drain"),r}end(t,r,n){return typeof t=="function"&&(n=t,t=null),typeof r=="function"&&(n=r,r="utf8"),t&&this.write(t,r),n&&this.once("end",n),this[Uo]=!0,this.writable=!1,(this.flowing||!this[dd])&&this[fd](),this}[pd](){this[Ur]||(this[dd]=!1,this[qm]=!0,this.emit("resume"),this.buffer.length?this[ib]():this[Uo]?this[fd]():this.emit("drain"))}resume(){return this[pd]()}pause(){this[qm]=!1,this[dd]=!0}get destroyed(){return this[Ur]}get flowing(){return this[qm]}get paused(){return this[dd]}[kA](t){return this[$r]?this[Qr]+=1:this[Qr]+=t.length,this.buffer.push(t)}[ob](){return this.buffer.length&&(this[$r]?this[Qr]-=1:this[Qr]-=this.buffer.head.value.length),this.buffer.shift()}[ib](t){do;while(this[PA](this[ob]()));!t&&!this.buffer.length&&!this[Uo]&&this.emit("drain")}[PA](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,r){if(this[Ur])return;let n=this[Is];r=r||{},t===process.stdout||t===process.stderr?r.end=!1:r.end=r.end!==!1;let i={dest:t,opts:r,ondrain:o=>this[pd]()};return this.pipes.push(i),t.on("drain",i.ondrain),this[pd](),n&&i.opts.end&&i.dest.end(),t}addListener(t,r){return this.on(t,r)}on(t,r){try{return super.on(t,r)}finally{t==="data"&&!this.pipes.length&&!this.flowing?this[pd]():TA(t)&&this[Is]&&(super.emit(t),this.removeAllListeners(t))}}get emittedEnd(){return this[Is]}[fd](){!this[Fm]&&!this[Is]&&!this[Ur]&&this.buffer.length===0&&this[Uo]&&(this[Fm]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Mm]&&this.emit("close"),this[Fm]=!1)}emit(t,r){if(t!=="error"&&t!=="close"&&t!==Ur&&this[Ur])return;if(t==="data"){if(!r)return;this.pipes.length&&this.pipes.forEach(i=>i.dest.write(r)===!1&&this.pause())}else if(t==="end"){if(this[Is]===!0)return;this[Is]=!0,this.readable=!1,this[Bo]&&(r=this[Bo].end(),r&&(this.pipes.forEach(i=>i.dest.write(r)),super.emit("data",r))),this.pipes.forEach(i=>{i.dest.removeListener("drain",i.ondrain),i.opts.end&&i.dest.end()})}else if(t==="close"&&(this[Mm]=!0,!this[Is]&&!this[Ur]))return;let n=new Array(arguments.length);if(n[0]=t,n[1]=r,arguments.length>2)for(let i=2;i<arguments.length;i++)n[i]=arguments[i];try{return super.emit.apply(this,n)}finally{TA(t)?this.removeAllListeners(t):this[fd]()}}collect(){let t=[];this[$r]||(t.dataLength=0);let r=this.promise();return this.on("data",n=>{t.push(n),this[$r]||(t.dataLength+=n.length)}),r.then(()=>t)}concat(){return this[$r]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[$r]?Promise.reject(new Error("cannot concat in objectMode")):this[cn]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,r)=>{this.on(Ur,()=>r(new Error("stream destroyed"))),this.on("end",()=>t()),this.on("error",n=>r(n))})}[q8](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[Uo])return Promise.resolve({done:!0});let n=null,i=null,o=l=>{this.removeListener("data",s),this.removeListener("end",a),i(l)},s=l=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:l,done:!!this[Uo]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((l,u)=>{i=u,n=l,this.once(Ur,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[j8](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(t){return this[Ur]?(t?this.emit("error",t):this.emit(Ur),this):(this[Ur]=!0,this.buffer=new ud,this[Qr]=0,typeof this.close=="function"&&!this[Mm]&&this.close(),t?this.emit("error",t):this.emit(Ur),this)}static isStream(t){return!!t&&(t instanceof AA||t instanceof _A||t instanceof M8&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var OA=T((z0e,RA)=>{var B8=require("zlib").constants||{ZLIB_VERNUM:4736};RA.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},B8))});var mb=T(Dn=>{"use strict";var sb=require("assert"),Ts=require("buffer").Buffer,NA=require("zlib"),Xa=Dn.constants=OA(),H8=Dl(),LA=Ts.concat,Za=Symbol("_superWrite"),hd=class extends Error{constructor(t){super("zlib: "+t.message);this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},V8=Symbol("opts"),md=Symbol("flushFlag"),FA=Symbol("finishFlushFlag"),ab=Symbol("fullFlushFlag"),Rt=Symbol("handle"),jm=Symbol("onError"),Rl=Symbol("sawError"),lb=Symbol("level"),ub=Symbol("strategy"),fb=Symbol("ended"),W0e=Symbol("_defaultFullFlush"),db=class extends H8{constructor(t,r){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t);this[Rl]=!1,this[fb]=!1,this[V8]=t,this[md]=t.flush,this[FA]=t.finishFlush;try{this[Rt]=new NA[r](t)}catch(n){throw new hd(n)}this[jm]=n=>{this[Rl]||(this[Rl]=!0,this.close(),this.emit("error",n))},this[Rt].on("error",n=>this[jm](new hd(n))),this.once("end",()=>this.close)}close(){this[Rt]&&(this[Rt].close(),this[Rt]=null,this.emit("close"))}reset(){if(!this[Rl])return sb(this[Rt],"zlib binding closed"),this[Rt].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[ab]),this.write(Object.assign(Ts.alloc(0),{[md]:t})))}end(t,r,n){return t&&this.write(t,r),this.flush(this[FA]),this[fb]=!0,super.end(null,null,n)}get ended(){return this[fb]}write(t,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof t=="string"&&(t=Ts.from(t,r)),this[Rl])return;sb(this[Rt],"zlib binding closed");let i=this[Rt]._handle,o=i.close;i.close=()=>{};let s=this[Rt].close;this[Rt].close=()=>{},Ts.concat=l=>l;let a;try{let l=typeof t[md]=="number"?t[md]:this[md];a=this[Rt]._processChunk(t,l),Ts.concat=LA}catch(l){Ts.concat=LA,this[jm](new hd(l))}finally{this[Rt]&&(this[Rt]._handle=i,i.close=o,this[Rt].close=s,this[Rt].removeAllListeners("error"))}this[Rt]&&this[Rt].on("error",l=>this[jm](new hd(l)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[Za](Ts.from(a[0]));for(let l=1;l<a.length;l++)c=this[Za](a[l])}else c=this[Za](Ts.from(a));return n&&n(),c}[Za](t){return super.write(t)}},As=class extends db{constructor(t,r){t=t||{},t.flush=t.flush||Xa.Z_NO_FLUSH,t.finishFlush=t.finishFlush||Xa.Z_FINISH;super(t,r);this[ab]=Xa.Z_FULL_FLUSH,this[lb]=t.level,this[ub]=t.strategy}params(t,r){if(!this[Rl]){if(!this[Rt])throw new Error("cannot switch params when binding is closed");if(!this[Rt].params)throw new Error("not supported in this implementation");if(this[lb]!==t||this[ub]!==r){this.flush(Xa.Z_SYNC_FLUSH),sb(this[Rt],"zlib binding closed");let n=this[Rt].flush;this[Rt].flush=(i,o)=>{this.flush(i),o()};try{this[Rt].params(t,r)}finally{this[Rt].flush=n}this[Rt]&&(this[lb]=t,this[ub]=r)}}}},MA=class extends As{constructor(t){super(t,"Deflate")}},qA=class extends As{constructor(t){super(t,"Inflate")}},pb=Symbol("_portable"),jA=class extends As{constructor(t){super(t,"Gzip");this[pb]=t&&!!t.portable}[Za](t){return this[pb]?(this[pb]=!1,t[9]=255,super[Za](t)):super[Za](t)}},$A=class extends As{constructor(t){super(t,"Gunzip")}},UA=class extends As{constructor(t){super(t,"DeflateRaw")}},BA=class extends As{constructor(t){super(t,"InflateRaw")}},HA=class extends As{constructor(t){super(t,"Unzip")}},hb=class extends db{constructor(t,r){t=t||{},t.flush=t.flush||Xa.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||Xa.BROTLI_OPERATION_FINISH;super(t,r);this[ab]=Xa.BROTLI_OPERATION_FLUSH}},VA=class extends hb{constructor(t){super(t,"BrotliCompress")}},zA=class extends hb{constructor(t){super(t,"BrotliDecompress")}};Dn.Deflate=MA;Dn.Inflate=qA;Dn.Gzip=jA;Dn.Gunzip=$A;Dn.DeflateRaw=UA;Dn.InflateRaw=BA;Dn.Unzip=HA;typeof NA.BrotliCompress=="function"?(Dn.BrotliCompress=VA,Dn.BrotliDecompress=zA):Dn.BrotliCompress=Dn.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Ol=T((K0e,WA)=>{var z8=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;WA.exports=z8!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var $m=T((J0e,GA)=>{"use strict";var W8=Dl(),gb=Ol(),vb=Symbol("slurp");GA.exports=class extends W8{constructor(t,r,n){super();switch(this.pause(),this.extended=r,this.globalExtended=n,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=gb(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=gb(t.linkpath),this.uname=t.uname,this.gname=t.gname,r&&this[vb](r),n&&this[vb](n,!0)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(t):super.write(t.slice(0,n))}[vb](t,r){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?gb(t[n]):t[n])}}});var yb=T(Um=>{"use strict";Um.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Um.code=new Map(Array.from(Um.name).map(e=>[e[1],e[0]]))});var QA=T((X0e,JA)=>{"use strict";var G8=(e,t)=>{if(Number.isSafeInteger(e))e<0?Y8(e,t):K8(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},K8=(e,t)=>{t[0]=128;for(var r=t.length;r>1;r--)t[r-1]=e&255,e=Math.floor(e/256)},Y8=(e,t)=>{t[0]=255;var r=!1;e=e*-1;for(var n=t.length;n>1;n--){var i=e&255;e=Math.floor(e/256),r?t[n-1]=KA(i):i===0?t[n-1]=0:(r=!0,t[n-1]=YA(i))}},J8=e=>{let t=e[0],r=t===128?X8(e.slice(1,e.length)):t===255?Q8(e):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},Q8=e=>{for(var t=e.length,r=0,n=!1,i=t-1;i>-1;i--){var o=e[i],s;n?s=KA(o):o===0?s=o:(n=!0,s=YA(o)),s!==0&&(r-=s*Math.pow(256,t-i-1))}return r},X8=e=>{for(var t=e.length,r=0,n=t-1;n>-1;n--){var i=e[n];i!==0&&(r+=i*Math.pow(256,t-n-1))}return r},KA=e=>(255^e)&255,YA=e=>(255^e)+1&255;JA.exports={encode:G8,parse:J8}});var Ll=T((Z0e,eD)=>{"use strict";var wb=yb(),Nl=require("path").posix,XA=QA(),Cb=Symbol("slurp"),Rn=Symbol("type"),ZA=class{constructor(t,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Rn]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,r||0,n,i):t&&this.set(t)}decode(t,r,n,i){if(r||(r=0),!t||!(t.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=ec(t,r,100),this.mode=Ds(t,r+100,8),this.uid=Ds(t,r+108,8),this.gid=Ds(t,r+116,8),this.size=Ds(t,r+124,12),this.mtime=bb(t,r+136,12),this.cksum=Ds(t,r+148,12),this[Cb](n),this[Cb](i,!0),this[Rn]=ec(t,r+156,1),this[Rn]===""&&(this[Rn]="0"),this[Rn]==="0"&&this.path.substr(-1)==="/"&&(this[Rn]="5"),this[Rn]==="5"&&(this.size=0),this.linkpath=ec(t,r+157,100),t.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=ec(t,r+265,32),this.gname=ec(t,r+297,32),this.devmaj=Ds(t,r+329,8),this.devmin=Ds(t,r+337,8),t[r+475]!==0){let s=ec(t,r+345,155);this.path=s+"/"+this.path}else{let s=ec(t,r+345,130);s&&(this.path=s+"/"+this.path),this.atime=bb(t,r+476,12),this.ctime=bb(t,r+488,12)}let o=8*32;for(let s=r;s<r+148;s++)o+=t[s];for(let s=r+156;s<r+512;s++)o+=t[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[Cb](t,r){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(r&&n==="path")&&(this[n]=t[n])}encode(t,r){if(t||(t=this.block=Buffer.alloc(512),r=0),r||(r=0),!(t.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=Z8(this.path||"",n),o=i[0],s=i[1];this.needPax=i[2],this.needPax=tc(t,r,100,o)||this.needPax,this.needPax=Rs(t,r+100,8,this.mode)||this.needPax,this.needPax=Rs(t,r+108,8,this.uid)||this.needPax,this.needPax=Rs(t,r+116,8,this.gid)||this.needPax,this.needPax=Rs(t,r+124,12,this.size)||this.needPax,this.needPax=Eb(t,r+136,12,this.mtime)||this.needPax,t[r+156]=this[Rn].charCodeAt(0),this.needPax=tc(t,r+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",r+257,8),this.needPax=tc(t,r+265,32,this.uname)||this.needPax,this.needPax=tc(t,r+297,32,this.gname)||this.needPax,this.needPax=Rs(t,r+329,8,this.devmaj)||this.needPax,this.needPax=Rs(t,r+337,8,this.devmin)||this.needPax,this.needPax=tc(t,r+345,n,s)||this.needPax,t[r+475]!==0?this.needPax=tc(t,r+345,155,s)||this.needPax:(this.needPax=tc(t,r+345,130,s)||this.needPax,this.needPax=Eb(t,r+476,12,this.atime)||this.needPax,this.needPax=Eb(t,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=t[c];for(let c=r+156;c<r+512;c++)a+=t[c];return this.cksum=a,Rs(t,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let r in t)t[r]!==null&&t[r]!==void 0&&(this[r]=t[r])}get type(){return wb.name.get(this[Rn])||this[Rn]}get typeKey(){return this[Rn]}set type(t){wb.code.has(t)?this[Rn]=wb.code.get(t):this[Rn]=t}},Z8=(e,t)=>{let r=100,n=e,i="",o,s=Nl.parse(e).root||".";if(Buffer.byteLength(n)<r)o=[n,i,!1];else{i=Nl.dirname(n),n=Nl.basename(n);do Buffer.byteLength(n)<=r&&Buffer.byteLength(i)<=t?o=[n,i,!1]:Buffer.byteLength(n)>r&&Buffer.byteLength(i)<=t?o=[n.substr(0,r-1),i,!0]:(n=Nl.join(Nl.basename(i),n),i=Nl.dirname(i));while(i!==s&&!o);o||(o=[e.substr(0,r-1),"",!0])}return o},ec=(e,t,r)=>e.slice(t,t+r).toString("utf8").replace(/\0.*/,""),bb=(e,t,r)=>eY(Ds(e,t,r)),eY=e=>e===null?null:new Date(e*1e3),Ds=(e,t,r)=>e[t]&128?XA.parse(e.slice(t,t+r)):rY(e,t,r),tY=e=>isNaN(e)?null:e,rY=(e,t,r)=>tY(parseInt(e.slice(t,t+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),nY={12:8589934591,8:2097151},Rs=(e,t,r,n)=>n===null?!1:n>nY[r]||n<0?(XA.encode(n,e.slice(t,t+r)),!0):(iY(e,t,r,n),!1),iY=(e,t,r,n)=>e.write(oY(n,r),t,r,"ascii"),oY=(e,t)=>sY(Math.floor(e).toString(8),t),sY=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",Eb=(e,t,r,n)=>n===null?!1:Rs(e,t,r,n.getTime()/1e3),aY=new Array(156).join("\0"),tc=(e,t,r,n)=>n===null?!1:(e.write(n+aY,t,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);eD.exports=ZA});var Hm=T((ebe,tD)=>{"use strict";var cY=Ll(),lY=require("path"),Bm=class{constructor(t,r){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=r||!1}encode(){let t=this.encodeBody();if(t==="")return null;let r=Buffer.byteLength(t),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)i[o]=0;new cY({path:("PaxHeader/"+lY.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(t,512,r,"utf8");for(let o=r+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let r=this[t]instanceof Date?this[t].getTime()/1e3:this[t],n=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+r+`
`,i=Buffer.byteLength(n),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+n}};Bm.parse=(e,t,r)=>new Bm(uY(fY(e),t),r);var uY=(e,t)=>t?Object.keys(e).reduce((r,n)=>(r[n]=e[n],r),t):e,fY=e=>e.replace(/\n$/,"").split(`
`).reduce(dY,Object.create(null)),dY=(e,t)=>{let r=parseInt(t,10);if(r!==Buffer.byteLength(t)+1)return e;t=t.substr((r+" ").length);let n=t.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return e;let o=n.join("=");return e[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,e};tD.exports=Bm});var Fl=T((tbe,rD)=>{rD.exports=e=>{let t=e.length-1,r=-1;for(;t>-1&&e.charAt(t)==="/";)r=t,t--;return r===-1?e:e.slice(0,r)}});var Vm=T((rbe,nD)=>{"use strict";nD.exports=e=>class extends e{warn(t,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||t,n.tarCode=t,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${t}: ${r}`),n))}}});var Sb=T((nbe,iD)=>{"use strict";var zm=["|","<",">","?",":"],_b=zm.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),pY=new Map(zm.map((e,t)=>[e,_b[t]])),hY=new Map(_b.map((e,t)=>[e,zm[t]]));iD.exports={encode:e=>zm.reduce((t,r)=>t.split(r).join(pY.get(r)),e),decode:e=>_b.reduce((t,r)=>t.split(r).join(hY.get(r)),e)}});var xb=T((ibe,sD)=>{var{isAbsolute:mY,parse:oD}=require("path").win32;sD.exports=e=>{let t="",r=oD(e);for(;mY(e)||r.root;){let n=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":r.root;e=e.substr(n.length),t+=n,r=oD(e)}return[t,e]}});var cD=T((obe,aD)=>{"use strict";aD.exports=(e,t,r)=>(e&=4095,r&&(e=(e|384)&~18),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var Nb=T((cbe,_D)=>{"use strict";var lD=Dl(),uD=Hm(),fD=Ll(),oo=require("fs"),dD=require("path"),so=Ol(),gY=Fl(),pD=(e,t)=>t?(e=so(e).replace(/^\.(\/|$)/,""),gY(t)+"/"+e):so(e),vY=16*1024*1024,hD=Symbol("process"),mD=Symbol("file"),gD=Symbol("directory"),Pb=Symbol("symlink"),vD=Symbol("hardlink"),gd=Symbol("header"),Wm=Symbol("read"),kb=Symbol("lstat"),Gm=Symbol("onlstat"),Ib=Symbol("onread"),Tb=Symbol("onreadlink"),Ab=Symbol("openfile"),Db=Symbol("onopenfile"),Os=Symbol("close"),Km=Symbol("mode"),Rb=Symbol("awaitDrain"),Ob=Symbol("ondrain"),ao=Symbol("prefix"),yD=Symbol("hadError"),wD=Vm(),yY=Sb(),CD=xb(),bD=cD(),Ym=wD(class extends lD{constructor(t,r){r=r||{};super(r);if(typeof t!="string")throw new TypeError("path is required");this.path=so(t),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||vY,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=so(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?so(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=CD(this.path);i&&(this.path=o,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=yY.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=so(r.absolute||dD.resolve(this.cwd,t)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[Gm](this.statCache.get(this.absolute)):this[kb]()}emit(t,...r){return t==="error"&&(this[yD]=!0),super.emit(t,...r)}[kb](){oo.lstat(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[Gm](r)})}[Gm](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=CY(t),this.emit("stat",t),this[hD]()}[hD](){switch(this.type){case"File":return this[mD]();case"Directory":return this[gD]();case"SymbolicLink":return this[Pb]();default:return this.end()}}[Km](t){return bD(t,this.type==="Directory",this.portable)}[ao](t){return pD(t,this.prefix)}[gd](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new fD({path:this[ao](this.path),linkpath:this.type==="Link"?this[ao](this.linkpath):this.linkpath,mode:this[Km](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new uD({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[ao](this.path),linkpath:this.type==="Link"?this[ao](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[gD](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[gd](),this.end()}[Pb](){oo.readlink(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[Tb](r)})}[Tb](t){this.linkpath=so(t),this[gd](),this.end()}[vD](t){this.type="Link",this.linkpath=so(dD.relative(this.cwd,t)),this.stat.size=0,this[gd](),this.end()}[mD](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let r=this.linkCache.get(t);if(r.indexOf(this.cwd)===0)return this[vD](r)}this.linkCache.set(t,this.absolute)}if(this[gd](),this.stat.size===0)return this.end();this[Ab]()}[Ab](){oo.open(this.absolute,"r",(t,r)=>{if(t)return this.emit("error",t);this[Db](r)})}[Db](t){if(this.fd=t,this[yD])return this[Os]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Wm]()}[Wm](){let{fd:t,buf:r,offset:n,length:i,pos:o}=this;oo.read(t,r,n,i,o,(s,a)=>{if(s)return this[Os](()=>this.emit("error",s));this[Ib](a)})}[Os](t){oo.close(this.fd,t)}[Ib](t){if(t<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Os](()=>this.emit("error",i))}if(t>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Os](()=>this.emit("error",i))}if(t===this.remain)for(let i=t;i<this.length&&t<this.blockRemain;i++)this.buf[i+this.offset]=0,t++,this.remain++;let r=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(r)?this[Ob]():this[Rb](()=>this[Ob]())}[Rb](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[Ob](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Os](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Wm]()}}),ED=class extends Ym{[kb](){this[Gm](oo.lstatSync(this.absolute))}[Pb](){this[Tb](oo.readlinkSync(this.absolute))}[Ab](){this[Db](oo.openSync(this.absolute,"r"))}[Wm](){let t=!0;try{let{fd:r,buf:n,offset:i,length:o,pos:s}=this,a=oo.readSync(r,n,i,o,s);this[Ib](a),t=!1}finally{if(t)try{this[Os](()=>{})}catch{}}}[Rb](t){t()}[Os](t){oo.closeSync(this.fd),t()}},wY=wD(class extends lD{constructor(t,r){r=r||{};super(r);this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=so(t.path),this.mode=this[Km](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:r.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=so(t.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=CD(this.path);i&&(this.path=o,n=i)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new fD({path:this[ao](this.path),linkpath:this.type==="Link"?this[ao](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new uD({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[ao](this.path),linkpath:this.type==="Link"?this[ao](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[ao](t){return pD(t,this.prefix)}[Km](t){return bD(t,this.type==="Directory",this.portable)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Ym.Sync=ED;Ym.Tar=wY;var CY=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";_D.exports=Ym});var ng=T((ube,DD)=>{"use strict";var Lb=class{constructor(t,r){this.path=t||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},bY=Dl(),EY=mb(),_Y=$m(),Fb=Nb(),SY=Fb.Sync,xY=Fb.Tar,PY=ld(),SD=Buffer.alloc(1024),Jm=Symbol("onStat"),Qm=Symbol("ended"),co=Symbol("queue"),Ml=Symbol("current"),rc=Symbol("process"),Xm=Symbol("processing"),xD=Symbol("processJob"),lo=Symbol("jobs"),Mb=Symbol("jobDone"),Zm=Symbol("addFSEntry"),PD=Symbol("addTarEntry"),qb=Symbol("stat"),jb=Symbol("readdir"),eg=Symbol("onreaddir"),tg=Symbol("pipe"),kD=Symbol("entry"),$b=Symbol("entryOpt"),Ub=Symbol("writeEntryClass"),ID=Symbol("write"),Bb=Symbol("ondrain"),rg=require("fs"),TD=require("path"),kY=Vm(),Hb=Ol(),Vb=kY(class extends bY{constructor(t){super(t);t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=Hb(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[Ub]=Fb,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new EY.Gzip(t.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Bb]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[Bb]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:r=>!0,this[co]=new PY,this[lo]=0,this.jobs=+t.jobs||4,this[Xm]=!1,this[Qm]=!1}[ID](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[Qm]=!0,this[rc](),this}write(t){if(this[Qm])throw new Error("write after end");return t instanceof _Y?this[PD](t):this[Zm](t),this.flowing}[PD](t){let r=Hb(TD.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let n=new Lb(t.path,r,!1);n.entry=new xY(t,this[$b](n)),n.entry.on("end",i=>this[Mb](n)),this[lo]+=1,this[co].push(n)}this[rc]()}[Zm](t){let r=Hb(TD.resolve(this.cwd,t));this[co].push(new Lb(t,r)),this[rc]()}[qb](t){t.pending=!0,this[lo]+=1;let r=this.follow?"stat":"lstat";rg[r](t.absolute,(n,i)=>{t.pending=!1,this[lo]-=1,n?this.emit("error",n):this[Jm](t,i)})}[Jm](t,r){this.statCache.set(t.absolute,r),t.stat=r,this.filter(t.path,r)||(t.ignore=!0),this[rc]()}[jb](t){t.pending=!0,this[lo]+=1,rg.readdir(t.absolute,(r,n)=>{if(t.pending=!1,this[lo]-=1,r)return this.emit("error",r);this[eg](t,n)})}[eg](t,r){this.readdirCache.set(t.absolute,r),t.readdir=r,this[rc]()}[rc](){if(!this[Xm]){this[Xm]=!0;for(let t=this[co].head;t!==null&&this[lo]<this.jobs;t=t.next)if(this[xD](t.value),t.value.ignore){let r=t.next;this[co].removeNode(t),t.next=r}this[Xm]=!1,this[Qm]&&!this[co].length&&this[lo]===0&&(this.zip?this.zip.end(SD):(super.write(SD),super.end()))}}get[Ml](){return this[co]&&this[co].head&&this[co].head.value}[Mb](t){this[co].shift(),this[lo]-=1,this[rc]()}[xD](t){if(!t.pending){if(t.entry){t===this[Ml]&&!t.piped&&this[tg](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[Jm](t,this.statCache.get(t.absolute)):this[qb](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[eg](t,this.readdirCache.get(t.absolute)):this[jb](t),!t.readdir))){if(t.entry=this[kD](t),!t.entry){t.ignore=!0;return}t===this[Ml]&&!t.piped&&this[tg](t)}}}[$b](t){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[kD](t){this[lo]+=1;try{return new this[Ub](t.path,this[$b](t)).on("end",()=>this[Mb](t)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Bb](){this[Ml]&&this[Ml].entry&&this[Ml].entry.resume()}[tg](t){t.piped=!0,t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Zm](s+i)});let r=t.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),AD=class extends Vb{constructor(t){super(t);this[Ub]=SY}pause(){}resume(){}[qb](t){let r=this.follow?"statSync":"lstatSync";this[Jm](t,rg[r](t.absolute))}[jb](t,r){this[eg](t,rg.readdirSync(t.absolute))}[tg](t){let r=t.entry,n=this.zip;t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Zm](s+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[ID](i)})}};Vb.Sync=AD;DD.exports=Vb});var zl=T(yd=>{"use strict";var IY=Dl(),TY=require("events").EventEmitter,ln=require("fs"),zb=ln.writev;if(!zb){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;zb=(r,n,i,o)=>{let s=(c,l)=>o(c,l,n),a=new t;a.oncomplete=s,e.writeBuffers(r,n,i,a)}}var ql=Symbol("_autoClose"),Ai=Symbol("_close"),vd=Symbol("_ended"),kt=Symbol("_fd"),RD=Symbol("_finished"),Ns=Symbol("_flags"),Wb=Symbol("_flush"),Gb=Symbol("_handleChunk"),Kb=Symbol("_makeBuf"),ig=Symbol("_mode"),og=Symbol("_needDrain"),jl=Symbol("_onerror"),$l=Symbol("_onopen"),Yb=Symbol("_onread"),Ul=Symbol("_onwrite"),Ls=Symbol("_open"),Ho=Symbol("_path"),nc=Symbol("_pos"),uo=Symbol("_queue"),Bl=Symbol("_read"),OD=Symbol("_readSize"),Fs=Symbol("_reading"),sg=Symbol("_remain"),ND=Symbol("_size"),ag=Symbol("_write"),Hl=Symbol("_writing"),cg=Symbol("_defaultFlag"),Vl=Symbol("_errored"),Jb=class extends IY{constructor(t,r){r=r||{};super(r);if(this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[Vl]=!1,this[kt]=typeof r.fd=="number"?r.fd:null,this[Ho]=t,this[OD]=r.readSize||16*1024*1024,this[Fs]=!1,this[ND]=typeof r.size=="number"?r.size:1/0,this[sg]=this[ND],this[ql]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[kt]=="number"?this[Bl]():this[Ls]()}get fd(){return this[kt]}get path(){return this[Ho]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Ls](){ln.open(this[Ho],"r",(t,r)=>this[$l](t,r))}[$l](t,r){t?this[jl](t):(this[kt]=r,this.emit("open",r),this[Bl]())}[Kb](){return Buffer.allocUnsafe(Math.min(this[OD],this[sg]))}[Bl](){if(!this[Fs]){this[Fs]=!0;let t=this[Kb]();if(t.length===0)return process.nextTick(()=>this[Yb](null,0,t));ln.read(this[kt],t,0,t.length,null,(r,n,i)=>this[Yb](r,n,i))}}[Yb](t,r,n){this[Fs]=!1,t?this[jl](t):this[Gb](r,n)&&this[Bl]()}[Ai](){if(this[ql]&&typeof this[kt]=="number"){let t=this[kt];this[kt]=null,ln.close(t,r=>r?this.emit("error",r):this.emit("close"))}}[jl](t){this[Fs]=!0,this[Ai](),this.emit("error",t)}[Gb](t,r){let n=!1;return this[sg]-=t,t>0&&(n=super.write(t<r.length?r.slice(0,t):r)),(t===0||this[sg]<=0)&&(n=!1,this[Ai](),super.end()),n}emit(t,r){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[kt]=="number"&&this[Bl]();break;case"error":return this[Vl]?void 0:(this[Vl]=!0,super.emit(t,r));default:return super.emit(t,r)}}},LD=class extends Jb{[Ls](){let t=!0;try{this[$l](null,ln.openSync(this[Ho],"r")),t=!1}finally{t&&this[Ai]()}}[Bl](){let t=!0;try{if(!this[Fs]){this[Fs]=!0;do{let r=this[Kb](),n=r.length===0?0:ln.readSync(this[kt],r,0,r.length,null);if(!this[Gb](n,r))break}while(!0);this[Fs]=!1}t=!1}finally{t&&this[Ai]()}}[Ai](){if(this[ql]&&typeof this[kt]=="number"){let t=this[kt];this[kt]=null,ln.closeSync(t),this.emit("close")}}},Qb=class extends TY{constructor(t,r){r=r||{};super(r);this.readable=!1,this.writable=!0,this[Vl]=!1,this[Hl]=!1,this[vd]=!1,this[og]=!1,this[uo]=[],this[Ho]=t,this[kt]=typeof r.fd=="number"?r.fd:null,this[ig]=r.mode===void 0?438:r.mode,this[nc]=typeof r.start=="number"?r.start:null,this[ql]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[nc]!==null?"r+":"w";this[cg]=r.flags===void 0,this[Ns]=this[cg]?n:r.flags,this[kt]===null&&this[Ls]()}emit(t,r){if(t==="error"){if(this[Vl])return;this[Vl]=!0}return super.emit(t,r)}get fd(){return this[kt]}get path(){return this[Ho]}[jl](t){this[Ai](),this[Hl]=!0,this.emit("error",t)}[Ls](){ln.open(this[Ho],this[Ns],this[ig],(t,r)=>this[$l](t,r))}[$l](t,r){this[cg]&&this[Ns]==="r+"&&t&&t.code==="ENOENT"?(this[Ns]="w",this[Ls]()):t?this[jl](t):(this[kt]=r,this.emit("open",r),this[Wb]())}end(t,r){return t&&this.write(t,r),this[vd]=!0,!this[Hl]&&!this[uo].length&&typeof this[kt]=="number"&&this[Ul](null,0),this}write(t,r){return typeof t=="string"&&(t=Buffer.from(t,r)),this[vd]?(this.emit("error",new Error("write() after end()")),!1):this[kt]===null||this[Hl]||this[uo].length?(this[uo].push(t),this[og]=!0,!1):(this[Hl]=!0,this[ag](t),!0)}[ag](t){ln.write(this[kt],t,0,t.length,this[nc],(r,n)=>this[Ul](r,n))}[Ul](t,r){t?this[jl](t):(this[nc]!==null&&(this[nc]+=r),this[uo].length?this[Wb]():(this[Hl]=!1,this[vd]&&!this[RD]?(this[RD]=!0,this[Ai](),this.emit("finish")):this[og]&&(this[og]=!1,this.emit("drain"))))}[Wb](){if(this[uo].length===0)this[vd]&&this[Ul](null,0);else if(this[uo].length===1)this[ag](this[uo].pop());else{let t=this[uo];this[uo]=[],zb(this[kt],t,this[nc],(r,n)=>this[Ul](r,n))}}[Ai](){if(this[ql]&&typeof this[kt]=="number"){let t=this[kt];this[kt]=null,ln.close(t,r=>r?this.emit("error",r):this.emit("close"))}}},FD=class extends Qb{[Ls](){let t;if(this[cg]&&this[Ns]==="r+")try{t=ln.openSync(this[Ho],this[Ns],this[ig])}catch(r){if(r.code==="ENOENT")return this[Ns]="w",this[Ls]();throw r}else t=ln.openSync(this[Ho],this[Ns],this[ig]);this[$l](null,t)}[Ai](){if(this[ql]&&typeof this[kt]=="number"){let t=this[kt];this[kt]=null,ln.closeSync(t),this.emit("close")}}[ag](t){let r=!0;try{this[Ul](null,ln.writeSync(this[kt],t,0,t.length,this[nc])),r=!1}finally{if(r)try{this[Ai]()}catch{}}}};yd.ReadStream=Jb;yd.ReadStreamSync=LD;yd.WriteStream=Qb;yd.WriteStreamSync=FD});var mg=T((pbe,HD)=>{"use strict";var AY=Vm(),DY=Ll(),RY=require("events"),OY=ld(),NY=1024*1024,LY=$m(),MD=Hm(),FY=mb(),Xb=Buffer.from([31,139]),ei=Symbol("state"),ic=Symbol("writeEntry"),Vo=Symbol("readEntry"),Zb=Symbol("nextEntry"),qD=Symbol("processEntry"),ti=Symbol("extendedHeader"),wd=Symbol("globalExtendedHeader"),Ms=Symbol("meta"),jD=Symbol("emitMeta"),Lt=Symbol("buffer"),zo=Symbol("queue"),oc=Symbol("ended"),$D=Symbol("emittedEnd"),sc=Symbol("emit"),un=Symbol("unzip"),lg=Symbol("consumeChunk"),ug=Symbol("consumeChunkSub"),eE=Symbol("consumeBody"),UD=Symbol("consumeMeta"),BD=Symbol("consumeHeader"),fg=Symbol("consuming"),tE=Symbol("bufferConcat"),rE=Symbol("maybeEnd"),Cd=Symbol("writing"),qs=Symbol("aborted"),dg=Symbol("onDone"),ac=Symbol("sawValidEntry"),pg=Symbol("sawNullBlock"),hg=Symbol("sawEOF"),MY=e=>!0;HD.exports=AY(class extends RY{constructor(t){t=t||{};super(t);this.file=t.file||"",this[ac]=null,this.on(dg,r=>{(this[ei]==="begin"||this[ac]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(dg,t.ondone):this.on(dg,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||NY,this.filter=typeof t.filter=="function"?t.filter:MY,this.writable=!0,this.readable=!1,this[zo]=new OY,this[Lt]=null,this[Vo]=null,this[ic]=null,this[ei]="begin",this[Ms]="",this[ti]=null,this[wd]=null,this[oc]=!1,this[un]=null,this[qs]=!1,this[pg]=!1,this[hg]=!1,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[BD](t,r){this[ac]===null&&(this[ac]=!1);let n;try{n=new DY(t,r,this[ti],this[wd])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[pg]?(this[hg]=!0,this[ei]==="begin"&&(this[ei]="header"),this[sc]("eof")):(this[pg]=!0,this[sc]("nullBlock"));else if(this[pg]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[ic]=new LY(n,this[ti],this[wd]);if(!this[ac])if(o.remain){let s=()=>{o.invalid||(this[ac]=!0)};o.on("end",s)}else this[ac]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[sc]("ignoredEntry",o),this[ei]="ignore",o.resume()):o.size>0&&(this[Ms]="",o.on("data",s=>this[Ms]+=s),this[ei]="meta"):(this[ti]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[sc]("ignoredEntry",o),this[ei]=o.remain?"ignore":"header",o.resume()):(o.remain?this[ei]="body":(this[ei]="header",o.end()),this[Vo]?this[zo].push(o):(this[zo].push(o),this[Zb]())))}}}[qD](t){let r=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[Vo]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",n=>this[Zb]()),r=!1)):(this[Vo]=null,r=!1),r}[Zb](){do;while(this[qD](this[zo].shift()));if(!this[zo].length){let t=this[Vo];!t||t.flowing||t.size===t.remain?this[Cd]||this.emit("drain"):t.once("drain",n=>this.emit("drain"))}}[eE](t,r){let n=this[ic],i=n.blockRemain,o=i>=t.length&&r===0?t:t.slice(r,r+i);return n.write(o),n.blockRemain||(this[ei]="header",this[ic]=null,n.end()),o.length}[UD](t,r){let n=this[ic],i=this[eE](t,r);return this[ic]||this[jD](n),i}[sc](t,r,n){!this[zo].length&&!this[Vo]?this.emit(t,r,n):this[zo].push([t,r,n])}[jD](t){switch(this[sc]("meta",this[Ms]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[ti]=MD.parse(this[Ms],this[ti],!1);break;case"GlobalExtendedHeader":this[wd]=MD.parse(this[Ms],this[wd],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[ti]=this[ti]||Object.create(null),this[ti].path=this[Ms].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[ti]=this[ti]||Object.create(null),this[ti].linkpath=this[Ms].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[qs]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[qs])return;if(this[un]===null&&t){if(this[Lt]&&(t=Buffer.concat([this[Lt],t]),this[Lt]=null),t.length<Xb.length)return this[Lt]=t,!0;for(let n=0;this[un]===null&&n<Xb.length;n++)t[n]!==Xb[n]&&(this[un]=!1);if(this[un]===null){let n=this[oc];this[oc]=!1,this[un]=new FY.Unzip,this[un].on("data",o=>this[lg](o)),this[un].on("error",o=>this.abort(o)),this[un].on("end",o=>{this[oc]=!0,this[lg]()}),this[Cd]=!0;let i=this[un][n?"end":"write"](t);return this[Cd]=!1,i}}this[Cd]=!0,this[un]?this[un].write(t):this[lg](t),this[Cd]=!1;let r=this[zo].length?!1:this[Vo]?this[Vo].flowing:!0;return!r&&!this[zo].length&&this[Vo].once("drain",n=>this.emit("drain")),r}[tE](t){t&&!this[qs]&&(this[Lt]=this[Lt]?Buffer.concat([this[Lt],t]):t)}[rE](){if(this[oc]&&!this[$D]&&!this[qs]&&!this[fg]){this[$D]=!0;let t=this[ic];if(t&&t.blockRemain){let r=this[Lt]?this[Lt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${r} available)`,{entry:t}),this[Lt]&&t.write(this[Lt]),t.end()}this[sc](dg)}}[lg](t){if(this[fg])this[tE](t);else if(!t&&!this[Lt])this[rE]();else{if(this[fg]=!0,this[Lt]){this[tE](t);let r=this[Lt];this[Lt]=null,this[ug](r)}else this[ug](t);for(;this[Lt]&&this[Lt].length>=512&&!this[qs]&&!this[hg];){let r=this[Lt];this[Lt]=null,this[ug](r)}this[fg]=!1}(!this[Lt]||this[oc])&&this[rE]()}[ug](t){let r=0,n=t.length;for(;r+512<=n&&!this[qs]&&!this[hg];)switch(this[ei]){case"begin":case"header":this[BD](t,r),r+=512;break;case"ignore":case"body":r+=this[eE](t,r);break;case"meta":r+=this[UD](t,r);break;default:throw new Error("invalid state: "+this[ei])}r<n&&(this[Lt]?this[Lt]=Buffer.concat([t.slice(r),this[Lt]]):this[Lt]=t.slice(r))}end(t){this[qs]||(this[un]?this[un].end(t):(this[oc]=!0,this.write(t)))}})});var gg=T((hbe,GD)=>{"use strict";var qY=Al(),VD=mg(),Wl=require("fs"),jY=zl(),zD=require("path"),nE=Fl();GD.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let n=qY(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&UY(n,t),n.noResume||$Y(n),n.file&&n.sync?BY(n):n.file?HY(n,r):WD(n)};var $Y=e=>{let t=e.onentry;e.onentry=t?r=>{t(r),r.resume()}:r=>r.resume()},UY=(e,t)=>{let r=new Map(t.map(o=>[nE(o),!0])),n=e.filter,i=(o,s)=>{let a=s||zD.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(zD.dirname(o),a);return r.set(o,c),c};e.filter=n?(o,s)=>n(o,s)&&i(nE(o)):o=>i(nE(o))},BY=e=>{let t=WD(e),r=e.file,n=!0,i;try{let o=Wl.statSync(r),s=e.maxReadSize||16*1024*1024;if(o.size<s)t.end(Wl.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(s);for(i=Wl.openSync(r,"r");a<o.size;){let l=Wl.readSync(i,c,0,s,a);a+=l,t.write(c.slice(0,l))}t.end()}n=!1}finally{if(n&&i)try{Wl.closeSync(i)}catch{}}},HY=(e,t)=>{let r=new VD(e),n=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{r.on("error",a),r.on("end",s),Wl.stat(i,(c,l)=>{if(c)a(c);else{let u=new jY.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return t?o.then(t,t):o},WD=e=>new VD(e)});var ZD=T((mbe,XD)=>{"use strict";var VY=Al(),vg=ng(),KD=zl(),YD=gg(),JD=require("path");XD.exports=(e,t,r)=>{if(typeof t=="function"&&(r=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let n=VY(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?zY(n,t):n.file?WY(n,t,r):n.sync?GY(n,t):KY(n,t)};var zY=(e,t)=>{let r=new vg.Sync(e),n=new KD.WriteStreamSync(e.file,{mode:e.mode||438});r.pipe(n),QD(r,t)},WY=(e,t,r)=>{let n=new vg(e),i=new KD.WriteStream(e.file,{mode:e.mode||438});n.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),n.on("error",a)});return iE(n,t),r?o.then(r,r):o},QD=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?YD({file:JD.resolve(e.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>e.add(n)}):e.add(r)}),e.end()},iE=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return YD({file:JD.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:n=>e.add(n)}).then(n=>iE(e,t));e.add(r)}e.end()},GY=(e,t)=>{let r=new vg.Sync(e);return QD(r,t),r},KY=(e,t)=>{let r=new vg(e);return iE(r,t),r}});var oE=T((gbe,sR)=>{"use strict";var YY=Al(),eR=ng(),On=require("fs"),tR=zl(),rR=gg(),nR=require("path"),iR=Ll();sR.exports=(e,t,r)=>{let n=YY(e);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),n.sync?JY(n,t):XY(n,t,r)};var JY=(e,t)=>{let r=new eR.Sync(e),n=!0,i,o;try{try{i=On.openSync(e.file,"r+")}catch(c){if(c.code==="ENOENT")i=On.openSync(e.file,"w+");else throw c}let s=On.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let u=0,f=0;u<512;u+=f){if(f=On.readSync(i,a,u,a.length-u,o+u),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let c=new iR(a);if(!c.cksumValid)break;let l=512*Math.ceil(c.size/512);if(o+l+512>s.size)break;o+=l,e.mtimeCache&&e.mtimeCache.set(c.path,c.mtime)}n=!1,QY(e,r,o,i,t)}finally{if(n)try{On.closeSync(i)}catch{}}},QY=(e,t,r,n,i)=>{let o=new tR.WriteStreamSync(e.file,{fd:n,start:r});t.pipe(o),ZY(t,i)},XY=(e,t,r)=>{t=Array.from(t);let n=new eR(e),i=(s,a,c)=>{let l=(h,m)=>{h?On.close(s,g=>c(h)):c(null,m)},u=0;if(a===0)return l(null,0);let f=0,d=Buffer.alloc(512),p=(h,m)=>{if(h)return l(h);if(f+=m,f<512&&m)return On.read(s,d,f,d.length-f,u+f,p);if(u===0&&d[0]===31&&d[1]===139)return l(new Error("cannot append to compressed archives"));if(f<512)return l(null,u);let g=new iR(d);if(!g.cksumValid)return l(null,u);let v=512*Math.ceil(g.size/512);if(u+v+512>a||(u+=v+512,u>=a))return l(null,u);e.mtimeCache&&e.mtimeCache.set(g.path,g.mtime),f=0,On.read(s,d,0,512,u,p)};On.read(s,d,0,512,u,p)},o=new Promise((s,a)=>{n.on("error",a);let c="r+",l=(u,f)=>{if(u&&u.code==="ENOENT"&&c==="r+")return c="w+",On.open(e.file,c,l);if(u)return a(u);On.fstat(f,(d,p)=>{if(d)return On.close(f,()=>a(d));i(f,p.size,(h,m)=>{if(h)return a(h);let g=new tR.WriteStream(e.file,{fd:f,start:m});n.pipe(g),g.on("error",a),g.on("close",s),oR(n,t)})})};On.open(e.file,c,l)});return r?o.then(r,r):o},ZY=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?rR({file:nR.resolve(e.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>e.add(n)}):e.add(r)}),e.end()},oR=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return rR({file:nR.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:n=>e.add(n)}).then(n=>oR(e,t));e.add(r)}e.end()}});var cR=T((vbe,aR)=>{"use strict";var e7=Al(),t7=oE();aR.exports=(e,t,r)=>{let n=e7(e);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),r7(n),t7(n,t,r)};var r7=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(r,n)=>t(r,n)&&!(e.mtimeCache.get(r)>n.mtime):(r,n)=>!(e.mtimeCache.get(r)>n.mtime)}});var fR=T((ybe,uR)=>{var{promisify:lR}=require("util"),js=require("fs"),n7=e=>{if(!e)e={mode:511,fs:js};else if(typeof e=="object")e=G({mode:511,fs:js},e);else if(typeof e=="number")e={mode:e,fs:js};else if(typeof e=="string")e={mode:parseInt(e,8),fs:js};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||js.mkdir,e.mkdirAsync=lR(e.mkdir),e.stat=e.stat||e.fs.stat||js.stat,e.statAsync=lR(e.stat),e.statSync=e.statSync||e.fs.statSync||js.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||js.mkdirSync,e};uR.exports=n7});var pR=T((wbe,dR)=>{var i7=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:o7,parse:s7}=require("path"),a7=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=o7(e),i7==="win32"){let t=/[*|"<>?:]/,{root:r}=s7(e);if(t.test(e.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};dR.exports=a7});var yR=T((Cbe,vR)=>{var{dirname:hR}=require("path"),mR=(e,t,r=void 0)=>r===t?Promise.resolve():e.statAsync(t).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?mR(e,hR(t),t):void 0),gR=(e,t,r=void 0)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?gR(e,hR(t),t):void 0}};vR.exports={findMade:mR,findMadeSync:gR}});var cE=T((bbe,CR)=>{var{dirname:wR}=require("path"),sE=(e,t,r)=>{t.recursive=!1;let n=wR(e);return n===e?t.mkdirAsync(e,t).catch(i=>{if(i.code!=="EISDIR")throw i}):t.mkdirAsync(e,t).then(()=>r||e,i=>{if(i.code==="ENOENT")return sE(n,t).then(o=>sE(e,t,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return t.statAsync(e).then(o=>{if(o.isDirectory())return r;throw i},()=>{throw i})})},aE=(e,t,r)=>{let n=wR(e);if(t.recursive=!1,n===e)try{return t.mkdirSync(e,t)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return t.mkdirSync(e,t),r||e}catch(i){if(i.code==="ENOENT")return aE(e,t,aE(n,t,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!t.statSync(e).isDirectory())throw i}catch{throw i}}};CR.exports={mkdirpManual:sE,mkdirpManualSync:aE}});var _R=T((Ebe,ER)=>{var{dirname:bR}=require("path"),{findMade:c7,findMadeSync:l7}=yR(),{mkdirpManual:u7,mkdirpManualSync:f7}=cE(),d7=(e,t)=>(t.recursive=!0,bR(e)===e?t.mkdirAsync(e,t):c7(t,e).then(n=>t.mkdirAsync(e,t).then(()=>n).catch(i=>{if(i.code==="ENOENT")return u7(e,t);throw i}))),p7=(e,t)=>{if(t.recursive=!0,bR(e)===e)return t.mkdirSync(e,t);let n=l7(t,e);try{return t.mkdirSync(e,t),n}catch(i){if(i.code==="ENOENT")return f7(e,t);throw i}};ER.exports={mkdirpNative:d7,mkdirpNativeSync:p7}});var kR=T((_be,PR)=>{var SR=require("fs"),h7=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,lE=h7.replace(/^v/,"").split("."),xR=+lE[0]>10||+lE[0]==10&&+lE[1]>=12,m7=xR?e=>e.mkdir===SR.mkdir:()=>!1,g7=xR?e=>e.mkdirSync===SR.mkdirSync:()=>!1;PR.exports={useNative:m7,useNativeSync:g7}});var OR=T((Sbe,RR)=>{var Gl=fR(),Kl=pR(),{mkdirpNative:IR,mkdirpNativeSync:TR}=_R(),{mkdirpManual:AR,mkdirpManualSync:DR}=cE(),{useNative:v7,useNativeSync:y7}=kR(),Yl=(e,t)=>(e=Kl(e),t=Gl(t),v7(t)?IR(e,t):AR(e,t)),w7=(e,t)=>(e=Kl(e),t=Gl(t),y7(t)?TR(e,t):DR(e,t));Yl.sync=w7;Yl.native=(e,t)=>IR(Kl(e),Gl(t));Yl.manual=(e,t)=>AR(Kl(e),Gl(t));Yl.nativeSync=(e,t)=>TR(Kl(e),Gl(t));Yl.manualSync=(e,t)=>DR(Kl(e),Gl(t));RR.exports=Yl});var $R=T((xbe,jR)=>{"use strict";var ri=require("fs"),cc=require("path"),C7=ri.lchown?"lchown":"chown",b7=ri.lchownSync?"lchownSync":"chownSync",NR=ri.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),LR=(e,t,r)=>{try{return ri[b7](e,t,r)}catch(n){if(n.code!=="ENOENT")throw n}},E7=(e,t,r)=>{try{return ri.chownSync(e,t,r)}catch(n){if(n.code!=="ENOENT")throw n}},_7=NR?(e,t,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):ri.chown(e,t,r,n)}:(e,t,r,n)=>n,uE=NR?(e,t,r)=>{try{return LR(e,t,r)}catch(n){if(n.code!=="EISDIR")throw n;E7(e,t,r)}}:(e,t,r)=>LR(e,t,r),S7=process.version,FR=(e,t,r)=>ri.readdir(e,t,r),x7=(e,t)=>ri.readdirSync(e,t);/^v4\./.test(S7)&&(FR=(e,t,r)=>ri.readdir(e,r));var yg=(e,t,r,n)=>{ri[C7](e,t,r,_7(e,t,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},MR=(e,t,r,n,i)=>{if(typeof t=="string")return ri.lstat(cc.resolve(e,t),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=t,MR(e,s,r,n,i)});if(t.isDirectory())fE(cc.resolve(e,t.name),r,n,o=>{if(o)return i(o);let s=cc.resolve(e,t.name);yg(s,r,n,i)});else{let o=cc.resolve(e,t.name);yg(o,r,n,i)}},fE=(e,t,r,n)=>{FR(e,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return yg(e,t,r,n);let s=o.length,a=null,c=l=>{if(!a){if(l)return n(a=l);if(--s==0)return yg(e,t,r,n)}};o.forEach(l=>MR(e,l,t,r,c))})},P7=(e,t,r,n)=>{if(typeof t=="string")try{let i=ri.lstatSync(cc.resolve(e,t));i.name=t,t=i}catch(i){if(i.code==="ENOENT")return;throw i}t.isDirectory()&&qR(cc.resolve(e,t.name),r,n),uE(cc.resolve(e,t.name),r,n)},qR=(e,t,r)=>{let n;try{n=x7(e,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return uE(e,t,r);throw i}return n&&n.length&&n.forEach(i=>P7(e,i,t,r)),uE(e,t,r)};jR.exports=fE;fE.sync=qR});var VR=T((Pbe,hE)=>{"use strict";var UR=OR(),ni=require("fs"),wg=require("path"),BR=$R(),Di=Ol(),dE=class extends Error{constructor(t,r){super("Cannot extract through symbolic link");this.path=r,this.symlink=t}get name(){return"SylinkError"}},pE=class extends Error{constructor(t,r){super(r+": Cannot cd into '"+t+"'");this.path=t,this.code=r}get name(){return"CwdError"}},Cg=(e,t)=>e.get(Di(t)),bd=(e,t,r)=>e.set(Di(t),r),k7=(e,t)=>{ni.stat(e,(r,n)=>{(r||!n.isDirectory())&&(r=new pE(e,r&&r.code||"ENOTDIR")),t(r)})};hE.exports=(e,t,r)=>{e=Di(e);let n=t.umask,i=t.mode|448,o=(i&n)!=0,s=t.uid,a=t.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==t.processUid||a!==t.processGid),l=t.preserve,u=t.unlink,f=t.cache,d=Di(t.cwd),p=(g,v)=>{g?r(g):(bd(f,e,!0),v&&c?BR(v,s,a,y=>p(y)):o?ni.chmod(e,i,r):r())};if(f&&Cg(f,e)===!0)return p();if(e===d)return k7(e,p);if(l)return UR(e,{mode:i}).then(g=>p(null,g),p);let m=Di(wg.relative(d,e)).split("/");bg(d,m,i,f,u,d,null,p)};var bg=(e,t,r,n,i,o,s,a)=>{if(!t.length)return a(null,s);let c=t.shift(),l=Di(wg.resolve(e+"/"+c));if(Cg(n,l))return bg(l,t,r,n,i,o,s,a);ni.mkdir(l,r,HR(l,t,r,n,i,o,s,a))},HR=(e,t,r,n,i,o,s,a)=>c=>{c?ni.lstat(e,(l,u)=>{if(l)l.path=l.path&&Di(l.path),a(l);else if(u.isDirectory())bg(e,t,r,n,i,o,s,a);else if(i)ni.unlink(e,f=>{if(f)return a(f);ni.mkdir(e,r,HR(e,t,r,n,i,o,s,a))});else{if(u.isSymbolicLink())return a(new dE(e,e+"/"+t.join("/")));a(c)}}):(s=s||e,bg(e,t,r,n,i,o,s,a))},I7=e=>{let t=!1,r="ENOTDIR";try{t=ni.statSync(e).isDirectory()}catch(n){r=n.code}finally{if(!t)throw new pE(e,r)}};hE.exports.sync=(e,t)=>{e=Di(e);let r=t.umask,n=t.mode|448,i=(n&r)!=0,o=t.uid,s=t.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==t.processUid||s!==t.processGid),c=t.preserve,l=t.unlink,u=t.cache,f=Di(t.cwd),d=g=>{bd(u,e,!0),g&&a&&BR.sync(g,o,s),i&&ni.chmodSync(e,n)};if(u&&Cg(u,e)===!0)return d();if(e===f)return I7(f),d();if(c)return d(UR.sync(e,n));let h=Di(wg.relative(f,e)).split("/"),m=null;for(let g=h.shift(),v=f;g&&(v+="/"+g);g=h.shift())if(v=Di(wg.resolve(v)),!Cg(u,v))try{ni.mkdirSync(v,n),m=m||v,bd(u,v,!0)}catch{let b=ni.lstatSync(v);if(b.isDirectory()){bd(u,v,!0);continue}else if(l){ni.unlinkSync(v),ni.mkdirSync(v,n),m=m||v,bd(u,v,!0);continue}else if(b.isSymbolicLink())return new dE(v,v+"/"+h.join("/"))}return d(m)}});var gE=T((kbe,zR)=>{var mE=Object.create(null),{hasOwnProperty:T7}=Object.prototype;zR.exports=e=>(T7.call(mE,e)||(mE[e]=e.normalize("NFKD")),mE[e])});var YR=T((Ibe,KR)=>{var WR=require("assert"),A7=gE(),D7=Fl(),{join:GR}=require("path"),R7=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,O7=R7==="win32";KR.exports=()=>{let e=new Map,t=new Map,r=l=>l.split("/").slice(0,-1).reduce((f,d)=>(f.length&&(d=GR(f[f.length-1],d)),f.push(d||"/"),f),[]),n=new Set,i=l=>{let u=t.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(f=>e.get(f)),dirs:[...u.dirs].map(f=>e.get(f))}},o=l=>{let{paths:u,dirs:f}=i(l);return u.every(d=>d[0]===l)&&f.every(d=>d[0]instanceof Set&&d[0].has(l))},s=l=>n.has(l)||!o(l)?!1:(n.add(l),l(()=>a(l)),!0),a=l=>{if(!n.has(l))return!1;let{paths:u,dirs:f}=t.get(l),d=new Set;return u.forEach(p=>{let h=e.get(p);WR.equal(h[0],l),h.length===1?e.delete(p):(h.shift(),typeof h[0]=="function"?d.add(h[0]):h[0].forEach(m=>d.add(m)))}),f.forEach(p=>{let h=e.get(p);WR(h[0]instanceof Set),h[0].size===1&&h.length===1?e.delete(p):h[0].size===1?(h.shift(),d.add(h[0])):h[0].delete(l)}),n.delete(l),d.forEach(p=>s(p)),!0};return{check:o,reserve:(l,u)=>{l=O7?["win32 parallelization disabled"]:l.map(d=>A7(D7(GR(d))).toLowerCase());let f=new Set(l.map(d=>r(d)).reduce((d,p)=>d.concat(p)));return t.set(u,{dirs:f,paths:l}),l.forEach(d=>{let p=e.get(d);p?p.push(u):e.set(d,[u])}),f.forEach(d=>{let p=e.get(d);p?p[p.length-1]instanceof Set?p[p.length-1].add(u):p.push(new Set([u])):e.set(d,[new Set([u])])}),s(u)}}}});var XR=T((Tbe,QR)=>{var N7=process.env.__FAKE_PLATFORM__||process.platform,L7=N7==="win32",F7=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:M7,O_TRUNC:q7,O_WRONLY:j7,UV_FS_O_FILEMAP:JR=0}=F7.constants,$7=L7&&!!JR,U7=512*1024,B7=JR|q7|M7|j7;QR.exports=$7?e=>e<U7?B7:"w":()=>"w"});var SE=T((Abe,pO)=>{"use strict";var H7=require("assert"),V7=mg(),mt=require("fs"),z7=zl(),Wo=require("path"),ZR=VR(),eO=Sb(),W7=YR(),G7=xb(),Nn=Ol(),K7=Fl(),Y7=gE(),tO=Symbol("onEntry"),vE=Symbol("checkFs"),rO=Symbol("checkFs2"),Eg=Symbol("pruneCache"),yE=Symbol("isReusable"),ii=Symbol("makeFs"),wE=Symbol("file"),CE=Symbol("directory"),_g=Symbol("link"),nO=Symbol("symlink"),iO=Symbol("hardlink"),oO=Symbol("unsupported"),sO=Symbol("checkPath"),$s=Symbol("mkdir"),Br=Symbol("onError"),Sg=Symbol("pending"),aO=Symbol("pend"),Jl=Symbol("unpend"),bE=Symbol("ended"),EE=Symbol("maybeClose"),_E=Symbol("skip"),Ed=Symbol("doChown"),_d=Symbol("uid"),Sd=Symbol("gid"),xd=Symbol("checkedCwd"),cO=require("crypto"),lO=XR(),J7=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Pd=J7==="win32",Q7=(e,t)=>{if(!Pd)return mt.unlink(e,t);let r=e+".DELETE."+cO.randomBytes(16).toString("hex");mt.rename(e,r,n=>{if(n)return t(n);mt.unlink(r,t)})},X7=e=>{if(!Pd)return mt.unlinkSync(e);let t=e+".DELETE."+cO.randomBytes(16).toString("hex");mt.renameSync(e,t),mt.unlinkSync(t)},uO=(e,t,r)=>e===e>>>0?e:t===t>>>0?t:r,fO=e=>Y7(K7(Nn(e))).toLowerCase(),Z7=(e,t)=>{t=fO(t);for(let r of e.keys()){let n=fO(r);(n===t||n.indexOf(t+"/")===0)&&e.delete(r)}},eJ=e=>{for(let t of e.keys())e.delete(t)},xg=class extends V7{constructor(t){t||(t={}),t.ondone=r=>{this[bE]=!0,this[EE]()};super(t);if(this[xd]=!1,this.reservations=W7(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[Sg]=0,this[bE]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||Pd,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=Nn(Wo.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",r=>this[tO](r))}warn(t,r,n={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(n.recoverable=!1),super.warn(t,r,n)}[EE](){this[bE]&&this[Sg]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[sO](t){if(this.strip){let r=Nn(t.path).split("/");if(r.length<this.strip)return!1;if(t.path=r.slice(this.strip).join("/"),t.type==="Link"){let n=Nn(t.linkpath).split("/");if(n.length>=this.strip)t.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=Nn(t.path),n=r.split("/");if(n.includes("..")||Pd&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:r}),!1;let[i,o]=G7(r);i&&(t.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:t,path:r}))}if(Wo.isAbsolute(t.path)?t.absolute=Nn(Wo.resolve(t.path)):t.absolute=Nn(Wo.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:Nn(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=Wo.win32.parse(t.absolute);t.absolute=r+eO.encode(t.absolute.substr(r.length));let{root:n}=Wo.win32.parse(t.path);t.path=n+eO.encode(t.path.substr(n.length))}return!0}[tO](t){if(!this[sO](t))return t.resume();switch(H7.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[vE](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[oO](t)}}[Br](t,r){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:r}),this[Jl](),r.resume())}[$s](t,r,n){ZR(Nn(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[Ed](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[_d](t){return uO(this.uid,t.uid,this.processUid)}[Sd](t){return uO(this.gid,t.gid,this.processGid)}[wE](t,r){let n=t.mode&4095||this.fmode,i=new z7.WriteStream(t.absolute,{flags:lO(t.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&mt.close(i.fd,()=>{}),i.write=()=>!0,this[Br](c,t),r()});let o=1,s=c=>{if(c){i.fd&&mt.close(i.fd,()=>{}),this[Br](c,t),r();return}--o==0&&mt.close(i.fd,l=>{l?this[Br](l,t):this[Jl](),r()})};i.on("finish",c=>{let l=t.absolute,u=i.fd;if(t.mtime&&!this.noMtime){o++;let f=t.atime||new Date,d=t.mtime;mt.futimes(u,f,d,p=>p?mt.utimes(l,f,d,h=>s(h&&p)):s())}if(this[Ed](t)){o++;let f=this[_d](t),d=this[Sd](t);mt.fchown(u,f,d,p=>p?mt.chown(l,f,d,h=>s(h&&p)):s())}s()});let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",c=>{this[Br](c,t),r()}),t.pipe(a)),a.pipe(i)}[CE](t,r){let n=t.mode&4095||this.dmode;this[$s](t.absolute,n,i=>{if(i){this[Br](i,t),r();return}let o=1,s=a=>{--o==0&&(r(),this[Jl](),t.resume())};t.mtime&&!this.noMtime&&(o++,mt.utimes(t.absolute,t.atime||new Date,t.mtime,s)),this[Ed](t)&&(o++,mt.chown(t.absolute,this[_d](t),this[Sd](t),s)),s()})}[oO](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[nO](t,r){this[_g](t,t.linkpath,"symlink",r)}[iO](t,r){let n=Nn(Wo.resolve(this.cwd,t.linkpath));this[_g](t,n,"link",r)}[aO](){this[Sg]++}[Jl](){this[Sg]--,this[EE]()}[_E](t){this[Jl](),t.resume()}[yE](t,r){return t.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Pd}[vE](t){this[aO]();let r=[t.path];t.linkpath&&r.push(t.linkpath),this.reservations.reserve(r,n=>this[rO](t,n))}[Eg](t){t.type==="SymbolicLink"?eJ(this.dirCache):t.type!=="Directory"&&Z7(this.dirCache,t.absolute)}[rO](t,r){this[Eg](t);let n=a=>{this[Eg](t),r(a)},i=()=>{this[$s](this.cwd,this.dmode,a=>{if(a){this[Br](a,t),n();return}this[xd]=!0,o()})},o=()=>{if(t.absolute!==this.cwd){let a=Nn(Wo.dirname(t.absolute));if(a!==this.cwd)return this[$s](a,this.dmode,c=>{if(c){this[Br](c,t),n();return}s()})}s()},s=()=>{mt.lstat(t.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>t.mtime)){this[_E](t),n();return}if(a||this[yE](t,c))return this[ii](null,t,n);if(c.isDirectory()){if(t.type==="Directory"){let l=!this.noChmod&&t.mode&&(c.mode&4095)!==t.mode,u=f=>this[ii](f,t,n);return l?mt.chmod(t.absolute,t.mode,u):u()}if(t.absolute!==this.cwd)return mt.rmdir(t.absolute,l=>this[ii](l,t,n))}if(t.absolute===this.cwd)return this[ii](null,t,n);Q7(t.absolute,l=>this[ii](l,t,n))})};this[xd]?o():i()}[ii](t,r,n){if(t){this[Br](t,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[wE](r,n);case"Link":return this[iO](r,n);case"SymbolicLink":return this[nO](r,n);case"Directory":case"GNUDumpDir":return this[CE](r,n)}}[_g](t,r,n,i){mt[n](r,t.absolute,o=>{o?this[Br](o,t):(this[Jl](),t.resume()),i()})}},Pg=e=>{try{return[null,e()]}catch(t){return[t,null]}},dO=class extends xg{[ii](t,r){return super[ii](t,r,()=>{})}[vE](t){if(this[Eg](t),!this[xd]){let o=this[$s](this.cwd,this.dmode);if(o)return this[Br](o,t);this[xd]=!0}if(t.absolute!==this.cwd){let o=Nn(Wo.dirname(t.absolute));if(o!==this.cwd){let s=this[$s](o,this.dmode);if(s)return this[Br](s,t)}}let[r,n]=Pg(()=>mt.lstatSync(t.absolute));if(n&&(this.keep||this.newer&&n.mtime>t.mtime))return this[_E](t);if(r||this[yE](t,n))return this[ii](null,t);if(n.isDirectory()){if(t.type==="Directory"){let s=!this.noChmod&&t.mode&&(n.mode&4095)!==t.mode,[a]=s?Pg(()=>{mt.chmodSync(t.absolute,t.mode)}):[];return this[ii](a,t)}let[o]=Pg(()=>mt.rmdirSync(t.absolute));this[ii](o,t)}let[i]=t.absolute===this.cwd?[]:Pg(()=>X7(t.absolute));this[ii](i,t)}[wE](t,r){let n=t.mode&4095||this.fmode,i=a=>{let c;try{mt.closeSync(o)}catch(l){c=l}(a||c)&&this[Br](a||c,t),r()},o;try{o=mt.openSync(t.absolute,lO(t.size),n)}catch(a){return i(a)}let s=this.transform&&this.transform(t)||t;s!==t&&(s.on("error",a=>this[Br](a,t)),t.pipe(s)),s.on("data",a=>{try{mt.writeSync(o,a,0,a.length)}catch(c){i(c)}}),s.on("end",a=>{let c=null;if(t.mtime&&!this.noMtime){let l=t.atime||new Date,u=t.mtime;try{mt.futimesSync(o,l,u)}catch(f){try{mt.utimesSync(t.absolute,l,u)}catch{c=f}}}if(this[Ed](t)){let l=this[_d](t),u=this[Sd](t);try{mt.fchownSync(o,l,u)}catch(f){try{mt.chownSync(t.absolute,l,u)}catch{c=c||f}}}i(c)})}[CE](t,r){let n=t.mode&4095||this.dmode,i=this[$s](t.absolute,n);if(i){this[Br](i,t),r();return}if(t.mtime&&!this.noMtime)try{mt.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[Ed](t))try{mt.chownSync(t.absolute,this[_d](t),this[Sd](t))}catch{}r(),t.resume()}[$s](t,r){try{return ZR.sync(Nn(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[_g](t,r,n,i){try{mt[n+"Sync"](r,t.absolute),i(),t.resume()}catch(o){return this[Br](o,t)}}};xg.Sync=dO;pO.exports=xg});var yO=T((Dbe,vO)=>{"use strict";var tJ=Al(),kg=SE(),hO=require("fs"),mO=zl(),gO=require("path"),xE=Fl();vO.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let n=tJ(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&rJ(n,t),n.file&&n.sync?nJ(n):n.file?iJ(n,r):n.sync?oJ(n):sJ(n)};var rJ=(e,t)=>{let r=new Map(t.map(o=>[xE(o),!0])),n=e.filter,i=(o,s)=>{let a=s||gO.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(gO.dirname(o),a);return r.set(o,c),c};e.filter=n?(o,s)=>n(o,s)&&i(xE(o)):o=>i(xE(o))},nJ=e=>{let t=new kg.Sync(e),r=e.file,n=hO.statSync(r),i=e.maxReadSize||16*1024*1024;new mO.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(t)},iJ=(e,t)=>{let r=new kg(e),n=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{r.on("error",a),r.on("close",s),hO.stat(i,(c,l)=>{if(c)a(c);else{let u=new mO.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return t?o.then(t,t):o},oJ=e=>new kg.Sync(e),sJ=e=>new kg(e)});var Ql=T(fr=>{"use strict";fr.c=fr.create=ZD();fr.r=fr.replace=oE();fr.t=fr.list=gg();fr.u=fr.update=cR();fr.x=fr.extract=yO();fr.Pack=ng();fr.Unpack=SE();fr.Parse=mg();fr.ReadEntry=$m();fr.WriteEntry=Nb();fr.Header=Ll();fr.Pax=Hm();fr.types=yb()});var kE=T(PE=>{"use strict";Object.defineProperty(PE,"__esModule",{value:!0});PE.default=lJ;var aJ=cJ(require("crypto"));function cJ(e){return e&&e.__esModule?e:{default:e}}var Ig=new Uint8Array(256),Tg=Ig.length;function lJ(){return Tg>Ig.length-16&&(aJ.default.randomFillSync(Ig),Tg=0),Ig.slice(Tg,Tg+=16)}});var wO=T(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.default=void 0;var uJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Ag.default=uJ});var kd=T(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.default=void 0;var fJ=dJ(wO());function dJ(e){return e&&e.__esModule?e:{default:e}}function pJ(e){return typeof e=="string"&&fJ.default.test(e)}var hJ=pJ;Dg.default=hJ});var Id=T(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.default=void 0;var mJ=gJ(kd());function gJ(e){return e&&e.__esModule?e:{default:e}}var xr=[];for(let e=0;e<256;++e)xr.push((e+256).toString(16).substr(1));function vJ(e,t=0){let r=(xr[e[t+0]]+xr[e[t+1]]+xr[e[t+2]]+xr[e[t+3]]+"-"+xr[e[t+4]]+xr[e[t+5]]+"-"+xr[e[t+6]]+xr[e[t+7]]+"-"+xr[e[t+8]]+xr[e[t+9]]+"-"+xr[e[t+10]]+xr[e[t+11]]+xr[e[t+12]]+xr[e[t+13]]+xr[e[t+14]]+xr[e[t+15]]).toLowerCase();if(!(0,mJ.default)(r))throw TypeError("Stringified UUID is invalid");return r}var yJ=vJ;Rg.default=yJ});var EO=T(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.default=void 0;var wJ=CO(kE()),CJ=CO(Id());function CO(e){return e&&e.__esModule?e:{default:e}}var bO,IE,TE=0,AE=0;function bJ(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let o=e.node||bO,s=e.clockseq!==void 0?e.clockseq:IE;if(o==null||s==null){let d=e.random||(e.rng||wJ.default)();o==null&&(o=bO=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),s==null&&(s=IE=(d[6]<<8|d[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:AE+1,l=a-TE+(c-AE)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||a>TE)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");TE=a,AE=c,IE=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let d=0;d<6;++d)i[n+d]=o[d];return t||(0,CJ.default)(i)}var EJ=bJ;Og.default=EJ});var DE=T(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.default=void 0;var _J=SJ(kd());function SJ(e){return e&&e.__esModule?e:{default:e}}function xJ(e){if(!(0,_J.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var PJ=xJ;Ng.default=PJ});var RE=T(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.default=AJ;lc.URL=lc.DNS=void 0;var kJ=_O(Id()),IJ=_O(DE());function _O(e){return e&&e.__esModule?e:{default:e}}function TJ(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var SO="6ba7b810-9dad-11d1-80b4-00c04fd430c8";lc.DNS=SO;var xO="6ba7b811-9dad-11d1-80b4-00c04fd430c8";lc.URL=xO;function AJ(e,t,r){function n(i,o,s,a){if(typeof i=="string"&&(i=TJ(i)),typeof o=="string"&&(o=(0,IJ.default)(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=c[l];return s}return(0,kJ.default)(c)}try{n.name=e}catch{}return n.DNS=SO,n.URL=xO,n}});var PO=T(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.default=void 0;var DJ=RJ(require("crypto"));function RJ(e){return e&&e.__esModule?e:{default:e}}function OJ(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),DJ.default.createHash("md5").update(e).digest()}var NJ=OJ;Lg.default=NJ});var IO=T(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.default=void 0;var LJ=kO(RE()),FJ=kO(PO());function kO(e){return e&&e.__esModule?e:{default:e}}var MJ=(0,LJ.default)("v3",48,FJ.default),qJ=MJ;Fg.default=qJ});var AO=T(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.default=void 0;var jJ=TO(kE()),$J=TO(Id());function TO(e){return e&&e.__esModule?e:{default:e}}function UJ(e,t,r){e=e||{};let n=e.random||(e.rng||jJ.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,$J.default)(n)}var BJ=UJ;Mg.default=BJ});var DO=T(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.default=void 0;var HJ=VJ(require("crypto"));function VJ(e){return e&&e.__esModule?e:{default:e}}function zJ(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),HJ.default.createHash("sha1").update(e).digest()}var WJ=zJ;qg.default=WJ});var OO=T(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.default=void 0;var GJ=RO(RE()),KJ=RO(DO());function RO(e){return e&&e.__esModule?e:{default:e}}var YJ=(0,GJ.default)("v5",80,KJ.default),JJ=YJ;jg.default=JJ});var NO=T($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.default=void 0;var QJ="00000000-0000-0000-0000-000000000000";$g.default=QJ});var LO=T(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.default=void 0;var XJ=ZJ(kd());function ZJ(e){return e&&e.__esModule?e:{default:e}}function eQ(e){if(!(0,XJ.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var tQ=eQ;Ug.default=tQ});var FO=T(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Object.defineProperty(Ri,"v1",{enumerable:!0,get:function(){return rQ.default}});Object.defineProperty(Ri,"v3",{enumerable:!0,get:function(){return nQ.default}});Object.defineProperty(Ri,"v4",{enumerable:!0,get:function(){return iQ.default}});Object.defineProperty(Ri,"v5",{enumerable:!0,get:function(){return oQ.default}});Object.defineProperty(Ri,"NIL",{enumerable:!0,get:function(){return sQ.default}});Object.defineProperty(Ri,"version",{enumerable:!0,get:function(){return aQ.default}});Object.defineProperty(Ri,"validate",{enumerable:!0,get:function(){return cQ.default}});Object.defineProperty(Ri,"stringify",{enumerable:!0,get:function(){return lQ.default}});Object.defineProperty(Ri,"parse",{enumerable:!0,get:function(){return uQ.default}});var rQ=Go(EO()),nQ=Go(IO()),iQ=Go(AO()),oQ=Go(OO()),sQ=Go(NO()),aQ=Go(LO()),cQ=Go(kd()),lQ=Go(Id()),uQ=Go(DE());function Go(e){return e&&e.__esModule?e:{default:e}}});var YO=T((hEe,KO)=>{var Xl=1e3,Zl=Xl*60,eu=Zl*60,uc=eu*24,bQ=uc*7,EQ=uc*365.25;KO.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return _Q(e);if(r==="number"&&isFinite(e))return t.long?xQ(e):SQ(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function _Q(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*EQ;case"weeks":case"week":case"w":return r*bQ;case"days":case"day":case"d":return r*uc;case"hours":case"hour":case"hrs":case"hr":case"h":return r*eu;case"minutes":case"minute":case"mins":case"min":case"m":return r*Zl;case"seconds":case"second":case"secs":case"sec":case"s":return r*Xl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function SQ(e){var t=Math.abs(e);return t>=uc?Math.round(e/uc)+"d":t>=eu?Math.round(e/eu)+"h":t>=Zl?Math.round(e/Zl)+"m":t>=Xl?Math.round(e/Xl)+"s":e+"ms"}function xQ(e){var t=Math.abs(e);return t>=uc?Hg(e,t,uc,"day"):t>=eu?Hg(e,t,eu,"hour"):t>=Zl?Hg(e,t,Zl,"minute"):t>=Xl?Hg(e,t,Xl,"second"):e+" ms"}function Hg(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var qE=T((mEe,JO)=>{function PQ(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=YO(),r.destroy=l,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(u){let f,d=null;function p(...h){if(!p.enabled)return;let m=p,g=Number(new Date),v=g-(f||g);m.diff=v,m.prev=f,m.curr=g,f=g,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let y=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(C,_)=>{if(C==="%%")return"%";y++;let P=r.formatters[_];if(typeof P=="function"){let S=h[y];C=P.call(m,S),h.splice(y,1),y--}return C}),r.formatArgs.call(m,h),(m.log||r.log).apply(m,h)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>d===null?r.enabled(u):d,set:h=>{d=h}}),typeof r.init=="function"&&r.init(p),p}function n(u,f){let d=r(this.namespace+(typeof f=="undefined"?":":f)+u);return d.log=this.log,d}function i(u){r.save(u),r.names=[],r.skips=[];let f,d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)!d[f]||(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){let u=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=r.skips.length;f<d;f++)if(r.skips[f].test(u))return!1;for(f=0,d=r.names.length;f<d;f++)if(r.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}JO.exports=PQ});var QO=T((Fn,Vg)=>{Fn.formatArgs=IQ;Fn.save=TQ;Fn.load=AQ;Fn.useColors=kQ;Fn.storage=DQ();Fn.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Fn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function kQ(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function IQ(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Vg.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}Fn.log=console.debug||console.log||(()=>{});function TQ(e){try{e?Fn.storage.setItem("debug",e):Fn.storage.removeItem("debug")}catch{}}function AQ(){let e;try{e=Fn.storage.getItem("debug")}catch{}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function DQ(){try{return localStorage}catch{}}Vg.exports=qE()(Fn);var{formatters:RQ}=Vg.exports;RQ.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ZO=T((gEe,XO)=>{"use strict";XO.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var rN=T((vEe,tN)=>{"use strict";var OQ=require("os"),eN=require("tty"),oi=ZO(),{env:Cr}=process,Hs;oi("no-color")||oi("no-colors")||oi("color=false")||oi("color=never")?Hs=0:(oi("color")||oi("colors")||oi("color=true")||oi("color=always"))&&(Hs=1);"FORCE_COLOR"in Cr&&(Cr.FORCE_COLOR==="true"?Hs=1:Cr.FORCE_COLOR==="false"?Hs=0:Hs=Cr.FORCE_COLOR.length===0?1:Math.min(parseInt(Cr.FORCE_COLOR,10),3));function jE(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function $E(e,t){if(Hs===0)return 0;if(oi("color=16m")||oi("color=full")||oi("color=truecolor"))return 3;if(oi("color=256"))return 2;if(e&&!t&&Hs===void 0)return 0;let r=Hs||0;if(Cr.TERM==="dumb")return r;if(process.platform==="win32"){let n=OQ.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Cr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Cr)||Cr.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Cr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Cr.TEAMCITY_VERSION)?1:0;if(Cr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Cr){let n=parseInt((Cr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Cr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Cr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Cr.TERM)||"COLORTERM"in Cr?1:r}function NQ(e){let t=$E(e,e&&e.isTTY);return jE(t)}tN.exports={supportsColor:NQ,stdout:jE($E(!0,eN.isatty(1))),stderr:jE($E(!0,eN.isatty(2)))}});var iN=T((Pr,Wg)=>{var LQ=require("tty"),zg=require("util");Pr.init=BQ;Pr.log=jQ;Pr.formatArgs=MQ;Pr.save=$Q;Pr.load=UQ;Pr.useColors=FQ;Pr.destroy=zg.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Pr.colors=[6,2,3,4,5,1];try{let e=rN();e&&(e.stderr||e).level>=2&&(Pr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Pr.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function FQ(){return"colors"in Pr.inspectOpts?Boolean(Pr.inspectOpts.colors):LQ.isatty(process.stderr.fd)}function MQ(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} [0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+Wg.exports.humanize(this.diff)+"[0m")}else e[0]=qQ()+t+" "+e[0]}function qQ(){return Pr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function jQ(...e){return process.stderr.write(zg.format(...e)+`
`)}function $Q(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function UQ(){return process.env.DEBUG}function BQ(e){e.inspectOpts={};let t=Object.keys(Pr.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Pr.inspectOpts[t[r]]}Wg.exports=qE()(Pr);var{formatters:nN}=Wg.exports;nN.o=function(e){return this.inspectOpts.colors=this.useColors,zg.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};nN.O=function(e){return this.inspectOpts.colors=this.useColors,zg.inspect(e,this.inspectOpts)}});var oN=T((yEe,UE)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?UE.exports=QO():UE.exports=iN()});var aN=T((wEe,sN)=>{var Rd;sN.exports=function(){if(!Rd){try{Rd=oN()("follow-redirects")}catch{}typeof Rd!="function"&&(Rd=function(){})}Rd.apply(null,arguments)}});var tu=T((CEe,zE)=>{var fc=require("url"),BE=fc.URL,HQ=require("http"),VQ=require("https"),cN=require("stream").Writable,zQ=require("assert"),lN=aN(),dc=["abort","aborted","connect","error","socket","timeout"],HE=Object.create(null);dc.forEach(function(e){HE[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}});var uN=Gg("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),WQ=Gg("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),GQ=Gg("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),KQ=Gg("ERR_STREAM_WRITE_AFTER_END","write after end");function Mn(e,t){cN.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}Mn.prototype=Object.create(cN.prototype);Mn.prototype.abort=function(){pN(this._currentRequest),this.emit("abort")};Mn.prototype.write=function(e,t,r){if(this._ending)throw new KQ;if(!(typeof e=="string"||typeof e=="object"&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof t=="function"&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new GQ),this.abort())};Mn.prototype.end=function(e,t,r){if(typeof e=="function"?(r=e,e=t=null):typeof t=="function"&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(e,t,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};Mn.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};Mn.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};Mn.prototype.setTimeout=function(e,t){var r=this;function n(s){s.setTimeout(e),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},e),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){Mn.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(Mn.prototype,e,{get:function(){return this._currentRequest[e]}})});Mn.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};Mn.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t){this.emit("error",new TypeError("Unsupported protocol "+e));return}if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=fc.format(this._options),n._redirectable=this;for(var i=0;i<dc.length;i++)n.on(dc[i],HE[dc[i]]);if(this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(l){if(n===s._currentRequest)if(l)s.emit("error",l);else if(o<a.length){var u=a[o++];n.finished||n.write(u.data,u.encoding,c)}else s._ended&&n.end()})()}};Mn.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&this._options.followRedirects!==!1&&t>=300&&t<400){if(pN(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new WQ);return}((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],VE(/^content-/i,this._options.headers));var n=VE(/^host$/i,this._options.headers),i=fc.parse(this._currentUrl),o=n||i.host,s=/^\w+:/.test(r)?this._currentUrl:fc.format(Object.assign(i,{host:o})),a;try{a=fc.resolve(s,r)}catch(u){this.emit("error",new uN(u));return}lN("redirecting to",a),this._isRedirect=!0;var c=fc.parse(a);if(Object.assign(this._options,c),(c.protocol!==i.protocol||!JQ(c.host,o))&&VE(/^(?:authorization|cookie)$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var l={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,l)}catch(u){this.emit("error",u);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(u){this.emit("error",new uN(u))}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]};function fN(e){var t={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(e).forEach(function(n){var i=n+":",o=r[i]=e[n],s=t[n]=Object.create(o);function a(l,u,f){if(typeof l=="string"){var d=l;try{l=dN(new BE(d))}catch{l=fc.parse(d)}}else BE&&l instanceof BE?l=dN(l):(f=u,u=l,l={protocol:i});return typeof u=="function"&&(f=u,u=null),u=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},l,u),u.nativeProtocols=r,zQ.equal(u.protocol,i,"protocol mismatch"),lN("options",u),new Mn(u,f)}function c(l,u,f){var d=s.request(l,u,f);return d.end(),d}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),t}function YQ(){}function dN(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return e.port!==""&&(t.port=Number(e.port)),t}function VE(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r===null||typeof r=="undefined"?void 0:String(r).trim()}function Gg(e,t){function r(n){Error.captureStackTrace(this,this.constructor),n?(this.message=t+": "+n.message,this.cause=n):this.message=t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function pN(e){for(var t=0;t<dc.length;t++)e.removeListener(dc[t],HE[dc[t]]);e.on("error",YQ),e.abort()}function JQ(e,t){if(e===t)return!0;let r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}zE.exports=fN({http:HQ,https:VQ});zE.exports.wrap=fN});var YE=T((UEe,bN)=>{bN.exports=function(t,r,n){t(r),n&&n(r===!0?null:r)}});var ev=T((BEe,_N)=>{"use strict";var EN=YE();_N.exports=function(t,r){if(!t)return function(i,o){return i?EN(o,i,r):o(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(i){return t[i]}));var n=0;return function(i,o){if(i)return EN(o,i,r);n>=t.length?o(!0):o(null,t[n++])}}});var xN=T((HEe,SN)=>{"use strict";var tX=ev();SN.exports=function(e){return tX(Object.keys(e))}});var JE=T((VEe,PN)=>{"use strict";var rX=YE();PN.exports=function(t,r){return function(n,i){if(n)return rX(i,n,r);if(t!=null){var o=t;t=null,i(null,o)}else i(!0)}}});var IN=T((zEe,kN)=>{"use strict";kN.exports=function(t){var r=0;return t=t||1/0,function(n,i){if(n)return i&&i(n);if(r>t)return i(!0);i(null,r++)}}});var AN=T((WEe,TN)=>{"use strict";TN.exports=function(t){return t=t||Math.random,function(r,n){return r?n&&n(r):n(null,t())}}});var RN=T((GEe,DN)=>{"use strict";DN.exports=function(){return function(t,r){r(!0)}}});var NN=T((KEe,ON)=>{"use strict";ON.exports=function(t){return function(r,n){n(t)}}});var FN=T((YEe,LN)=>{"use strict";LN.exports={keys:xN(),once:JE(),values:ev(),count:IN(),infinite:AN(),empty:RN(),error:NN()}});var iu=T((JEe,MN)=>{"use strict";MN.exports=function(t,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,f){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else t&&t(f)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var jN=T((QEe,qN)=>{"use strict";var nX=iu();qN.exports=function(t){return nX(null,t)}});var UN=T((XEe,$N)=>{"use strict";var iX=iu();$N.exports=function(t){return iX(function(r){console.log(r)},t)}});var ou=T((ZEe,BN)=>{BN.exports=function(t){return t&&(typeof t=="string"?function(r){return r[t]}:typeof t=="object"&&typeof t.exec=="function"?function(r){var n=t.exec(r);return n&&n[0]}:t)}});var zN=T((e_e,VN)=>{"use strict";function HN(e){return e}var oX=ou(),sX=iu();VN.exports=function(t,r){var n=!1;return r?t=oX(t)||HN:(r=t,t=HN),sX(function(i){if(t(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var tv=T((t_e,WN)=>{"use strict";var aX=iu();WN.exports=function(t,r,n){n||(n=r,r=null);var i=aX(function(o){r=t(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var KN=T((r_e,GN)=>{"use strict";var cX=tv();GN.exports=function(t){return cX(function(r,n){return r.push(n),r},[],t)}});var JN=T((n_e,YN)=>{"use strict";var lX=tv();YN.exports=function(t){return lX(function(r,n){return r+n},"",t)}});var XN=T((i_e,QN)=>{"use strict";QN.exports={drain:iu(),onEnd:jN(),log:UN(),find:zN(),reduce:tv(),collect:KN(),concat:JN()}});var eL=T((o_e,ZN)=>{"use strict";function uX(e){return e}var fX=ou();ZN.exports=function(t){return t?(t=fX(t),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:t(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):uX}});var rL=T((s_e,tL)=>{"use strict";function dX(e){return e}var pX=ou();tL.exports=function(t){if(!t)return dX;t=pX(t);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(l){r?n=c:c(a)}):o(a,function(l){c(a)})):o(null,function(l,u){l?c(l):i?c(i):(r=!0,t(u,function(f,d){r=!1,i?(c(i),n&&n(i)):f?s(f,c):c(null,d)}))})}}}});var QE=T((a_e,nL)=>{var hX=ou();function mX(e){return e}nL.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(r){return t.test(r)}:hX(t)||mX}});var rv=T((c_e,iL)=>{"use strict";var gX=QE();iL.exports=function(t){return t=gX(t),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!t(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var sL=T((l_e,oL)=>{"use strict";var vX=QE(),yX=rv();oL.exports=function(t){return t=vX(t),yX(function(r){return!t(r)})}});var cL=T((u_e,aL)=>{"use strict";aL.exports=function(t,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):t&&t(l),a(c,l)})}}}});var uL=T((f_e,lL)=>{"use strict";lL.exports=function(t,r){r=r||{};var n=r.last||!1,i=!1;if(typeof t=="number"){n=!0;var o=t;t=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i&&!c?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,f){(i=i||u)?l(i):t(f)?l(null,f):(i=!0,n?l(null,f):a(l))})}}}});var XE=T((d_e,fL)=>{"use strict";function wX(e){return e}var CX=ou(),bX=rv();fL.exports=function(t,r){t=CX(t)||wX;var n={};return bX(function(i){var o=t(i);return n[o]?!!r:(n[o]=!0,!r)})}});var pL=T((p_e,dL)=>{"use strict";var EX=XE();dL.exports=function(t){return EX(t,!0)}});var mL=T((h_e,hL)=>{"use strict";var _X=ev(),SX=JE();hL.exports=function(){return function(t){var r;return function(n,i){n?r?r(n,function(a){t(a||n,i)}):t(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?t(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,t(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=_X(c):typeof c!="function"&&(c=SX(c)),r=c,o()})}}}}});var vL=T((m_e,gL)=>{"use strict";gL.exports={map:eL(),asyncMap:rL(),filter:rv(),filterNot:sL(),through:cL(),take:uL(),unique:XE(),nonUnique:pL(),flatten:mL()}});var ZE=T((g_e,yL)=>{"use strict";yL.exports=function e(t){var r=arguments.length;if(typeof t=="function"&&t.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return e(a,c[0]);case 2:return e(a,c[0],c[1]);case 3:return e(a,c[0],c[1],c[2]);case 4:return e(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),e.apply(null,c)}}}var o=t;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var nv=T((hc,EL)=>{"use strict";var wL=FN(),CL=XN(),bL=vL();hc=EL.exports=ZE();hc.pull=hc;for(Oi in wL)hc[Oi]=wL[Oi];var Oi;for(Oi in bL)hc[Oi]=bL[Oi];var Oi;for(Oi in CL)hc[Oi]=CL[Oi];var Oi});var a_=T((I_e,IL)=>{var k_e=IL.exports=function(e){(function t(){var r=!0,n=!1,i=!1;do i=!0,r=!1,e.call(this,function(){i?r=!0:t()}),i=!1;while(r)})()}});var AL=T((T_e,TL)=>{var AX=a_();TL.exports=function(e,t){return function(r){var n=[],i,o;function s(l){n.push(l)}e=e||function(l){this.queue(l)},t=t||function(){this.queue(null)};var a={emit:function(l,u){l=="data"&&s(u),l=="end"&&(i=!0,s(null)),l=="error"&&(o=u)},queue:s},c;return function(l,u){if(i=i||l,l)return r(l,function(){if(c){var f=c;c=null,f(l)}u(l)});c=u,AX(function f(d){if(!!c)if(u=c,o)c=null,u(o);else if(n.length){var p=n.shift();c=null,u(p===null,p)}else r(i,function(h,m){if(h&&h!==!0)return o=h,d();if(i=i||h)t.call(a);else if(m!==null&&(e.call(a,m),o||i))return r(o||i,function(){c=null,u(o||i)});d(f)})})}}}});var RL=T((A_e,DL)=>{DL.exports=function(){var e=[],t=0;function r(){return e.reduce(function(n,i){return n+i.length},0)}return{length:t,data:this,add:function(n){if(!Buffer.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=t=t+n.length,e.push(n),this},has:function(n){return n==null?t>0:t>=n},get:function(n){var i;if(n==null||n===t){t=0;var o=e;return e=[],o.length==1?o[0]:Buffer.concat(o)}else if(e.length>1&&n<=(i=e[0].length)){var s=e[0].slice(0,n);return n===i?e.shift():e[0]=e[0].slice(n,i),t-=n,s}else if(n<t){for(var a=[],c=0;c+e[0].length<n;){var l=e.shift();c+=l.length,a.push(l)}return c<n&&(a.push(e[0].slice(0,n-c)),e[0]=e[0].slice(n-c,e[0].length),this.length=t=t-n),Buffer.concat(a)}else throw new Error("could not get "+n+" bytes")}}}});var FL=T((D_e,LL)=>{"use strict";var DX=RL();function RX(e){return Number.isFinite(e)}function OL(e){return typeof e=="function"}function NL(e,t){return t?function(r,n){var i=setTimeout(function(){e(new Error("pull-reader: read exceeded timeout"),n)},t);e(r,function(o,s){clearTimeout(i),n(o,s)})}:e}LL.exports=function(e){var t=[],r,n,i=!1,o=DX(),s,a,c;function l(){for(;t.length;)if(t[0].length==null&&o.has(1))t.shift().cb(null,o.get());else if(o.has(t[0].length)){var d=t.shift();d.cb(null,o.get(d.length))}else if(s==!0&&t[0].length&&o.length<t[0].length){var p="stream ended with:"+o.length+" but wanted:"+t[0].length;t.shift().cb(new Error(p))}else if(s)t.shift().cb(s);else return!!t.length;return t.length||!o.has(1)||c}function u(){var d=l();d&&!i&&r&&!i&&!a&&(i=!0,n(null,function(p,h){if(i=!1,p)return s=p,l();o.add(h),u()}))}function f(d){if(c){for(;t.length;)t.shift().cb(c);return cb&&cb(c)}n=NL(d,e),r=d,u()}return f.abort=function(d,p){c=d||!0,r?(i=!0,r(c,function(){for(;t.length;)t.shift().cb(c);p&&p(c)})):p()},f.read=function(d,p,h){if(OL(p)&&(h=p,p=e),OL(h))t.push({length:RX(d)?d:null,cb:h}),u();else return a=!0,function(m,g){if(i||o.has(1)){if(m)return r(m,g);t.push({length:null,cb:g}),u()}else NL(r,p)(m,function(v,y){g(v,y)})}},f}});var KL=T((mc,GL)=>{var OX=AL(),NX=FL(),ML=0,qL=1,jL=2,$L="GOODBYE",LX=Buffer.isBuffer;function UL(e){return typeof e=="string"}function BL(e){var t=Buffer.alloc(9),r=0,n=e.value!==void 0?e.value:e.end;return UL(e)&&e===$L?(t.fill(0),[t,null]):(UL(n)?(r=qL,n=Buffer.from(n,"utf-8")):LX(n)?r=ML:(r=jL,n=Buffer.from(JSON.stringify(n),"utf-8")),r=e.stream<<3|e.end<<2|r,t[0]=r,t.writeUInt32BE(n.length,1),t.writeInt32BE(e.req||0,5),[t,n])}function HL(e){if(e.length!=9)throw new Error("expected header to be 9 bytes long");var t=e[0],r=e.readUInt32BE(1),n=e.readInt32BE(5);return{req:n,stream:!!(t&8),end:!!(t&4),value:null,length:r,type:t&3}}function VL(e,t){if(e.length!==t.length)throw new Error("incorrect length, expected:"+t.length+" found:"+e.length);if(ML===t.type)t.value=e;else if(qL===t.type)t.value=e.toString();else if(jL===t.type)t.value=JSON.parse(e.toString());else throw new Error("unknown message type");return t}function zL(){return OX(function(e){var t=BL(e);this.queue(t[0]),t[1]!==null&&this.queue(t[1])})}function WL(){var e=NX(),t=!1;return function(r){return e(r),function(n,i){if(t)return i(!0);if(n)return e.abort(n,i);e.read(9,function(o,s){if(o)return i(o);var a=HL(s);if(a.length===0)return t=!0,i(null,$L);e.read(a.length,function(c,l){if(c)return i(c);try{VL(l,a)}catch(u){return i(u)}i(null,a)})})}}}mc=GL.exports=function(e){return{source:zL()(e.source),sink:function(t){return e.sink(WL()(t))}}};mc.encodePair=BL;mc.decodeHead=HL;mc.decodeBody=VL;mc.encode=zL;mc.decode=WL});var QL=T((R_e,JL)=>{function $d(e){return e&&(e===!0?!0:{message:e.message,name:e.name,stack:e.stack})}JL.exports=function(e){return new si(e)};function si(e){this.ended=!1,this.opts=e,this._req_counter=1,this._requests={},this._instreams={},this._outstreams={},this._closecbs=[],this._closing=!1,this._closed=!1,e.close&&this._closecbs.push(e.close)}si.prototype.message=function(e){this.read({req:0,stream:!1,end:!1,value:e})};si.prototype.request=function(e,t){if(this._closing)return t(new Error("parent stream is closing"));var r=this._req_counter++,n=this;this._requests[r]=function(i,o){delete n._requests[r],t(i,o),n._maybedone(i)},this.read({req:r,stream:!1,end:!1,value:e})};si.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");var e=this._req_counter++,t=this;return this._outstreams[e]=new Ud(e,this,function(){delete t._outstreams[e]}),this._outstreams[e]};si.prototype.close=function(e){if(!e)throw new Error("packet-stream.close *must* have callback");if(this._closed)return e();this._closecbs.push(e),this._closing=!0,this._maybedone()};si.prototype.destroy=function(e){e=e||$d(e),this.ended=e,this._closing=!0;var t=e===!0?new Error("unexpected end of parent stream"):e,r=0;for(var n in this._requests)r++,this._requests[n](t);for(var n in this._instreams)r++,this._instreams[n].writeEnd=!0,this._instreams[n].destroy(t);for(var n in this._outstreams)r++,this._outstreams[n].writeEnd=!0,this._outstreams[n].destroy(t);r===0&&e===!0&&(t=null),this._maybedone(t)};si.prototype._maybedone=function(e){this._closed||!this._closing||Object.keys(this._requests).length!==0||Object.keys(this._instreams).length!==0||Object.keys(this._outstreams).length!==0||(this._closed=!0,this._closecbs.forEach(function(t){t(e)}),this.read(null,e||!0),this.opts=null,this._closecbs.length=0,this.read=YL)};function YL(e){console.error("packet-stream asked to read after closed",e)}si.prototype.read=function(e){console.error("please overwrite read method to do IO",e)};si.prototype.write=function(e,t){this.ended||(t?this.destroy(t):e.req&&!e.stream?this._onrequest(e):e.req&&e.stream?this._onstream(e):this._onmessage(e))};si.prototype._onmessage=function(e){this.opts&&typeof this.opts.message=="function"&&this.opts.message(e.value)};si.prototype._onrequest=function(e){var t=e.req*-1;if(e.req<0)typeof this._requests[t]=="function"&&this._requests[t](e.end?e.value:null,e.end?null:e.value);else if(this.opts&&typeof this.opts.request=="function"){var r=!1,n=this;this.opts.request(e.value,function(o,s){if(r)throw new Error("cb called twice from local api");r=!0,o?n.read({value:$d(o),end:!0,req:t}):n.read({value:s,end:!1,req:t}),n._maybedone()})}else{if(this.ended){var i=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:$d(i),end:!0,stream:!1,req:t})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:t});this._maybedone()}};si.prototype._onstream=function(e){if(e.req<0){var t=e.req*-1,r=this._outstreams[t];if(!r)return console.error("no stream for incoming msg",e);e.end?(r.writeEnd&&delete this._outstreams[t],r.readEnd=!0,r.read(null,e.value),this._maybedone()):r.read(e.value)}else{var t=e.req,n=this._instreams[t];if(!n){var i=this;n=this._instreams[t]=new Ud(t*-1,this,function(){delete i._instreams[t]}),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)}e.end?(n.writeEnd&&delete this._instreams[t],n.readEnd=!0,n.read&&n.read(null,e.value),this._maybedone()):n.read?n.read(e.value):console.error("no .read for stream:",n.id,"dropped:",e)}};function Ud(e,t,r){this.id=e,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=t,this._remove=r,this._seq_counter=1}Ud.prototype.write=function(e,t){if(t){this.writeEnd=t;var r=this._ps;r&&(r.read({req:this.id,stream:!0,end:!0,value:$d(t)}),this.readEnd&&this.destroy(t),r._maybedone(t))}else this._ps&&this._ps.read({req:this.id,stream:!0,end:!1,value:e})};Ud.prototype.end=function(e){this.write(null,$d(e||!0))};Ud.prototype.destroy=function(e){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}this.write(null,e)}this._ps&&(this._remove(),this._remove=null,this.read=YL,this._ps=null)}});var ZL=T((O_e,Bd)=>{"use strict";var FX=nv();function MX(e){let t=!1;return(r,n)=>{t||(t=!0,e(r,n))}}function c_(e,t){let r=[],n=!1,i=!1,o,s,a=MX((c,l)=>{t&&t(c,l),e=null,t=null,o=null,s&&s(c||!0,()=>{})});return e.read=function(c,l){if(n=n||l,o){let u=o;o=null,u(n,c)}else!n&&!i&&r.push(c);n&&a(n!==!0?n:null)},{source(c,l){c?(e&&e.write(null,c),l(c),r.length=0,i=!0,a(c!==!0?c:null)):r.length?l(null,r.shift()):n?l(n):o=l},sink(c){if(n)return s=null,c(n,()=>{});s=c,FX.drain(l=>{if(n)return!1;e.write(l)},l=>{e&&!e.writeEnd&&e.write(null,l||!0),a&&a(l)})(c)}}}function XL(e,t){return c_(e,r=>{e.writeEnd||e.write(null,r||!0),t&&t(r)})}function qX(e){return XL(e).source}function jX(e,t){return XL(e,t).sink}Bd.exports=c_;Bd.exports.source=qX;Bd.exports.sink=jX;Bd.exports.duplex=c_});var t1=T((N_e,e1)=>{e1.exports=function(t){var r,n,i;function o(s){return function(a,c){s(a,function(l,u){if(l&&!i)return i=!0,c(null,t);l&&r?c(l):l?n=c:c(null,u)})}}return o.end=function(){return r=!0,n&&n(r),o},o}});var l_=T((L_e,r1)=>{r1.exports=function(t,r,n){t(r),n&&n(r===!0?null:r)}});var ov=T((F_e,i1)=>{"use strict";var n1=l_();i1.exports=function(t,r){if(!t)return function(i,o){return i?n1(o,i,r):o(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(i){return t[i]}));var n=0;return function(i,o){if(i)return n1(o,i,r);n>=t.length?o(!0):o(null,t[n++])}}});var s1=T((M_e,o1)=>{"use strict";var $X=ov();o1.exports=function(e){return $X(Object.keys(e))}});var u_=T((q_e,a1)=>{"use strict";var UX=l_();a1.exports=function(t,r){return function(n,i){if(n)return UX(i,n,r);if(t!=null){var o=t;t=null,i(null,o)}else i(!0)}}});var l1=T((j_e,c1)=>{"use strict";c1.exports=function(t){var r=0;return t=t||1/0,function(n,i){if(n)return i&&i(n);if(r>t)return i(!0);i(null,r++)}}});var f1=T(($_e,u1)=>{"use strict";u1.exports=function(t){return t=t||Math.random,function(r,n){return r?n&&n(r):n(null,t())}}});var p1=T((U_e,d1)=>{"use strict";d1.exports=function(){return function(t,r){r(!0)}}});var m1=T((B_e,h1)=>{"use strict";h1.exports=function(t){return function(r,n){n(t)}}});var v1=T((H_e,g1)=>{"use strict";g1.exports={keys:s1(),once:u_(),values:ov(),count:l1(),infinite:f1(),empty:p1(),error:m1()}});var au=T((V_e,y1)=>{"use strict";y1.exports=function(t,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,f){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else t&&t(f)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var C1=T((z_e,w1)=>{"use strict";var BX=au();w1.exports=function(t){return BX(null,t)}});var E1=T((W_e,b1)=>{"use strict";var HX=au();b1.exports=function(t){return HX(function(r){console.log(r)},t)}});var cu=T((G_e,_1)=>{_1.exports=function(t){return t&&(typeof t=="string"?function(r){return r[t]}:typeof t=="object"&&typeof t.exec=="function"?function(r){var n=t.exec(r);return n&&n[0]}:t)}});var P1=T((K_e,x1)=>{"use strict";function S1(e){return e}var VX=cu(),zX=au();x1.exports=function(t,r){var n=!1;return r?t=VX(t)||S1:(r=t,t=S1),zX(function(i){if(t(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var sv=T((Y_e,k1)=>{"use strict";var WX=au();k1.exports=function(t,r,n){n||(n=r,r=null);var i=WX(function(o){r=t(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var T1=T((J_e,I1)=>{"use strict";var GX=sv();I1.exports=function(t){return GX(function(r,n){return r.push(n),r},[],t)}});var D1=T((Q_e,A1)=>{"use strict";var KX=sv();A1.exports=function(t){return KX(function(r,n){return r+n},"",t)}});var O1=T((X_e,R1)=>{"use strict";R1.exports={drain:au(),onEnd:C1(),log:E1(),find:P1(),reduce:sv(),collect:T1(),concat:D1()}});var L1=T((Z_e,N1)=>{"use strict";function YX(e){return e}var JX=cu();N1.exports=function(t){return t?(t=JX(t),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:t(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):YX}});var M1=T((eSe,F1)=>{"use strict";function QX(e){return e}var XX=cu();F1.exports=function(t){if(!t)return QX;t=XX(t);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(){r?n=c:c(a)}):o(a,c)):o(null,function(l,u){l?c(l):i?c(i):(r=!0,t(u,function(f,d){r=!1,i?(c(i),n(i)):f?s(f,c):c(null,d)}))})}}}});var f_=T((tSe,q1)=>{var ZX=cu();function eZ(e){return e}q1.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(r){return t.test(r)}:ZX(t)||eZ}});var av=T((rSe,j1)=>{"use strict";var tZ=f_();j1.exports=function(t){return t=tZ(t),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!t(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var U1=T((nSe,$1)=>{"use strict";var rZ=f_(),nZ=av();$1.exports=function(t){return t=rZ(t),nZ(function(r){return!t(r)})}});var H1=T((iSe,B1)=>{"use strict";B1.exports=function(t,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):t&&t(l),a(c,l)})}}}});var z1=T((oSe,V1)=>{"use strict";V1.exports=function(t,r){r=r||{};var n=r.last||!1,i=!1;if(typeof t=="number"){n=!0;var o=t;t=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,f){(i=i||u)?l(i):t(f)?l(null,f):(i=!0,n?l(null,f):a(l))})}}}});var d_=T((sSe,W1)=>{"use strict";function iZ(e){return e}var oZ=cu(),sZ=av();W1.exports=function(t,r){t=oZ(t)||iZ;var n={};return sZ(function(i){var o=t(i);return n[o]?!!r:(n[o]=!0,!r)})}});var K1=T((aSe,G1)=>{"use strict";var aZ=d_();G1.exports=function(t){return aZ(t,!0)}});var J1=T((cSe,Y1)=>{"use strict";var cZ=ov(),lZ=u_();Y1.exports=function(){return function(t){var r;return function(n,i){n?r?r(n,function(a){t(a||n,i)}):t(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?t(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,t(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=cZ(c):typeof c!="function"&&(c=lZ(c)),r=c,o()})}}}}});var X1=T((lSe,Q1)=>{"use strict";Q1.exports={map:L1(),asyncMap:M1(),filter:av(),filterNot:U1(),through:H1(),take:z1(),unique:d_(),nonUnique:K1(),flatten:J1()}});var eF=T((uSe,Z1)=>{"use strict";Z1.exports=function e(t){var r=arguments.length;if(typeof t=="function"&&t.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return e(a,c[0]);case 2:return e(a,c[0],c[1]);case 3:return e(a,c[0],c[1],c[2]);case 4:return e(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),e.apply(null,c)}}}var o=t;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var oF=T((Hd,iF)=>{"use strict";var tF=v1(),rF=O1(),nF=X1();Hd=iF.exports=eF();for(Ni in tF)Hd[Ni]=tF[Ni];var Ni;for(Ni in nF)Hd[Ni]=nF[Ni];var Ni;for(Ni in rF)Hd[Ni]=rF[Ni];var Ni});var aF=T((fSe,sF)=>{var uZ=t1(),p_=oF();sF.exports=function(e,t){t=t||"GOODBYE";var r=uZ(t);return{source:p_(e.source,r),sink:p_(p_.filter(function(n){if(n!==t)return!0;r.end()}),e.sink)}}});var Vd=T(Li=>{"use strict";var cv=nv();function fZ(e){return e?Object.keys(e).length===0:!0}Li.set=function(t,r,n){let i,o;for(let s=0;s<r.length;s++){let a=r[s];t[a]=t[a]||{},i=t,o=a,t=t[a]}i[o]=n};Li.get=function(t,r){if(typeof r=="string")return t[r];let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=t=t[o],t==null)return t}return n};Li.prefix=function(t,r){let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=t=t[o],typeof t!="object")return t}return typeof n!="object"?!!n:!1};function dZ(e,t){for(let r in t){let n=t[r];e[n]||(e[n]={}),e=e[n]}return e}function pZ(e,t){(function r(n,i){let o=t[i];if(n)t.length-1===i?delete n[o]:i<t.length&&r(n[o],i+1);else return;fZ(n[o])&&delete n[o]})(e,0)}function hZ(e,t){for(let r in t)e[r]=t[r];return e}Li.mount=function(t,r,n){if(!Array.isArray(r))throw new Error("path must be array of strings");return hZ(dZ(t,r),n)};Li.unmount=function(t,r){return pZ(t,r)};var lv=e=>e==="source",uv=e=>e==="sink",cF=e=>e==="duplex",mZ=e=>e==="sync",gZ=e=>e==="async",lF=e=>mZ(e)||gZ(e),vZ=e=>lv(e)||uv(e)||cF(e);Li.isRequest=lF;Li.isStream=vZ;function h_(e){return function(t){t(e||!0,()=>{})}}function uF(e){return{source:cv.error(e),sink:h_(e)}}Li.errorAsStream=function(t,r){return lv(t)?cv.error(r):uv(t)?h_(r):uF(r)};Li.errorAsStreamOrCb=function(t,r,n){return lF(t)?n(r):lv(t)?cv.error(r):uv(t)?h_(r):n(r),uF(r)};Li.pipeToStream=function(t,r,n){lv(t)?r(n):uv(t)?n(r):cF(t)&&cv(r,n,r)}});var m_=T((hSe,dF)=>{function fF(e){if(e.stack&&e.name&&e.message)return e.stack.substring(e.name.length+3+e.message.length).split(`
`);if(e.stack)return e.stack.split(`
`)}function yZ(e,t){return e.filter(function(r){return!~t.indexOf(r)})}var pSe=dF.exports=function(e,t){if(!(e.stack&&e.name&&e.message))return console.error(new Error("stackless error")),e;var r=new Error(t),n=yZ(fF(r).slice(1),fF(e)).join(`
`);return r.__proto__=e,r.stack=r.name+": "+r.message+`
`+n+`
  `+e.stack,r}});var mF=T((mSe,hF)=>{"use strict";var wZ=QL(),g_=ZL(),CZ=aF(),lu=Vd(),pF=m_();hF.exports=function(t,r,n){let i=wZ({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let c=s.name,l=s.args,u=!1,f=!1;l.push((d,p)=>{f=!0,u=!0,a(d,p)});try{t("async",c,l)}catch(d){if(u||f)throw pF(d,"no callback provided to muxrpc async funtion");a(d)}},stream(s){s.read=function(c,l){if(l)return s.write(null,l);let{name:u,type:f,args:d}=c,p,h;if(s.read=null,!lu.isStream(f))return s.write(null,new Error(`unsupported stream type: ${f}`));try{h=t(f,u,d)}catch(v){p=v}let g=g_[f==="source"?"sink":f==="sink"?"source":"duplex"](s);return lu.pipeToStream(f,g,p?lu.errorAsStream(f,p):h)}},close(s){if(i=null,o.ended=!0,!o.closed&&(o.closed=!0,n)){let a=n;n=null,a(s)}}}),o=CZ(g_(i,()=>{}));return o=r?r(o):o,o.remoteCall=function(s,a,c,l){if(a==="emit")return i.message(c);if(!(lu.isRequest(s)||lu.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(lu.isRequest(s))return i.request({name:a,args:c},l);let u=i.stream(),f=g_[s](u,l);return u.write({name:a,args:c,type:s}),f},o.isOpen=function(){return!i.ended},o.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!i){a&&a();return}if(s){i.destroy(s),a&&a();return}return i.close(c=>{if(a)a(c);else if(c)throw pF(c,"no callback provided for muxrpc close")}),this},o.closed=!1,o}});var vF=T((gSe,gF)=>{"use strict";var bZ=m_(),EZ=Vd();function v_(e,t,r,n){for(let i in t){let o=t[i],s=r?r.concat(i):[i];if(o&&typeof o=="object"){let a=o;e[i]=v_({},a,s,n)}else{let a=o;e[i]=(...c)=>n(a,s,c)}}return e}function _Z(e){if(e)throw bZ(e,"callback not provided")}function SZ(e,t,r,n){e=e||{};function i(o,s,a){let c=typeof a[a.length-1]=="function"?a.pop():o==="sync"||o==="async"?null:_Z;if(typeof c=="function"){let l;try{l=r(o,s,a,c)}catch(u){return EZ.errorAsStreamOrCb(o,u,c)}return l}else return new Promise((l,u)=>{r(o,s,a,(f,d)=>{f?u(f):l(d)})})}return n?i("async","manifest",[function(o,s){if(o)return n(o);v_(e,s,null,i),n(null,s,e)}]):v_(e,t,null,i),e}gF.exports=SZ});var CF=T((vSe,wF)=>{"use strict";var fv=Vd();function yF(e){return Array.isArray(e)?e:e.split(".")}function xZ(e){return e&&typeof e.pre=="function"&&typeof e.test=="function"&&typeof e.post=="function"}wF.exports=function(t){if(xZ(t))return t;if(typeof t=="function")return{pre:t};let r=null,n={};function i(o){if(o.allow){r={};for(let s of o.allow)fv.set(r,yF(s),!0)}else r=null;if(o.deny)for(let s of o.deny)fv.set(n,yF(s),!0);else n={};return this}return t&&i(t),i.pre=o=>{if(o=Array.isArray(o)?o:[o],r&&!fv.prefix(r,o))return new Error(`method:${o} is not in list of allowed methods`);if(n&&fv.prefix(n,o))return new Error(`method:${o} is on list of disallowed methods`)},i.post=()=>{},i.test=o=>i.pre(o),i.get=()=>({allow:r,deny:n}),i}});var EF=T((ySe,bF)=>{"use strict";var PZ=CF(),y_=Vd();bF.exports=function(t,r,n){n=PZ(n);function i(s,a){return s===y_.get(r,a)}function o(s,a,c){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&i("sync",a)){let l=c.pop(),u;try{u=y_.get(t,a).apply(this,c)}catch(f){return l(f)}return l(null,u)}if(!i(s,a))throw new Error(`no ${s}:${a}`);return y_.get(t,a).apply(this,c)}return function(a,c,l){let u=n.pre(c,l);if(u)throw u;return o.call(this,a,c,l)}}});var xF=T((wSe,SF)=>{"use strict";var kZ=KL(),IZ=require("events").EventEmitter,TZ=mF(),AZ=vF(),DZ=EF();function _F(e,t,r,n,i,o,s){let a;typeof e=="function"&&(a=e,e={}),t=t||{},e=e||{};let c=new IZ;o||(o=kZ);let l,u={_emit(d,p){return c&&c._emit(d,p),u},id:n},f=TZ(DZ(r,t,i).bind(u),o,d=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),l)){let p=l;l=null,p(d)}});if(AZ(c,e,(d,p,h,m)=>{if(f.closed)throw new Error("stream is closed");return f.remoteCall(d,p,h,m)},a),c._emit=c.emit,s){Object.__defineGetter__.call(c,"id",()=>u.id),Object.__defineSetter__.call(c,"id",p=>{u.id=p});let d=!0;c.createStream=p=>{if(l=p,d)return d=!1,f;throw new Error("one stream per rpc")}}else c.stream=f;return c.closed=!1,c.close=function(d,p){return f.close(d,p),this},c}SF.exports=function(e,t,r){return arguments.length>3?_F.apply(this,arguments):function(n,i,o){return _F(e,t,n,o,i,r,!0)}}});var w_=T((Ko,IF)=>{var CSe=ZE(),RZ=a_();function PF(e){e.destroy?e.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function kF(e,t,r){var n,i=!1,o;function s(){o||(o=!0,r&&r(n===!0?null:n))}function a(){i||(i=!0,l(),n?s():e(n=!0,s))}function c(u){l(),n||e(n=u,s)}function l(){t.on("finish",a),t.removeListener("close",a),t.removeListener("error",c)}t.on("close",a),t.on("finish",a),t.on("error",c),process.nextTick(function(){RZ(function(u){e(null,function(f,d){if(n=n||f,f===!0)return t._isStdio?s():t.end();if(n=n||f)return PF(t),s(n);if(t._isStdio)t.write(d,function(){u()});else{var p=t.write(d);p===!1?t.once("drain",u):u()}})})})}function OZ(e){var t=!1,r=!1,n;function i(){var o=e.read();if(o!==null&&n){var s=n;n=null,s(null,o)}}return e.on("readable",function(){r=!0,n&&i()}).on("end",function(){t=!0,n&&n(t)}).on("error",function(o){t=o,n&&n(t)}),function(o,s){n=s,t?s(t):r&&i()}}function dv(e){var t=[],r=[],n,i=!1,o;function s(){for(;(t.length||n)&&r.length;)r.shift()(t.length?null:n,t.shift());!t.length&&i&&(i=!1,e.resume())}return e.on("data",function(a){t.push(a),s(),t.length&&e.pause&&(i=!0,e.pause())}),e.on("end",function(){n=!0,s()}),e.on("close",function(){n=!0,s()}),e.on("error",function(a){n=a,s()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let u=function(){for(;r.length;)r.shift()(a);c(a)};var l=u;if(n)return u();e.once("close",u),PF(e)}else r.push(c),s()}}var NZ=dv,pv=function(e,t){return function(r){return kF(r,e,t)}},hv=function(e){return dv(e)};Ko=IF.exports=function(e,t){return e.writable&&e.write?e.readable?function(r){return kF(r,e,t),dv(e)}:pv(e,t):hv(e)};Ko.sink=pv;Ko.source=hv;Ko.read=NZ;Ko.read1=dv;Ko.read2=OZ;Ko.duplex=function(e,t){return{source:hv(e),sink:pv(e,t)}};Ko.transform=function(e){return function(t){var r=hv(e);return pv(e)(t),r}}});var AF=T((bSe,mv)=>{var LZ=require("stream");mv.exports=C_;mv.exports.source=function(e){return C_(null,e)};mv.exports.sink=function(e){return C_(e,null)};var TF=typeof setImmediate=="undefined"?process.nextTick:setImmediate;function C_(e,t){e&&typeof e=="object"&&(t=e.source,e=e.sink);var r=[],n=[],i,o,s=new LZ;s.writable=s.readable=!0,s.write=function(g){return r.length?r.shift()(null,g):n.push(g),r.length||(o=!0),!!r.length},s.end=function(){t?n.length?m():t(i=!0,r.length?r.shift():function(){}):r.length&&r.shift()(!0)},s.source=function(g,v){n.length?(v(null,n.shift()),n.length||s.emit("drain")):((i=i||g)?v(i):r.push(v),o&&(o=!1,s.emit("drain")))};var a;e&&(a=e(s.source)),a&&!t&&(t=a);var c=[],l=[],u=!1,f=!1,d=!1;if(s.sink=function(g){t=g,TF(m)},t){s.sink(t),s.paused=!0;var p=s.on.bind(s);s.on=(g,v)=>{var y=p(g,v);return g==="data"&&s.paused&&TF(s.resume.bind(s)),y};var h=s.pipe.bind(s);s.pipe=function(g,v){var y=h(g,v);return s.paused&&s.resume(),y}}function m(){if(f=!1,!(!t||d)){for(;c.length&&!s.paused;)s.emit("data",c.shift());if(!s.paused){if(u)return s.emit("end");d=!0,t(null,function g(v,y){d=!1,s.paused?(v===!0?u=v:v?s.emit("error",v):c.push(y),f=!0):v&&(i=v)!==!0?s.emit("error",v):(i=i||v)?s.emit("end"):(s.emit("data",y),d=!0,t(null,g))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,m(),s},s.destroy=function(){!i&&t&&t(i=!0,function(){}),i=!0,r.length&&r.shift()(!0),s.emit("close")},s}});var RF=T((ESe,DF)=>{DF.exports=FZ;function FZ(e,t){typeof e=="function"&&(t=e,e=!1);var r=[],n,i;function o(f,d){f&&(n=f,i&&u(n)),i=d,l()}var s;function a(f){s=s||f||!0,l()}function c(f){if(!s){if(i){u(n,f);return}r.push(f)}}if(e)return{push:c,end:a,source:o,buffer:r};return o.push=c,o.end=a,o.buffer=r,o;function l(){!i||(n?u(n):!r.length&&s?u(s):r.length&&u(null,r.shift()))}function u(f,d){var p=i;if(f&&t){var h=t;t=null,h(f===!0?null:f)}i=null,p(f,d)}}});var M_=T((Yxe,sM)=>{"use strict";var iM=require("child_process"),iee=1024*1024,oM={exec(e,t){iM.exec(e,{maxBuffer:2*iee,windowsHide:!0},t)},spawn(e,t,r){return iM.spawn(e,t,r)},stripLine(e,t){let r=0;for(;t-- >0;){let n=e.indexOf(`
`,r);n>=0&&(r=n+1)}return r>0?e.substring(r):e},split(e,t){let r=e.trim().split(/\s+/);return r.length>t&&(r[t-1]=r.slice(t-1).join(" ")),r},extractColumns(e,t,r){let n=e.split(/(\r\n|\n|\r)/),i=[];return r||(r=Math.max.apply(null,t)+1),n.forEach(o=>{let s=oM.split(o,r),a=[];t.forEach(c=>{a.push(s[c]||"")}),i.push(a)}),i},parseTable(e){let t=e.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(r=>r.trim().length>0).map(r=>r.split(/(\r\n|\n|\r)/).filter(n=>n.trim().length>0));return t.forEach(r=>{for(let n=0;r[n];){let i=r[n];i.startsWith(" ")?(r[n-1]+=i.trimLeft(),r.splice(n,1)):n+=1}}),t.map(r=>{let n={};return r.forEach(i=>{let o=i.indexOf(":"),s=i.slice(0,o).trim();n[s]=i.slice(o+1).trim()}),n})}};sM.exports=oM});var cM=T((Jxe,aM)=>{"use strict";var oee=require("os"),Av=require("fs"),li=M_(),see=e=>new Promise((t,r)=>{Av.existsSync(e)?t():Av.mkdir(e,n=>{n?r(n):t()})}),q_={darwin(e){return new Promise((t,r)=>{li.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=li.stripLine(i.toString(),2),a=li.extractColumns(s,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let l=String(c[1]).match(/\.(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[2].length?t(parseInt(a[2],10)):r(new Error(`pid of port (${e}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(e){return new Promise((t,r)=>{let n="netstat -tunlp";li.exec(n,function(i,o,s){if(i)r(i);else{let a=s.toString().trim();a&&console.warn(a);let c=li.stripLine(o.toString(),2),l=li.extractColumns(c,[3,6],7).find(u=>{let f=String(u[0]).match(/:(\d+)$/);if(f&&f[1]===String(e))return!0});if(l&&l[1]){let u=l[1].split("/",1)[0];u.length?t(parseInt(u,10)):r(new Error(`pid of port (${e}) not found`))}else r(new Error(`pid of port (${e}) not found`))}})})},win32(e){return new Promise((t,r)=>{li.exec("netstat -ano",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=li.stripLine(i.toString(),4),a=li.extractColumns(s,[1,4],5).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[1].length&&parseInt(a[1],10)>0?t(parseInt(a[1],10)):r(new Error(`pid of port (${e}) not found`))}})})},android(e){return new Promise((t,r)=>{let n=oee.tmpdir()+"/.find-process",i=n+"/"+process.pid,o='netstat -tunp >> "'+i+'"';see(n).then(()=>{li.exec(o,()=>{Av.readFile(i,"utf8",(s,a)=>{if(Av.unlink(i,()=>{}),s)r(s);else{a=li.stripLine(a,2);let c=li.extractColumns(a,[3,6],7).find(l=>{let u=String(l[0]).match(/:(\d+)$/);if(u&&u[1]===String(e))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?t(parseInt(l,10)):r(new Error(`pid of port (${e}) not found`))}else r(new Error(`pid of port (${e}) not found`))}})})})})}};function aee(e){let t=process.platform;return new Promise((r,n)=>{if(!(t in q_))return n(new Error(`platform ${t} is unsupported`));let i=q_[t];typeof i=="string"&&(i=q_[i]),i(e).then(r,n)})}aM.exports=aee});var dM=T((Qxe,fM)=>{"use strict";var Dv=require("path"),Ys=M_();function j_(e,t){return t?e&&e.match?e.match(t):!1:!0}function lM(e){let t=e.split(Dv.sep),r=t[t.length-1];r&&(t[t.length-1]=r.split(" ")[0]);let n=[];for(let i of t){let o=i.indexOf(" -");if(o>=0){n.push(i.substring(0,o).trim());break}else if(i.endsWith(" ")){n.push(i.trim());break}n.push(i)}return n.join(Dv.sep)}function uM(e){if(process.platform==="darwin"){let t=e.indexOf(".app/");if(t>=0)return Dv.basename(e.substring(0,t))}return Dv.basename(e)}var $_={darwin(e){return new Promise((t,r)=>{let n;"pid"in e?n=`ps -p ${e.pid} -ww -o pid,ppid,uid,gid,args`:n="ps ax -ww -o pid,ppid,uid,gid,args",Ys.exec(n,function(i,o,s){if(i)"pid"in e?t([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=Ys.stripLine(o.toString(),1),l=Ys.extractColumns(a,[0,1,2,3,4],5).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[4]&&e.name?j_(u[4],e.name):!!u[0]).map(u=>{let f=String(u[4]),d=lM(f);return{pid:parseInt(u[0],10),ppid:parseInt(u[1],10),uid:parseInt(u[2],10),gid:parseInt(u[3],10),name:uM(d),bin:d,cmd:u[4]}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(e){return new Promise((t,r)=>{let n="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],o=Ys.spawn("powershell.exe",["/c",n],{detached:!1,windowsHide:!0});o.stdout.on("data",s=>{i.push(s.toString())}),o.on("close",s=>{if(s!==0)return r(new Error("Command '"+n+"' terminated with code: "+s));let a=Ys.parseTable(i.join("")).filter(c=>{if("pid"in e)return c.ProcessId===String(e.pid);if(e.name){let l=c.Name||"";return e.strict?l===e.name||l.endsWith(".exe")&&l.slice(0,-4)===e.name:j_(c.CommandLine||l,e.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));t(a)})})},android(e){return new Promise((t,r)=>{let n="ps";Ys.exec(n,function(i,o,s){if(i)"pid"in e?t([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=Ys.stripLine(o.toString(),1),l=Ys.extractColumns(a,[0,3],4).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[1]&&e.name?j_(u[1],e.name):!!u[0]).map(u=>{let f=String(u[1]),d=lM(f);return{pid:parseInt(u[0],10),name:uM(d),bin:d,cmd:f}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})}};function cee(e){let t=process.platform;return new Promise((r,n)=>{if(!(t in $_))return n(new Error(`platform ${t} is unsupported`));let i=$_[t];typeof i=="string"&&(i=$_[i]),i(e).then(r,n)})}fM.exports=cee});var mM=T((Xxe,hM)=>{"use strict";var lee=cM(),pM=dM(),U_={port(e,t){return lee(e,t).then(r=>U_.pid(r,t),()=>[])},pid(e,t){return pM({pid:e,strict:t})},name(e,t){return pM({name:e,strict:t})}};function uee(e,t,r){return new Promise((n,i)=>{if(!(e in U_))i(new Error(`do not support find by "${e}"`));else{let o=/^\d+$/.test(t);e==="pid"&&!o?i(new Error("pid must be a number")):e==="port"&&!o?i(new Error("port must be a number")):U_[e](t,r).then(n,i)}})}hM.exports=uee});var vM=T((Zxe,gM)=>{"use strict";gM.exports=mM()});var pp=T((Nke,Jq)=>{var mne="2.0.0",gne=256,vne=Number.MAX_SAFE_INTEGER||9007199254740991,yne=16;Jq.exports={SEMVER_SPEC_VERSION:mne,MAX_LENGTH:gne,MAX_SAFE_INTEGER:vne,MAX_SAFE_COMPONENT_LENGTH:yne}});var hp=T((Lke,Qq)=>{var wne=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Qq.exports=wne});var xc=T((ra,Xq)=>{var{MAX_SAFE_COMPONENT_LENGTH:ES}=pp(),Cne=hp();ra=Xq.exports={};var bne=ra.re=[],Pe=ra.src=[],ke=ra.t={},Ene=0,Qe=(e,t,r)=>{let n=Ene++;Cne(n,t),ke[e]=n,Pe[n]=t,bne[n]=new RegExp(t,r?"g":void 0)};Qe("NUMERICIDENTIFIER","0|[1-9]\\d*");Qe("NUMERICIDENTIFIERLOOSE","[0-9]+");Qe("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Qe("MAINVERSION",`(${Pe[ke.NUMERICIDENTIFIER]})\\.(${Pe[ke.NUMERICIDENTIFIER]})\\.(${Pe[ke.NUMERICIDENTIFIER]})`);Qe("MAINVERSIONLOOSE",`(${Pe[ke.NUMERICIDENTIFIERLOOSE]})\\.(${Pe[ke.NUMERICIDENTIFIERLOOSE]})\\.(${Pe[ke.NUMERICIDENTIFIERLOOSE]})`);Qe("PRERELEASEIDENTIFIER",`(?:${Pe[ke.NUMERICIDENTIFIER]}|${Pe[ke.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASEIDENTIFIERLOOSE",`(?:${Pe[ke.NUMERICIDENTIFIERLOOSE]}|${Pe[ke.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASE",`(?:-(${Pe[ke.PRERELEASEIDENTIFIER]}(?:\\.${Pe[ke.PRERELEASEIDENTIFIER]})*))`);Qe("PRERELEASELOOSE",`(?:-?(${Pe[ke.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Pe[ke.PRERELEASEIDENTIFIERLOOSE]})*))`);Qe("BUILDIDENTIFIER","[0-9A-Za-z-]+");Qe("BUILD",`(?:\\+(${Pe[ke.BUILDIDENTIFIER]}(?:\\.${Pe[ke.BUILDIDENTIFIER]})*))`);Qe("FULLPLAIN",`v?${Pe[ke.MAINVERSION]}${Pe[ke.PRERELEASE]}?${Pe[ke.BUILD]}?`);Qe("FULL",`^${Pe[ke.FULLPLAIN]}$`);Qe("LOOSEPLAIN",`[v=\\s]*${Pe[ke.MAINVERSIONLOOSE]}${Pe[ke.PRERELEASELOOSE]}?${Pe[ke.BUILD]}?`);Qe("LOOSE",`^${Pe[ke.LOOSEPLAIN]}$`);Qe("GTLT","((?:<|>)?=?)");Qe("XRANGEIDENTIFIERLOOSE",`${Pe[ke.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Qe("XRANGEIDENTIFIER",`${Pe[ke.NUMERICIDENTIFIER]}|x|X|\\*`);Qe("XRANGEPLAIN",`[v=\\s]*(${Pe[ke.XRANGEIDENTIFIER]})(?:\\.(${Pe[ke.XRANGEIDENTIFIER]})(?:\\.(${Pe[ke.XRANGEIDENTIFIER]})(?:${Pe[ke.PRERELEASE]})?${Pe[ke.BUILD]}?)?)?`);Qe("XRANGEPLAINLOOSE",`[v=\\s]*(${Pe[ke.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Pe[ke.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Pe[ke.XRANGEIDENTIFIERLOOSE]})(?:${Pe[ke.PRERELEASELOOSE]})?${Pe[ke.BUILD]}?)?)?`);Qe("XRANGE",`^${Pe[ke.GTLT]}\\s*${Pe[ke.XRANGEPLAIN]}$`);Qe("XRANGELOOSE",`^${Pe[ke.GTLT]}\\s*${Pe[ke.XRANGEPLAINLOOSE]}$`);Qe("COERCE",`(^|[^\\d])(\\d{1,${ES}})(?:\\.(\\d{1,${ES}}))?(?:\\.(\\d{1,${ES}}))?(?:$|[^\\d])`);Qe("COERCERTL",Pe[ke.COERCE],!0);Qe("LONETILDE","(?:~>?)");Qe("TILDETRIM",`(\\s*)${Pe[ke.LONETILDE]}\\s+`,!0);ra.tildeTrimReplace="$1~";Qe("TILDE",`^${Pe[ke.LONETILDE]}${Pe[ke.XRANGEPLAIN]}$`);Qe("TILDELOOSE",`^${Pe[ke.LONETILDE]}${Pe[ke.XRANGEPLAINLOOSE]}$`);Qe("LONECARET","(?:\\^)");Qe("CARETTRIM",`(\\s*)${Pe[ke.LONECARET]}\\s+`,!0);ra.caretTrimReplace="$1^";Qe("CARET",`^${Pe[ke.LONECARET]}${Pe[ke.XRANGEPLAIN]}$`);Qe("CARETLOOSE",`^${Pe[ke.LONECARET]}${Pe[ke.XRANGEPLAINLOOSE]}$`);Qe("COMPARATORLOOSE",`^${Pe[ke.GTLT]}\\s*(${Pe[ke.LOOSEPLAIN]})$|^$`);Qe("COMPARATOR",`^${Pe[ke.GTLT]}\\s*(${Pe[ke.FULLPLAIN]})$|^$`);Qe("COMPARATORTRIM",`(\\s*)${Pe[ke.GTLT]}\\s*(${Pe[ke.LOOSEPLAIN]}|${Pe[ke.XRANGEPLAIN]})`,!0);ra.comparatorTrimReplace="$1$2$3";Qe("HYPHENRANGE",`^\\s*(${Pe[ke.XRANGEPLAIN]})\\s+-\\s+(${Pe[ke.XRANGEPLAIN]})\\s*$`);Qe("HYPHENRANGELOOSE",`^\\s*(${Pe[ke.XRANGEPLAINLOOSE]})\\s+-\\s+(${Pe[ke.XRANGEPLAINLOOSE]})\\s*$`);Qe("STAR","(<|>)?=?\\s*\\*");Qe("GTE0","^\\s*>=\\s*0.0.0\\s*$");Qe("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var mp=T((Fke,Zq)=>{var _ne=["includePrerelease","loose","rtl"],Sne=e=>e?typeof e!="object"?{loose:!0}:_ne.filter(t=>e[t]).reduce((t,r)=>(t[r]=!0,t),{}):{};Zq.exports=Sne});var ay=T((Mke,rj)=>{var ej=/^[0-9]+$/,tj=(e,t)=>{let r=ej.test(e),n=ej.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},xne=(e,t)=>tj(t,e);rj.exports={compareIdentifiers:tj,rcompareIdentifiers:xne}});var Gr=T((qke,sj)=>{var cy=hp(),{MAX_LENGTH:nj,MAX_SAFE_INTEGER:ly}=pp(),{re:ij,t:oj}=xc(),Pne=mp(),{compareIdentifiers:gp}=ay(),fi=class{constructor(t,r){if(r=Pne(r),t instanceof fi){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>nj)throw new TypeError(`version is longer than ${nj} characters`);cy("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?ij[oj.LOOSE]:ij[oj.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ly||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ly||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ly||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<ly)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(cy("SemVer.compare",this.version,this.options,t),!(t instanceof fi)){if(typeof t=="string"&&t===this.version)return 0;t=new fi(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof fi||(t=new fi(t,this.options)),gp(this.major,t.major)||gp(this.minor,t.minor)||gp(this.patch,t.patch)}comparePre(t){if(t instanceof fi||(t=new fi(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(cy("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return gp(n,i)}while(++r)}compareBuild(t){t instanceof fi||(t=new fi(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(cy("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return gp(n,i)}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};sj.exports=fi});var Pc=T((jke,uj)=>{var{MAX_LENGTH:kne}=pp(),{re:aj,t:cj}=xc(),lj=Gr(),Ine=mp(),Tne=(e,t)=>{if(t=Ine(t),e instanceof lj)return e;if(typeof e!="string"||e.length>kne||!(t.loose?aj[cj.LOOSE]:aj[cj.FULL]).test(e))return null;try{return new lj(e,t)}catch{return null}};uj.exports=Tne});var dj=T(($ke,fj)=>{var Ane=Pc(),Dne=(e,t)=>{let r=Ane(e,t);return r?r.version:null};fj.exports=Dne});var hj=T((Uke,pj)=>{var Rne=Pc(),One=(e,t)=>{let r=Rne(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};pj.exports=One});var gj=T((Bke,mj)=>{var Nne=Gr(),Lne=(e,t,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Nne(e,r).inc(t,n).version}catch{return null}};mj.exports=Lne});var di=T((Hke,yj)=>{var vj=Gr(),Fne=(e,t,r)=>new vj(e,r).compare(new vj(t,r));yj.exports=Fne});var uy=T((Vke,wj)=>{var Mne=di(),qne=(e,t,r)=>Mne(e,t,r)===0;wj.exports=qne});var Ej=T((zke,bj)=>{var Cj=Pc(),jne=uy(),$ne=(e,t)=>{if(jne(e,t))return null;{let r=Cj(e),n=Cj(t),i=r.prerelease.length||n.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return o+a;return s}};bj.exports=$ne});var Sj=T((Wke,_j)=>{var Une=Gr(),Bne=(e,t)=>new Une(e,t).major;_j.exports=Bne});var Pj=T((Gke,xj)=>{var Hne=Gr(),Vne=(e,t)=>new Hne(e,t).minor;xj.exports=Vne});var Ij=T((Kke,kj)=>{var zne=Gr(),Wne=(e,t)=>new zne(e,t).patch;kj.exports=Wne});var Aj=T((Yke,Tj)=>{var Gne=Pc(),Kne=(e,t)=>{let r=Gne(e,t);return r&&r.prerelease.length?r.prerelease:null};Tj.exports=Kne});var Rj=T((Jke,Dj)=>{var Yne=di(),Jne=(e,t,r)=>Yne(t,e,r);Dj.exports=Jne});var Nj=T((Qke,Oj)=>{var Qne=di(),Xne=(e,t)=>Qne(e,t,!0);Oj.exports=Xne});var fy=T((Xke,Fj)=>{var Lj=Gr(),Zne=(e,t,r)=>{let n=new Lj(e,r),i=new Lj(t,r);return n.compare(i)||n.compareBuild(i)};Fj.exports=Zne});var qj=T((Zke,Mj)=>{var eie=fy(),tie=(e,t)=>e.sort((r,n)=>eie(r,n,t));Mj.exports=tie});var $j=T((eIe,jj)=>{var rie=fy(),nie=(e,t)=>e.sort((r,n)=>rie(n,r,t));jj.exports=nie});var vp=T((tIe,Uj)=>{var iie=di(),oie=(e,t,r)=>iie(e,t,r)>0;Uj.exports=oie});var dy=T((rIe,Bj)=>{var sie=di(),aie=(e,t,r)=>sie(e,t,r)<0;Bj.exports=aie});var _S=T((nIe,Hj)=>{var cie=di(),lie=(e,t,r)=>cie(e,t,r)!==0;Hj.exports=lie});var py=T((iIe,Vj)=>{var uie=di(),fie=(e,t,r)=>uie(e,t,r)>=0;Vj.exports=fie});var hy=T((oIe,zj)=>{var die=di(),pie=(e,t,r)=>die(e,t,r)<=0;zj.exports=pie});var SS=T((sIe,Wj)=>{var hie=uy(),mie=_S(),gie=vp(),vie=py(),yie=dy(),wie=hy(),Cie=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return hie(e,r,n);case"!=":return mie(e,r,n);case">":return gie(e,r,n);case">=":return vie(e,r,n);case"<":return yie(e,r,n);case"<=":return wie(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};Wj.exports=Cie});var Kj=T((aIe,Gj)=>{var bie=Gr(),Eie=Pc(),{re:my,t:gy}=xc(),_ie=(e,t)=>{if(e instanceof bie)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(my[gy.COERCE]);else{let n;for(;(n=my[gy.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),my[gy.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;my[gy.COERCERTL].lastIndex=-1}return r===null?null:Eie(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};Gj.exports=_ie});var t$=T((cIe,e$)=>{"use strict";var Sie=ld(),kc=Symbol("max"),ns=Symbol("length"),ku=Symbol("lengthCalculator"),yp=Symbol("allowStale"),Ic=Symbol("maxAge"),is=Symbol("dispose"),Yj=Symbol("noDisposeOnSet"),Er=Symbol("lruList"),qi=Symbol("cache"),Jj=Symbol("updateAgeOnGet"),xS=()=>1,Qj=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[kc]=t.max||1/0,n=t.length||xS;if(this[ku]=typeof n!="function"?xS:n,this[yp]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ic]=t.maxAge||0,this[is]=t.dispose,this[Yj]=t.noDisposeOnSet||!1,this[Jj]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[kc]=t||1/0,wp(this)}get max(){return this[kc]}set allowStale(t){this[yp]=!!t}get allowStale(){return this[yp]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Ic]=t,wp(this)}get maxAge(){return this[Ic]}set lengthCalculator(t){typeof t!="function"&&(t=xS),t!==this[ku]&&(this[ku]=t,this[ns]=0,this[Er].forEach(r=>{r.length=this[ku](r.value,r.key),this[ns]+=r.length})),wp(this)}get lengthCalculator(){return this[ku]}get length(){return this[ns]}get itemCount(){return this[Er].length}rforEach(t,r){r=r||this;for(let n=this[Er].tail;n!==null;){let i=n.prev;Zj(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[Er].head;n!==null;){let i=n.next;Zj(this,t,n,r),n=i}}keys(){return this[Er].toArray().map(t=>t.key)}values(){return this[Er].toArray().map(t=>t.value)}reset(){this[is]&&this[Er]&&this[Er].length&&this[Er].forEach(t=>this[is](t.key,t.value)),this[qi]=new Map,this[Er]=new Sie,this[ns]=0}dump(){return this[Er].map(t=>vy(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Er]}set(t,r,n){if(n=n||this[Ic],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[ku](r,t);if(this[qi].has(t)){if(o>this[kc])return Iu(this,this[qi].get(t)),!1;let c=this[qi].get(t).value;return this[is]&&(this[Yj]||this[is](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[ns]+=o-c.length,c.length=o,this.get(t),wp(this),!0}let s=new Xj(t,r,o,i,n);return s.length>this[kc]?(this[is]&&this[is](t,r),!1):(this[ns]+=s.length,this[Er].unshift(s),this[qi].set(t,this[Er].head),wp(this),!0)}has(t){if(!this[qi].has(t))return!1;let r=this[qi].get(t).value;return!vy(this,r)}get(t){return PS(this,t,!0)}peek(t){return PS(this,t,!1)}pop(){let t=this[Er].tail;return t?(Iu(this,t),t.value):null}del(t){Iu(this,this[qi].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[qi].forEach((t,r)=>PS(this,r,!1))}},PS=(e,t,r)=>{let n=e[qi].get(t);if(n){let i=n.value;if(vy(e,i)){if(Iu(e,n),!e[yp])return}else r&&(e[Jj]&&(n.value.now=Date.now()),e[Er].unshiftNode(n));return i.value}},vy=(e,t)=>{if(!t||!t.maxAge&&!e[Ic])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Ic]&&r>e[Ic]},wp=e=>{if(e[ns]>e[kc])for(let t=e[Er].tail;e[ns]>e[kc]&&t!==null;){let r=t.prev;Iu(e,t),t=r}},Iu=(e,t)=>{if(t){let r=t.value;e[is]&&e[is](r.key,r.value),e[ns]-=r.length,e[qi].delete(r.key),e[Er].removeNode(t)}},Xj=class{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},Zj=(e,t,r,n)=>{let i=r.value;vy(e,i)&&(Iu(e,r),e[yp]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e$.exports=Qj});var pi=T((lIe,o$)=>{var Tu=class{constructor(t,r){if(r=Pie(r),t instanceof Tu)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new Tu(t.raw,r);if(t instanceof kS)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!n$(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Die(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${t}`,i=r$.get(n);if(i)return i;let o=this.options.loose,s=o?Kr[Ar.HYPHENRANGELOOSE]:Kr[Ar.HYPHENRANGE];t=t.replace(s,Uie(this.options.includePrerelease)),er("hyphen replace",t),t=t.replace(Kr[Ar.COMPARATORTRIM],Iie),er("comparator trim",t,Kr[Ar.COMPARATORTRIM]),t=t.replace(Kr[Ar.TILDETRIM],Tie),t=t.replace(Kr[Ar.CARETTRIM],Aie),t=t.split(/\s+/).join(" ");let a=o?Kr[Ar.COMPARATORLOOSE]:Kr[Ar.COMPARATOR],c=t.split(" ").map(d=>Rie(d,this.options)).join(" ").split(/\s+/).map(d=>$ie(d,this.options)).filter(this.options.loose?d=>!!d.match(a):()=>!0).map(d=>new kS(d,this.options)),l=c.length,u=new Map;for(let d of c){if(n$(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let f=[...u.values()];return r$.set(n,f),f}intersects(t,r){if(!(t instanceof Tu))throw new TypeError("a Range is required");return this.set.some(n=>i$(n,r)&&t.set.some(i=>i$(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new kie(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Bie(this.set[r],t,this.options))return!0;return!1}};o$.exports=Tu;var xie=t$(),r$=new xie({max:1e3}),Pie=mp(),kS=Cp(),er=hp(),kie=Gr(),{re:Kr,t:Ar,comparatorTrimReplace:Iie,tildeTrimReplace:Tie,caretTrimReplace:Aie}=xc(),n$=e=>e.value==="<0.0.0-0",Die=e=>e.value==="",i$=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,t)),i=n.pop();return r},Rie=(e,t)=>(er("comp",e,t),e=Lie(e,t),er("caret",e),e=Oie(e,t),er("tildes",e),e=Mie(e,t),er("xrange",e),e=jie(e,t),er("stars",e),e),Zr=e=>!e||e.toLowerCase()==="x"||e==="*",Oie=(e,t)=>e.trim().split(/\s+/).map(r=>Nie(r,t)).join(" "),Nie=(e,t)=>{let r=t.loose?Kr[Ar.TILDELOOSE]:Kr[Ar.TILDE];return e.replace(r,(n,i,o,s,a)=>{er("tilde",e,n,i,o,s,a);let c;return Zr(i)?c="":Zr(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Zr(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(er("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,er("tilde return",c),c})},Lie=(e,t)=>e.trim().split(/\s+/).map(r=>Fie(r,t)).join(" "),Fie=(e,t)=>{er("caret",e,t);let r=t.loose?Kr[Ar.CARETLOOSE]:Kr[Ar.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,o,s,a,c)=>{er("caret",e,i,o,s,a,c);let l;return Zr(o)?l="":Zr(s)?l=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Zr(a)?o==="0"?l=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(er("replaceCaret pr",c),o==="0"?s==="0"?l=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(er("no pr"),o==="0"?s==="0"?l=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),er("caret return",l),l})},Mie=(e,t)=>(er("replaceXRanges",e,t),e.split(/\s+/).map(r=>qie(r,t)).join(" ")),qie=(e,t)=>{e=e.trim();let r=t.loose?Kr[Ar.XRANGELOOSE]:Kr[Ar.XRANGE];return e.replace(r,(n,i,o,s,a,c)=>{er("xRange",e,n,i,o,s,a,c);let l=Zr(o),u=l||Zr(s),f=u||Zr(a),d=f;return i==="="&&d&&(i=""),c=t.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&d?(u&&(s=0),a=0,i===">"?(i=">=",u?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",u?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):u?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),er("xRange return",n),n})},jie=(e,t)=>(er("replaceStars",e,t),e.trim().replace(Kr[Ar.STAR],"")),$ie=(e,t)=>(er("replaceGTE0",e,t),e.trim().replace(Kr[t.includePrerelease?Ar.GTE0PRE:Ar.GTE0],"")),Uie=e=>(t,r,n,i,o,s,a,c,l,u,f,d,p)=>(Zr(n)?r="":Zr(i)?r=`>=${n}.0.0${e?"-0":""}`:Zr(o)?r=`>=${n}.${i}.0${e?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Zr(l)?c="":Zr(u)?c=`<${+l+1}.0.0-0`:Zr(f)?c=`<${l}.${+u+1}.0-0`:d?c=`<=${l}.${u}.${f}-${d}`:e?c=`<${l}.${u}.${+f+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),Bie=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(er(e[n].semver),e[n].semver!==kS.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var Cp=T((uIe,u$)=>{var bp=Symbol("SemVer ANY"),Ep=class{static get ANY(){return bp}constructor(t,r){if(r=Hie(r),t instanceof Ep){if(t.loose===!!r.loose)return t;t=t.value}TS("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===bp?this.value="":this.value=this.operator+this.semver.version,TS("comp",this)}parse(t){let r=this.options.loose?s$[a$.COMPARATORLOOSE]:s$[a$.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new c$(n[2],this.options.loose):this.semver=bp}toString(){return this.value}test(t){if(TS("Comparator.test",t,this.options.loose),this.semver===bp||t===bp)return!0;if(typeof t=="string")try{t=new c$(t,this.options)}catch{return!1}return IS(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof Ep))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new l$(t.value,r).test(this.value);if(t.operator==="")return t.value===""?!0:new l$(this.value,r).test(t.semver);let n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=IS(this.semver,"<",t.semver,r)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),c=IS(this.semver,">",t.semver,r)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||i||o&&s||a||c}};u$.exports=Ep;var Hie=mp(),{re:s$,t:a$}=xc(),IS=SS(),TS=hp(),c$=Gr(),l$=pi()});var _p=T((fIe,f$)=>{var Vie=pi(),zie=(e,t,r)=>{try{t=new Vie(t,r)}catch{return!1}return t.test(e)};f$.exports=zie});var p$=T((dIe,d$)=>{var Wie=pi(),Gie=(e,t)=>new Wie(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));d$.exports=Gie});var m$=T((pIe,h$)=>{var Kie=Gr(),Yie=pi(),Jie=(e,t,r)=>{let n=null,i=null,o=null;try{o=new Yie(t,r)}catch{return null}return e.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new Kie(n,r))}),n};h$.exports=Jie});var v$=T((hIe,g$)=>{var Qie=Gr(),Xie=pi(),Zie=(e,t,r)=>{let n=null,i=null,o=null;try{o=new Xie(t,r)}catch{return null}return e.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new Qie(n,r))}),n};g$.exports=Zie});var C$=T((mIe,w$)=>{var AS=Gr(),eoe=pi(),y$=vp(),toe=(e,t)=>{e=new eoe(e,t);let r=new AS("0.0.0");if(e.test(r)||(r=new AS("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],o=null;i.forEach(s=>{let a=new AS(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||y$(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||y$(r,o))&&(r=o)}return r&&e.test(r)?r:null};w$.exports=toe});var E$=T((gIe,b$)=>{var roe=pi(),noe=(e,t)=>{try{return new roe(e,t).range||"*"}catch{return null}};b$.exports=noe});var yy=T((vIe,P$)=>{var ioe=Gr(),_$=Cp(),{ANY:ooe}=_$,soe=pi(),aoe=_p(),S$=vp(),x$=dy(),coe=hy(),loe=py(),uoe=(e,t,r,n)=>{e=new ioe(e,n),t=new soe(t,n);let i,o,s,a,c;switch(r){case">":i=S$,o=coe,s=x$,a=">",c=">=";break;case"<":i=x$,o=loe,s=S$,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(aoe(e,t,n))return!1;for(let l=0;l<t.set.length;++l){let u=t.set[l],f=null,d=null;if(u.forEach(p=>{p.semver===ooe&&(p=new _$(">=0.0.0")),f=f||p,d=d||p,i(p.semver,f.semver,n)?f=p:s(p.semver,d.semver,n)&&(d=p)}),f.operator===a||f.operator===c||(!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0};P$.exports=uoe});var I$=T((yIe,k$)=>{var foe=yy(),doe=(e,t,r)=>foe(e,t,">",r);k$.exports=doe});var A$=T((wIe,T$)=>{var poe=yy(),hoe=(e,t,r)=>poe(e,t,"<",r);T$.exports=hoe});var O$=T((CIe,R$)=>{var D$=pi(),moe=(e,t,r)=>(e=new D$(e,r),t=new D$(t,r),e.intersects(t));R$.exports=moe});var L$=T((bIe,N$)=>{var goe=_p(),voe=di();N$.exports=(e,t,r)=>{let n=[],i=null,o=null,s=e.sort((u,f)=>voe(u,f,r));for(let u of s)goe(u,t,r)?(o=u,i||(i=u)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[u,f]of n)u===f?a.push(u):!f&&u===s[0]?a.push("*"):f?u===s[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t}});var $$=T((EIe,j$)=>{var F$=pi(),wy=Cp(),{ANY:DS}=wy,Sp=_p(),RS=di(),yoe=(e,t,r={})=>{if(e===t)return!0;e=new F$(e,r),t=new F$(t,r);let n=!1;e:for(let i of e.set){for(let o of t.set){let s=woe(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},woe=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===DS){if(t.length===1&&t[0].semver===DS)return!0;r.includePrerelease?e=[new wy(">=0.0.0-0")]:e=[new wy(">=0.0.0")]}if(t.length===1&&t[0].semver===DS){if(r.includePrerelease)return!0;t=[new wy(">=0.0.0")]}let n=new Set,i,o;for(let p of e)p.operator===">"||p.operator===">="?i=M$(i,p,r):p.operator==="<"||p.operator==="<="?o=q$(o,p,r):n.add(p.semver);if(n.size>1)return null;let s;if(i&&o){if(s=RS(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!Sp(p,String(i),r)||o&&!Sp(p,String(o),r))return null;for(let h of t)if(!Sp(p,String(h),r))return!1;return!0}let a,c,l,u,f=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&o.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let p of t){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator===">"||p.operator===">="){if(a=M$(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!Sp(i.semver,String(p),r))return!1}if(o){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(c=q$(o,p,r),c===p&&c!==o)return!1}else if(o.operator==="<="&&!Sp(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&l&&!o&&s!==0||o&&u&&!i&&s!==0||d||f)},M$=(e,t,r)=>{if(!e)return t;let n=RS(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},q$=(e,t,r)=>{if(!e)return t;let n=RS(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};j$.exports=yoe});var B$=T((_Ie,U$)=>{var OS=xc();U$.exports={re:OS.re,src:OS.src,tokens:OS.t,SEMVER_SPEC_VERSION:pp().SEMVER_SPEC_VERSION,SemVer:Gr(),compareIdentifiers:ay().compareIdentifiers,rcompareIdentifiers:ay().rcompareIdentifiers,parse:Pc(),valid:dj(),clean:hj(),inc:gj(),diff:Ej(),major:Sj(),minor:Pj(),patch:Ij(),prerelease:Aj(),compare:di(),rcompare:Rj(),compareLoose:Nj(),compareBuild:fy(),sort:qj(),rsort:$j(),gt:vp(),lt:dy(),eq:uy(),neq:_S(),gte:py(),lte:hy(),cmp:SS(),coerce:Kj(),Comparator:Cp(),Range:pi(),satisfies:_p(),toComparators:p$(),maxSatisfying:m$(),minSatisfying:v$(),minVersion:C$(),validRange:E$(),outside:yy(),gtr:I$(),ltr:A$(),intersects:O$(),simplifyRange:L$(),subset:$$()}});var vi,or,sr,ar,Np,Hn,ju,$u,Uy,Uu,_o,By=je(()=>{vi="function",or="object",sr="undefined",ar="prototype",Np="hasOwnProperty",Hn=Object,ju=Hn[ar],$u=Hn.assign,Uy=Hn.create,Uu=Hn.defineProperty,_o=ju[Np]});function $i(e){return e===void 0&&(e=!0),(!Bu||!e)&&(typeof globalThis!==sr&&globalThis&&(Bu=globalThis),typeof self!==sr&&self&&(Bu=self),typeof window!==sr&&window&&(Bu=window),typeof global!==sr&&global&&(Bu=global)),Bu}function Hu(e){throw new TypeError(e)}function So(e){var t=Uy;if(t)return t(e);if(e==null)return{};var r=typeof e;r!==or&&r!==vi&&Hu("Object prototype may only be an Object:"+e);function n(){}return n[ar]=e,new n}var Bu,ix=je(()=>{By();Bu=null});function Ui(e,t){typeof t!==vi&&t!==null&&Hu("Class extends value "+String(t)+" is not a constructor or null"),ox(e,t);function r(){this.constructor=e}e[ar]=t===null?So(t):(r[ar]=t[ar],new r)}function Vy(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}var tRe,rRe,tse,Hy,ox,UU=je(()=>{By();ix();tRe=($i()||{}).Symbol,rRe=($i()||{}).Reflect,tse=function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)ju[Np].call(t,i)&&(e[i]=t[i])}return e},Hy=$u||tse,ox=function(e,t){return ox=Hn.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[Np](i)&&(r[i]=n[i])},ox(e,t)}});var BU=je(()=>{});var gn=je(()=>{By();ix();UU();BU()});var sx,HU=je(()=>{"use strict";sx=100});var vt,zy,ax,Lp,as,yi,Bi,cx,Fp,Vu,Lc,Wy,Gy,VU,Fc,Mc,zu,Wu,Gu,Mp,vn=je(()=>{vt="",zy="processTelemetry",ax="priority",Lp="setNextPlugin",as="isInitialized",yi="teardown",Bi="core",cx="update",Fp="disabled",Vu="_doTeardown",Lc="processNext",Wy="resume",Gy="pause",VU="NotificationListener",Fc="add"+VU,Mc="remove"+VU,zu="eventsSent",Wu="eventsDiscarded",Gu="eventsSendRequest",Mp="perfEvent"});function hse(e){if(e){if(Yy)return Yy(e);var t=e[rse]||e[ar]||e[Ky];if(t)return t}return null}function Ku(e,t){return typeof e===t}function pt(e){return e===void 0||typeof e===sr}function Ge(e){return e===null||pt(e)}function px(e){return!Ge(e)}function xo(e,t){return!!(e&&_o.call(e,t))}function Rr(e){return!!(e&&typeof e===or)}function rt(e){return!!(e&&typeof e===vi)}function qc(e){var t=e;return t&&Gt(t)&&(t=t.replace(fse,function(r,n){return n.toUpperCase()}),t=t.replace(dse,"_"),t=t.replace(pse,function(r,n){return"_"+n})),t}function Ot(e,t){if(e)for(var r in e)_o.call(e,r)&&t.call(e,r,e[r])}function jc(e,t){var r=!1;return e&&t&&!(r=e===t)&&(r=ose?e[WU](t):mse(e,t)),r}function mse(e,t){var r=!1,n=t?t.length:0,i=e?e.length:0;if(n&&i&&i>=n&&!(r=e===t)){for(var o=i-1,s=n-1;s>=0;s--){if(e[o]!=t[s])return!1;o--}r=!0}return r}function Yu(e,t){var r=!1;return e&&t&&!(r=e===t)&&(r=sse?e[GU](t):gse(e,t)),r}function gse(e,t){var r=!1,n=t?t.length:0;if(e&&n&&e.length>=n&&!(r=e===t)){for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;r=!0}return r}function tr(e,t){return e&&t?e.indexOf(t)!==-1:!1}function Ju(e){return!!(e&&dx.call(e)==="[object Date]")}function vse(e){return!!(e&&dx.call(e)==="[object Array]")}function $c(e){return!!(e&&dx.call(e)==="[object Error]")}function Gt(e){return typeof e=="string"}function yn(e){return typeof e=="number"}function cs(e){return typeof e=="boolean"}function t2(e){var t=!1;if(e&&typeof e=="object"){var r=Yy?Yy(e):hse(e);r?(r[Ky]&&_o.call(r,Ky)&&(r=r[Ky]),t=typeof r===vi&&e2.call(r)===use):t=!0}return t}function wi(e){if(e)return cse?e[zU]():yse(e)}function yse(e){if(e&&e.getUTCFullYear){var t=function(r){var n=String(r);return n.length===1&&(n="0"+n),n};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Ce(e,t,r){var n=e.length;try{for(var i=0;i<n&&!(i in e&&t.call(r||e,e[i],i,e)===-1);i++);}catch{}}function hr(e,t,r){if(e){if(e[KU])return e[KU](t,r);var n=e.length,i=r||0;try{for(var o=Math.max(i>=0?i:n-Math.abs(i),0);o<n;o++)if(o in e&&e[o]===t)return o}catch{}}return-1}function Uc(e,t,r){var n;if(e){if(e[YU])return e[YU](t,r);var i=e.length,o=r||e;n=new Array(i);try{for(var s=0;s<i;s++)s in e&&(n[s]=t.call(o,e[s],e))}catch{}}return n}function Bc(e,t,r){var n;if(e){if(e[JU])return e[JU](t,r);var i=e.length,o=0;if(arguments.length>=3)n=arguments[2];else{for(;o<i&&!(o in e);)o++;n=e[o++]}for(;o<i;)o in e&&(n=t(n,e[o],o,e)),o++}return n}function Nt(e){return e&&(e=ise&&e[lx]?e[lx]():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}function en(e){var t=typeof e;if(t!==vi&&(t!==or||e===null)&&Hu("objKeys called on non-object"),!r2&&ZU)return ZU(e);var r=[];for(var n in e)e&&_o.call(e,n)&&r.push(n);if(r2)for(var i=hx.length,o=0;o<i;o++)e&&_o.call(e,hx[o])&&r.push(hx[o]);return r}function Vn(e,t,r,n){if(XU)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),XU(e,t,i),!0}catch{}return!1}function n2(e){return e}function mx(e){return ux&&Ot(e,function(t,r){(Je(r)||Rr(r))&&ux(r)}),wn(e)}function mr(){var e=Date;return e.now?e.now():new e().getTime()}function Hc(e){return $c(e)?e.name:vt}function gr(e,t,r,n,i){var o=r;return e&&(o=e[t],o!==r&&(!i||i(o))&&(!n||n(r))&&(o=r,e[t]=o)),o}function qp(e,t,r){var n;return e?(n=e[t],!n&&Ge(n)&&(n=pt(r)?{}:r,e[t]=n)):n=pt(r)?{}:r,n}function Qu(e){return!e}function Xu(e){return!!e}function Or(e){throw new Error(e)}function i2(e,t){var r=null,n=null;return rt(e)?r=e:n=e,function(){var i=arguments;if(r&&(n=r()),n)return n[t].apply(n,i)}}function vx(e,t,r){if(e&&t&&Rr(e)&&Rr(t)){var n=function(o){if(Gt(o)){var s=t[o];rt(s)?(!r||r(o,!0,t,e))&&(e[o]=i2(t,o)):(!r||r(o,!1,t,e))&&(xo(e,o)&&delete e[o],Vn(e,o,function(){return t[o]},function(a){t[o]=a})||(e[o]=s))}};for(var i in t)n(i)}return e}function aa(e,t,r,n,i){e&&t&&r&&(i!==!1||pt(e[t]))&&(e[t]=i2(r,n))}function Vc(e,t,r,n){return e&&t&&Rr(e)&&Je(r)&&Ce(r,function(i){Gt(i)&&aa(e,i,t,i,n)}),e}function ls(e){return e&&$u&&(e=Hn($u({},e))),e}function Zu(e,t,r,n,i,o){var s=arguments,a=s[0]||{},c=s.length,l=!1,u=1;for(c>0&&cs(a)&&(l=a,a=s[u]||{},u++),Rr(a)||(a={});u<c;u++){var f=s[u],d=Je(f),p=Rr(f);for(var h in f){var m=d&&h in f||p&&_o.call(f,h);if(!!m){var g=f[h],v=void 0;if(l&&g&&((v=Je(g))||t2(g))){var y=a[h];v?Je(y)||(y=[]):t2(y)||(y={}),g=Zu(l,y,g)}g!==void 0&&(a[h]=g)}}}return a}var zU,WU,GU,KU,YU,JU,lx,QU,rse,Ky,XU,ux,nse,ZU,fx,ise,ose,sse,ase,cse,lse,dx,e2,use,fse,dse,pse,Yy,Je,r2,hx,wn,gx,rr=je(()=>{gn();vn();zU="toISOString",WU="endsWith",GU="startsWith",KU="indexOf",YU="map",JU="reduce",lx="trim",QU="toString",rse="__proto__",Ky="constructor",XU=Uu,ux=Hn.freeze,nse=Hn.seal,ZU=Hn.keys,fx=String[ar],ise=fx[lx],ose=fx[WU],sse=fx[GU],ase=Date[ar],cse=ase[zU],lse=Array.isArray,dx=ju[QU],e2=_o[QU],use=e2.call(Hn),fse=/-([a-z])/g,dse=/([^\w\d_$])/g,pse=/^(\d+[\w\d_$])/,Yy=Object.getPrototypeOf;Je=lse||vse;r2=!{toString:null}.propertyIsEnumerable("toString"),hx=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];wn=ux||n2,gx=nse||n2});function tn(e){var t={};return Ot(e,function(r,n){t[r]=n,t[n]=r}),mx(t)}var Jy=je(()=>{rr()});var Hi,o2=je(()=>{Jy();Hi=tn({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function fs(e,t){return e&&tw[us].hasOwnProperty.call(e,t)}function d2(e){return e&&(e===tw[us]||e===Array[us])}function Ex(e){return d2(e)||e===Function[us]}function zc(e){var t;if(e){if($p)return $p(e);var r=e[c2]||e[us]||(e[Qy]?e[Qy][us]:null);t=e[ew]||r,fs(e,ew)||(delete e[Cx],t=e[ew]=e[Cx]||e[ew],e[Cx]=r)}return t}function rw(e,t){var r=[];if(u2)r=u2(e);else for(var n in e)typeof n=="string"&&fs(e,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function _x(e,t,r){return t!==Qy&&typeof e[t]===Xy&&(r||fs(e,t))}function nw(e){throw new TypeError("DynamicProto: "+e)}function Cse(e){var t={};return rw(e,function(r){!t[r]&&_x(e,r,!1)&&(t[r]=e[r])}),t}function Sx(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}function bse(e,t,r,n){function i(c,l,u){var f=l[u];if(f[yx]&&n){var d=c[Zy]||{};d[jp]!==!1&&(f=(d[l[ef]]||{})[u]||f)}return function(){return f.apply(c,arguments)}}var o={};rw(r,function(c){o[c]=i(t,r,c)});for(var s=zc(e),a=[];s&&!Ex(s)&&!Sx(a,s);)rw(s,function(c){!o[c]&&_x(s,c,!$p)&&(o[c]=i(t,s,c))}),a.push(s),s=zc(s);return o}function Ese(e,t,r,n){var i=null;if(e&&fs(r,ef)){var o=e[Zy]||{};if(i=(o[r[ef]]||{})[t],i||nw("Missing ["+t+"] "+Xy),!i[wx]&&o[jp]!==!1){for(var s=!fs(e,t),a=zc(e),c=[];s&&a&&!Ex(a)&&!Sx(c,a);){var l=a[t];if(l){s=l===n;break}c.push(a),a=zc(a)}try{s&&(e[t]=i),i[wx]=1}catch{o[jp]=!1}}}return i}function _se(e,t,r){var n=t[e];return n===r&&(n=zc(t)[e]),typeof n!==Xy&&nw("["+e+"] is not a "+Xy),n}function Sse(e,t,r,n,i){function o(c,l){var u=function(){var f=Ese(this,l,c,u)||_se(l,c,u);return f.apply(this,arguments)};return u[yx]=1,u}if(!d2(e)){var s=r[Zy]=r[Zy]||{},a=s[t]=s[t]||{};s[jp]!==!1&&(s[jp]=!!i),rw(r,function(c){_x(r,c,!1)&&r[c]!==n[c]&&(a[c]=r[c],delete r[c],(!fs(e,c)||e[c]&&!e[c][yx])&&(e[c]=o(e,c)))})}}function xse(e,t){if($p){for(var r=[],n=zc(t);n&&!Ex(n)&&!Sx(r,n);){if(n===e)return!0;r.push(n),n=zc(n)}return!1}return!0}function xx(e,t){return fs(e,us)?e.name||t||a2:((e||{})[Qy]||{}).name||t||a2}function ft(e,t,r,n){fs(e,us)||nw("theClass is an invalid class definition.");var i=e[us];xse(i,t)||nw("["+xx(e)+"] is not in class hierarchy of ["+xx(t)+"]");var o=null;fs(i,ef)?o=i[ef]:(o=wse+xx(e,"_")+"$"+f2,f2++,i[ef]=o);var s=ft[s2],a=!!s[bx];a&&n&&n[bx]!==void 0&&(a=!!n[bx]);var c=Cse(t),l=bse(i,t,c,a);r(t,l);var u=!!$p&&!!s[l2];u&&n&&(u=!!n[l2]),Sse(i,o,t,c,u!==!1)}var Qy,us,Xy,Zy,yx,ef,wse,wx,jp,s2,a2,c2,ew,Cx,bx,l2,tw,$p,u2,f2,Pse,Nr=je(()=>{Qy="constructor",us="prototype",Xy="function",Zy="_dynInstFuncs",yx="_isDynProxy",ef="_dynClass",wse="_dynCls$",wx="_dynInstChk",jp=wx,s2="_dfOpts",a2="_unknown_",c2="__proto__",ew="_dyn"+c2,Cx="_dynInstProto",bx="useBaseInst",l2="setInstFuncs",tw=Object,$p=tw.getPrototypeOf,u2=tw.getOwnPropertyNames,f2=0;Pse={setInstFuncs:!0,useBaseInst:!0};ft[s2]=Pse});function v2(e,t){var r=!1;if(e){try{if(r=t in e,!r){var n=e[ar];n&&(r=t in n)}}catch{}if(!r)try{var i=new e;r=!pt(i[t])}catch{}}return r}function Dx(e){g2=e}function Kt(e){var t=$i();return t&&t[e]?t[e]:e===p2&&Up()?window:null}function Up(){return Boolean(typeof window===or&&window)}function Po(){return Up()?window:Kt(p2)}function iw(){return Boolean(typeof document===or&&document)}function Cn(){return iw()?document:Kt(kse)}function Bp(){return Boolean(typeof navigator===or&&navigator)}function zn(){return Bp()?navigator:Kt(Tse)}function ow(){return Boolean(typeof history===or&&history)}function Rx(){return ow()?history:Kt(Ase)}function Wc(e){if(e&&g2){var t=Kt("__mockLocation");if(t)return t}return typeof location===or&&location?location:Kt(Dse)}function Hp(){return typeof console!==sr?console:Kt(Rse)}function rf(){return Kt(Ose)}function Gc(){return Boolean(typeof JSON===or&&JSON||Kt(h2)!==null)}function nf(){return Gc()?JSON||Kt(h2):null}function Vp(){return Kt(Nse)}function zp(){return Kt(Lse)}function ds(){var e=zn();return e&&e.product?e.product===Fse:!1}function Vi(){var e=zn();if(e&&(e.userAgent!==Tx||Ix===null)){Tx=e.userAgent;var t=(Tx||vt).toLowerCase();Ix=tr(t,Px)||tr(t,kx)}return Ix}function Ox(e){if(e===void 0&&(e=null),!e){var t=zn()||{};e=t?(t.userAgent||vt).toLowerCase():vt}var r=(e||vt).toLowerCase();if(tr(r,Px)){var n=Cn()||{};return Math.max(parseInt(r.split(Px)[1]),n[Ise]||0)}else if(tr(r,kx)){var i=parseInt(r.split(kx)[1]);if(i)return i+4}return null}function Bt(e){var t=Object[ar].toString.call(e),r=vt;return t==="[object Error]"?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Gc()&&(r=nf().stringify(e)),t+r}function ca(){return Ax===null&&(Ax=Bp()&&Boolean(zn().sendBeacon)),Ax}function Wp(e){var t=!1;try{t=!!Kt("fetch");var r=Kt("Request");t&&e&&r&&(t=v2(r,"keepalive"))}catch{}return t}function Kc(){return tf===null&&(tf=typeof XDomainRequest!==sr,tf&&of()&&(tf=tf&&!v2(Kt(m2),"withCredentials"))),tf}function of(){var e=!1;try{var t=Kt(m2);e=!!t}catch{}return e}function y2(e,t){if(e)for(var r=0;r<e.length;r++){var n=e[r];if(n.name&&n.name===t)return n}return{}}function Nx(e){var t=Cn();return t&&e?y2(t.querySelectorAll("meta"),e).content:null}function Lx(e){var t,r=rf();if(r){var n=r.getEntriesByType("navigation")||[];t=y2((n.length>0?n[0]:{}).serverTiming,e).description}return t}var p2,kse,Ise,Tse,Ase,Dse,Rse,Ose,h2,Nse,Lse,Fse,Px,kx,m2,Ix,Tx,g2,tf,Ax,Ci=je(()=>{gn();vn();rr();"use strict";p2="window",kse="document",Ise="documentMode",Tse="navigator",Ase="history",Dse="location",Rse="console",Ose="performance",h2="JSON",Nse="crypto",Lse="msCrypto",Fse="ReactNative",Px="msie",kx="trident/",m2="XMLHttpRequest",Ix=null,Tx=null,g2=!1,tf=null,Ax=null});function Mse(e,t){return function(){var r=arguments,n=Mx(t);if(n){var i=n.listener;i&&i[e]&&i[e].apply(i,r)}}}function qse(){var e=Kt("Microsoft");return e&&(sw=e.ApplicationInsights),sw}function Mx(e){var t=sw;return!t&&e.disableDbgExt!==!0&&(t=sw||qse()),t?t.ChromeDbgExt:null}function w2(e){if(!aw){aw={};for(var t=0;t<Fx.length;t++)aw[Fx[t]]=Mse(Fx[t],e)}return aw}var Fx,sw,aw,qx=je(()=>{Ci();Fx=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],sw=null});function C2(e){return e?'"'+e.replace(/\"/g,vt)+'"':vt}function b2(e,t){var r=Hp();if(r){var n="log";r[e]&&(n=e),rt(r[n])&&r[n](t)}}function Gp(e,t){return(e||{}).logger||new bi(t)}function Vse(e){return e||new bi}function Yt(e,t,r,n,i,o){o===void 0&&(o=!1),(e||new bi).throwInternal(t,r,n,i,o)}function jx(e,t){Vse(e).warnToConsole(t)}var jse,$se,Use,Bse,Hse,Yc,bi,la=je(()=>{Ci();Nr();rr();qx();vn();"use strict";jse="AI (Internal): ",$se="AI: ",Use="AITR_",Bse="errorToConsole",Hse="warnToConsole";Yc=function(){function e(t,r,n,i){n===void 0&&(n=!1);var o=this;o.messageId=t,o.message=(n?$se:jse)+t;var s=vt;Gc()&&(s=nf().stringify(i));var a=(r?" message:"+C2(r):vt)+(i?" props:"+C2(s):vt);o.message+=a}return e.dataType="MessageData",e}();bi=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};ft(e,this,function(i){Ge(t)&&(t={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(c,l,u,f,d){d===void 0&&(d=!1);var p=new Yc(l,u,d,f);if(i.enableDebugExceptions())throw Bt(p);var h=c===1?Bse:Hse;if(pt(p.message))a("throw"+(c===1?"Critical":"Warning"),p);else{var m=i.consoleLoggingLevel();if(d){var g=+p.messageId;!n[g]&&m>=c&&(i[h](p.message),n[g]=!0)}else m>=c&&i[h](p.message);i.logInternalMessage(c,p)}},i.warnToConsole=function(c){b2("warn",c),a("warning",c)},i.errorToConsole=function(c){b2("error",c),a("error",c)},i.resetInternalMessageCount=function(){r=0,n={}},i.logInternalMessage=function(c,l){if(!s()){var u=!0,f=Use+l.messageId;if(n[f]?u=!1:n[f]=!0,u&&(c<=i.telemetryLoggingLevel()&&(i.queue.push(l),r++,a(c===1?"error":"warn",l)),r===i.maxInternalMessageLimit())){var d="Internal events throttle limit per PageView reached for this app.",p=new Yc(23,d,!1);i.queue.push(p),c===1?i.errorToConsole(d):i.warnToConsole(d)}}};function o(c,l){var u=t[c];return Ge(u)?l:u}function s(){return r>=i.maxInternalMessageLimit()}function a(c,l){var u=Mx(t);u&&u.diagLog&&u.diagLog(c,l)}})}return e}()});function Xt(e,t,r,n,i){if(e){var o=e;if(rt(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s=void 0,a=o.getCtx($x);try{if(s=o.create(t(),n,i),s){if(a&&s.setCtx&&(s.setCtx(Jc.ParentContextKey,a),a.getCtx&&a.setCtx)){var c=a.getCtx(Jc.ChildrenContextKey);c||(c=[],a.setCtx(Jc.ChildrenContextKey,c)),c.push(s)}return o.setCtx($x,s),r(s)}}catch(l){s&&s.setCtx&&s.setCtx("exception",l)}finally{s&&o.fire(s),o.setCtx($x,a)}}}return r()}function Ux(){return zse}var sf,zse,Jc,Kp,$x,Yp=je(()=>{Nr();rr();sf="ctx",zse=null,Jc=function(){function e(t,r,n){var i=this,o=!1;if(i.start=mr(),i.name=t,i.isAsync=n,i.isChildEvt=function(){return!1},rt(r)){var s;o=Vn(i,"payload",function(){return!s&&rt(r)&&(s=r(),r=null),s})}i.getCtx=function(a){return a?a===e.ParentContextKey||a===e.ChildrenContextKey?i[a]:(i[sf]||{})[a]:null},i.setCtx=function(a,c){if(a)if(a===e.ParentContextKey)i[a]||(i.isChildEvt=function(){return!0}),i[a]=c;else if(a===e.ChildrenContextKey)i[a]=c;else{var l=i[sf]=i[sf]||{};l[a]=c}},i.complete=function(){var a=0,c=i.getCtx(e.ChildrenContextKey);if(Je(c))for(var l=0;l<c.length;l++){var u=c[l];u&&(a+=u.time)}i.time=mr()-i.start,i.exTime=i.time-a,i.complete=function(){},!o&&rt(r)&&(i.payload=r())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Kp=function(){function e(t){this.ctx={},ft(e,this,function(r){r.create=function(n,i,o){return new Jc(n,i,o)},r.fire=function(n){n&&(n.complete(),t&&rt(t.perfEvent)&&t.perfEvent(n))},r.setCtx=function(n,i){if(n){var o=r[sf]=r[sf]||{};o[n]=i}},r.getCtx=function(n){return(r[sf]||{})[n]}})}return e}(),$x="CoreUtils.doPerf"});function S2(e){e<0&&(e>>>=0),Jp=123456789+e&ua,Qp=987654321-e&ua,_2=!0}function x2(){try{var e=mr()&2147483647;S2((Math.random()*E2^e)+e)}catch{}}function Qc(e){return e>0?Math.floor(zi()/ua*(e+1))>>>0:0}function zi(e){var t=0,r=Vp()||zp();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&ua),t===0&&Vi()&&(_2||x2(),t=Xp()&ua),t===0&&(t=Math.floor(E2*Math.random()|0)),e||(t>>>=0),t}function cw(e){e?S2(e):x2()}function Xp(e){Qp=36969*(Qp&65535)+(Qp>>16)&ua,Jp=18e3*(Jp&65535)+(Jp>>16)&ua;var t=(Qp<<16)+(Jp&65535)>>>0&ua|0;return e||(t>>>=0),t}function fa(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=zi()>>>0,n=0,i=vt;i.length<e;)n++,i+=t.charAt(r&63),r>>>=6,n===5&&(r=(zi()<<2&4294967295|r&3)>>>0,n=0);return i}var E2,ua,_2,Jp,Qp,lw=je(()=>{Ci();rr();vn();E2=4294967296,ua=4294967295,_2=!1,Jp=123456789,Qp=987654321});function Kse(e,t,r){if(P2)try{return P2(e,t,{value:r,enumerable:!1,configurable:!0}),!0}catch{}return!1}function I2(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}function Yse(e,t){var r=t[e.id];if(!r){r={};try{I2(t)&&(Kse(t,e.id,r)||(t[e.id]=r))}catch{}}return r}function Wi(e,t){return t===void 0&&(t=!1),qc(e+Gse+++(t?"."+k2:"")+Wse)}function uw(e){var t={id:Wi("_aiData-"+(e||"")+"."+k2),accept:function(r){return I2(r)},get:function(r,n,i,o){var s=r[t.id];return s?s[qc(n)]:(o&&(s=Yse(t,r),s[qc(n)]=i),i)},kill:function(r,n){if(r&&r[n])try{delete r[n]}catch{}}};return t}var P2,k2,Wse,Gse,Zp=je(()=>{gn();rr();lw();P2=Uu,k2="2.8.4",Wse="."+fa(6),Gse=0});function Jse(e,t){var r=ps[da]||dw[da];return r||(r=ps[da]=ps(e,t),dw[da]=r),r}function pw(e){return e?e.isEnabled():!0}function Qse(e){var t=e.cookieCfg=e.cookieCfg||{};if(gr(t,"domain",e.cookieDomain,px,Ge),gr(t,"path",e.cookiePath||"/",null,Ge),Ge(t[Vx])){var r=void 0;pt(e[D2])||(r=!e[D2]),pt(e[R2])||(r=!e[R2]),t[Vx]=r}return t}function pa(e,t){var r;if(e)r=e.getCookieMgr();else if(t){var n=t.cookieCfg;n[da]?r=n[da]:r=ps(t)}return r||(r=Jse(t,(e||{}).logger)),r}function ps(e,t){var r=Qse(e||dw),n=r.path||"/",i=r.domain,o=r[Vx]!==!1,s={isEnabled:function(){var a=o&&Gi(t),c=dw[da];return a&&c&&s!==c&&(a=pw(c)),a},setEnabled:function(a){o=a!==!1},set:function(a,c,l,u,f){var d=!1;if(pw(s)){var p={},h=Nt(c||vt),m=h.indexOf(";");if(m!==-1&&(h=Nt(c.substring(0,m)),p=L2(c.substring(m+1))),gr(p,"domain",u||i,Xu,pt),!Ge(l)){var g=Vi();if(pt(p[Hx])){var v=mr(),y=v+l*1e3;if(y>0){var b=new Date;b.setTime(y),gr(p,Hx,F2(b,g?T2:A2)||F2(b,g?T2:A2)||vt,Xu)}}g||gr(p,"max-age",vt+l,null,pt)}var C=Wc();C&&C.protocol==="https:"&&(gr(p,"secure",null,null,pt),zx===null&&(zx=!af((zn()||{}).userAgent)),zx&&gr(p,"SameSite","None",null,pt)),gr(p,"path",f||n,null,pt);var _=r.setCookie||q2;_(a,M2(h,p)),d=!0}return d},get:function(a){var c=vt;return pw(s)&&(c=(r.getCookie||Xse)(a)),c},del:function(a,c){var l=!1;return pw(s)&&(l=s.purge(a,c)),l},purge:function(a,c){var l,u=!1;if(Gi(t)){var f=(l={},l.path=c||"/",l[Hx]="Thu, 01 Jan 1970 00:00:01 GMT",l);Vi()||(f["max-age"]="0");var d=r.delCookie||q2;d(a,M2(vt,f)),u=!0}return u}};return s[da]=s,s}function Gi(e){if(fw===null){fw=!1;try{var t=eh||{};fw=t[Bx]!==void 0}catch(r){Yt(e,2,68,"Cannot access document.cookie - "+Hc(r),{exception:Bt(r)})}}return fw}function L2(e){var t={};if(e&&e.length){var r=Nt(e).split(";");Ce(r,function(n){if(n=Nt(n||vt),n){var i=n.indexOf("=");i===-1?t[n]=null:t[Nt(n.substring(0,i))]=Nt(n.substring(i+1))}})}return t}function F2(e,t){return rt(e[t])?e[t]():null}function M2(e,t){var r=e||vt;return Ot(t,function(n,i){r+="; "+n+(Ge(i)?vt:"="+i)}),r}function Xse(e){var t=vt;if(eh){var r=eh[Bx]||vt;O2!==r&&(N2=L2(r),O2=r),t=Nt(N2[e]||vt)}return t}function q2(e,t){eh&&(eh[Bx]=e+"="+t)}function af(e){return Gt(e)?!!(tr(e,"CPU iPhone OS 12")||tr(e,"iPad; CPU OS 12")||tr(e,"Macintosh; Intel Mac OS X 10_14")&&tr(e,"Version/")&&tr(e,"Safari")||tr(e,"Macintosh; Intel Mac OS X 10_14")&&jc(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||tr(e,"Chrome/5")||tr(e,"Chrome/6")||tr(e,"UnrealEngine")&&!tr(e,"Chrome")||tr(e,"UCBrowser/12")||tr(e,"UCBrowser/11")):!1}var T2,A2,Bx,Hx,Vx,D2,R2,da,fw,zx,O2,eh,N2,dw,Wx=je(()=>{Ci();rr();vn();la();T2="toGMTString",A2="toUTCString",Bx="cookie",Hx="expires",Vx="enabled",D2="isCookieUseDisabled",R2="disableCookiesUsage",da="_ckMgr",fw=null,zx=null,O2=null,eh=Cn(),N2={},dw={}});function Y2(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function gw(e,t){if(t){var r="";Je(t)?(r="",Ce(t,function(i){i=Y2(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=Y2(t),r&&(r[0]!=="."&&(r="."+r),e=(e||"")+r)}var n=rae.exec(e||"")||[];return{type:n[1],ns:(n[2]||"").replace(Zse,".").replace(eae,"").split(".").sort().join(".")}}function Gx(e,t,r){var n=[],i=rh.get(e,hw,{},!1),o=gw(t,r);return Ot(i,function(s,a){Ce(a,function(c){(!o.type||o.type===c.evtName.type)&&(!o.ns||o.ns===o.ns)&&n.push({name:c.evtName.type+(c.evtName.ns?"."+c.evtName.ns:""),handler:c.handler})})}),n}function J2(e,t,r){r===void 0&&(r=!0);var n=rh.get(e,hw,{},r),i=n[t];return i||(i=n[t]=[]),i}function Q2(e,t,r,n){e&&t&&t.type&&(e[H2]?e[H2](t.type,r,n):e[B2]&&e[B2](j2+t.type,r))}function nae(e,t,r,n){var i=!1;return e&&t&&t.type&&r&&(e[U2]?(e[U2](t.type,r,n),i=!0):e[$2]&&(e[$2](j2+t.type,r),i=!0)),i}function X2(e,t,r,n){for(var i=t.length;i--;){var o=t[i];o&&(!r.ns||r.ns===o.evtName.ns)&&(!n||n(o))&&(Q2(e,o.evtName,o.handler,o.capture),t.splice(i,1))}}function iae(e,t,r){if(t.type)X2(e,J2(e,t.type),t,r);else{var n=rh.get(e,hw,{});Ot(n,function(i,o){X2(e,o,t,r)}),en(n).length===0&&rh.kill(e,hw)}}function hs(e,t){var r;return t?(Je(t)?r=[e].concat(t):r=[e,t],r=gw("xx",r).ns.split(".")):r=e,r}function Xc(e,t,r,n,i){i===void 0&&(i=!1);var o=!1;if(e)try{var s=gw(t,n);if(o=nae(e,s,r,i),o&&rh.accept(e)){var a={guid:tae++,evtName:s,handler:r,capture:i};J2(e,s.type).push(a)}}catch{}return o}function Zc(e,t,r,n,i){if(i===void 0&&(i=!1),e)try{var o=gw(t,n),s=!1;iae(e,o,function(a){return o.ns&&!r||a.handler===r?(s=!0,!0):!1}),s||Q2(e,o,r,i)}catch{}}function cf(e,t,r,n){return n===void 0&&(n=!1),Xc(e,t,r,null,n)}function lf(e,t,r,n){n===void 0&&(n=!1),Zc(e,t,r,null,n)}function ha(e,t,r){var n=!1,i=Po();i&&(n=Xc(i,e,t,r),n=Xc(i.body,e,t,r)||n);var o=Cn();return o&&(n=Xc(o,e,t,r)||n),n}function vw(e,t,r){var n=Po();n&&(Zc(n,e,t,r),Zc(n.body,e,t,r));var i=Cn();i&&Zc(i,e,t,r)}function uf(e,t,r,n){var i=!1;return t&&e&&e.length>0&&Ce(e,function(o){o&&(!r||hr(r,o)===-1)&&(i=ha(o,t,n)||i)}),i}function yw(e,t,r,n){var i=!1;return t&&e&&Je(e)&&(i=uf(e,t,r,n),!i&&r&&r.length>0&&(i=uf(e,t,null,n))),i}function ma(e,t,r){e&&Je(e)&&Ce(e,function(n){n&&vw(n,t,r)})}function el(e,t,r){return yw([W2,z2,mw],e,t,r)}function nh(e,t){ma([W2,z2,mw],e,t)}function ff(e,t,r){function n(s){var a=Cn();e&&a&&a.visibilityState==="hidden"&&e(s)}var i=hs(G2,r),o=uf([mw],e,t,i);return(!t||hr(t,th)===-1)&&(o=uf([th],n,t,i)||o),!o&&t&&(o=ff(e,null,r)),o}function ih(e,t){var r=hs(G2,t);ma([mw],e,r),ma([th],null,r)}function df(e,t,r){function n(s){var a=Cn();e&&a&&a.visibilityState==="visible"&&e(s)}var i=hs(K2,r),o=uf([V2],e,t,i);return o=uf([th],n,t,i)||o,!o&&t&&(o=df(e,null,r)),o}function oh(e,t){var r=hs(K2,t);ma([V2],e,r),ma([th],null,r)}var j2,$2,U2,B2,H2,hw,th,mw,V2,z2,W2,G2,K2,Zse,eae,tae,rh,rae,Kx=je(()=>{Zp();Ci();rr();j2="on",$2="attachEvent",U2="addEventListener",B2="detachEvent",H2="removeEventListener",hw="events",th="visibilitychange",mw="pagehide",V2="pageshow",z2="unload",W2="beforeunload",G2=Wi("aiEvtPageHide"),K2=Wi("aiEvtPageShow"),Zse=/\.[\.]+/g,eae=/[\.]+$/,tae=1,rh=uw("events"),rae=/^([^.]*)(?:\.(.+)|)/});function pf(){function e(){return Qc(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(oae,function(t){var r=e()|0,n=t==="x"?r:r&3|8;return n.toString(16)})}function hf(){var e=rf();return e&&e.now?e.now():mr()}function ga(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=vt,r,n=0;n<4;n++)r=zi(),t+=e[r&15]+e[r>>4&15]+e[r>>8&15]+e[r>>12&15]+e[r>>16&15]+e[r>>20&15]+e[r>>24&15]+e[r>>28&15];var i=e[8+(zi()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var oae,Yx,Jx=je(()=>{Ci();rr();Kx();lw();vn();"use strict";oae=/[xy]/g,Yx={Attach:cf,AttachEvent:cf,Detach:lf,DetachEvent:lf}});function ms(e,t,r){return e&&e.length===t&&e!==r?!!e.match(/^[\da-f]*$/):!1}function eB(e,t,r){return ms(e,t)?e:r}function tB(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function Zx(e,t,r,n){return{version:ms(n,2,Xx)?n:Qx,traceId:mf(e)?e:ga(),spanId:gf(t)?t:ga().substr(0,16),traceFlags:r>=0&&r<=255?r:1}}function sh(e){if(!e||(Je(e)&&(e=e[0]||""),!e||!Gt(e)||e.length>8192))return null;var t=sae.exec(Nt(e));return!t||t[1]===Xx||t[2]===ww||t[3]===Cw?null:{version:t[1],traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}function mf(e){return ms(e,32,ww)}function gf(e){return ms(e,16,Cw)}function bw(e){return!(!e||!ms(e.version,2,Xx)||!ms(e.traceId,32,ww)||!ms(e.spanId,16,Cw)||!ms(tB(e.traceFlags),2))}function eP(e){return bw(e)?(e.traceFlags&Z2)===Z2:!1}function tP(e){if(e){var t=tB(e.traceFlags);ms(t,2)||(t="01");var r=e.version||Qx;return r!=="00"&&r!=="ff"&&(r=Qx),"".concat(r,"-").concat(eB(e.traceId,32,ww),"-").concat(eB(e.spanId,16,Cw),"-").concat(t)}return""}function rP(){var e="traceparent",t=sh(Nx(e));return t||(t=sh(Lx(e))),t}var sae,Qx,Xx,ww,Cw,Z2,nP=je(()=>{Jx();Ci();rr();sae=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,Qx="00",Xx="ff",ww="00000000000000000000000000000000",Cw="0000000000000000",Z2=1});function gs(e){return aae.get(e,"state",{},!0)}function Ew(e,t){for(var r=[],n=null,i=e.getNext(),o;i;){var s=i.getPlugin();if(s){n&&rt(n[Lp])&&rt(s[zy])&&n[Lp](s);var a=!1;rt(s[as])?a=s[as]():(o=gs(s),a=o[as]),a||r.push(s),n=s,i=i.getNext()}}Ce(r,function(c){var l=e.core();c.initialize(e.getCfg(),l,t,e.getNext()),o=gs(c),!c[Bi]&&!o[Bi]&&(o[Bi]=l),o[as]=!0,delete o[yi]})}function _w(e){return e.sort(function(t,r){var n=0;if(r){var i=rt(r[zy]);rt(t[zy])?n=i?t[ax]-r[ax]:1:i&&(n=-1)}else n=t?1:-1;return n})}function rB(e){var t={};return{getName:function(){return t.name},setName:function(r){e&&e.setName(r),t.name=r},getTraceId:function(){return t.traceId},setTraceId:function(r){e&&e.setTraceId(r),mf(r)&&(t.traceId=r)},getSpanId:function(){return t.spanId},setSpanId:function(r){e&&e.setSpanId(r),gf(r)&&(t.spanId=r)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(r){e&&e.setTraceFlags(r),t.traceFlags=r}}}var aae,Sw=je(()=>{rr();vn();Zp();nP();"use strict";aae=uw("plugin")});function lae(e,t,r){for(;e;){if(e.getPlugin()===r)return e;e=e.getNext()}return ko([r],t.config||{},t)}function iP(e,t,r,n){var i=null,o=[];n!==null&&(i=n?lae(e,r,n):e);var s={_next:c,ctx:{core:function(){return r},diagLog:function(){return Gp(r,t)},getCfg:function(){return t},getExtCfg:l,getConfig:u,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(d){i=d},iterate:f,onComplete:a}};function a(d,p){for(var h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];d&&o.push({func:d,self:pt(p)?s.ctx:p,args:h})}function c(){var d=i;if(i=d?d.getNext():null,!d){var p=o;p&&p.length>0&&(Ce(p,function(h){try{h.func.call(h.self,h.args)}catch(m){Yt(r.logger,2,73,"Unexpected Exception during onComplete - "+Bt(m))}}),o=[])}return d}function l(d,p,h){p===void 0&&(p={}),h===void 0&&(h=0);var m;if(t){var g=t.extensionConfig;g&&d&&(m=g[d])}if(!m)m=p;else if(Rr(p)&&h!==0){var v=Zu(!0,p,m);t&&h===2&&Ot(p,function(y){if(Ge(v[y])){var b=t[y];Ge(b)||(v[y]=b)}}),m=v}return m}function u(d,p,h){h===void 0&&(h=!1);var m,g=l(d,null);return g&&!Ge(g[p])?m=g[p]:t&&!Ge(t[p])&&(m=t[p]),Ge(m)?h:m}function f(d){for(var p;p=s._next();){var h=p.getPlugin();h&&d(h)}}return s}function bn(e,t,r,n){var i=iP(e,t,r,n),o=i.ctx;function s(c){var l=i._next();return l&&l.processTelemetry(c,o),!l}function a(c,l){return c===void 0&&(c=null),Je(c)&&(c=ko(c,t,r,l)),bn(c||o.getNext(),t,r,l)}return o.processNext=s,o.createNew=a,o}function vf(e,t,r){var n=t.config||{},i=iP(e,n,t,r),o=i.ctx;function s(c){var l=i._next();return l&&l.unload(o,c),!l}function a(c,l){return c===void 0&&(c=null),Je(c)&&(c=ko(c,n,t,l)),vf(c||o.getNext(),t,l)}return o.processNext=s,o.createNew=a,o}function ah(e,t,r){var n=t.config||{},i=iP(e,n,t,r),o=i.ctx;function s(c){return o.iterate(function(l){rt(l.update)&&l.update(o,c)})}function a(c,l){return c===void 0&&(c=null),Je(c)&&(c=ko(c,n,t,l)),ah(c||o.getNext(),t,l)}return o.processNext=s,o.createNew=a,o}function ko(e,t,r,n){var i=null,o=!n;if(Je(e)&&e.length>0){var s=null;Ce(e,function(a){if(!o&&n===a&&(o=!0),o&&a&&rt(a.processTelemetry)){var c=uae(a,t,r);i||(i=c),s&&s._setNext(c),s=c}})}return n&&!i?ko([n],t,r):i}function uae(e,t,r){var n=null,i=rt(e.processTelemetry),o=rt(e.setNextPlugin),s;e?s=e.identifier+"-"+e.priority+"-"+oB++:s="Unknown-0-"+oB++;var a={getPlugin:function(){return e},getNext:function(){return n},processTelemetry:u,unload:f,update:d,_id:s,_setNext:function(p){n=p}};function c(){var p;return e&&rt(e[iB])&&(p=e[iB]()),p||(p=bn(a,t,r)),p}function l(p,h,m,g,v){var y=!1,b=e?e.identifier:cae,C=p[nB];return C||(C=p[nB]={}),p.setNext(n),e&&Xt(p[Bi](),function(){return b+":"+m},function(){C[s]=!0;try{var _=n?n._id:vt;_&&(C[_]=!1),y=h(p)}catch(S){var P=n?C[n._id]:!0;P&&(y=!0),(!n||!P)&&Yt(p.diagLog(),1,73,"Plugin ["+b+"] failed during "+m+" - "+Bt(S)+", run flags: "+Bt(C))}},g,v),y}function u(p,h){h=h||c();function m(g){if(!e||!i)return!1;var v=gs(e);return v.teardown||v[Fp]?!1:(o&&e.setNextPlugin(n),e.processTelemetry(p,g),!0)}l(h,m,"processTelemetry",function(){return{item:p}},!p.sync)||h.processNext(p)}function f(p,h){function m(){var g=!1;if(e){var v=gs(e),y=e[Bi]||v.core;e&&(!y||y===p[Bi]())&&!v[yi]&&(v[Bi]=null,v[yi]=!0,v[as]=!1,e[yi]&&e[yi](p,h)===!0&&(g=!0))}return g}l(p,m,"unload",function(){},h.isAsync)||p.processNext(h)}function d(p,h){function m(){var g=!1;if(e){var v=gs(e),y=e[Bi]||v.core;e&&(!y||y===p[Bi]())&&!v[yi]&&e[cx]&&e[cx](p,h)===!0&&(g=!0)}return g}l(p,m,"update",function(){},!1)||p.processNext(h)}return wn(a)}var cae,nB,iB,oB,oP,ch=je(()=>{la();rr();Yp();Ci();vn();Sw();"use strict";cae="TelemetryPluginChain",nB="_hasRun",iB="_getTelCtx",oB=0;oP=function(){function e(t,r,n,i){var o=this,s=bn(t,r,n,i);Vc(o,s,en(s))}return e}()});var sB,xw,sP=je(()=>{sB="iKey",xw="extensionConfig"});function aB(e,t,r,n){t&&Je(t)&&t.length>0&&(t=t.sort(function(i,o){return i.priority-o.priority}),Ce(t,function(i){i.priority<lh&&Or(fae+i.identifier)}),e.push({queue:wn(t),chain:ko(t,r,n)}))}function cB(e,t){var r;function n(){return bn(null,t.config,t,null)}function i(u,f,d,p){var h=u?u.length+1:1;function m(){h--,h===0&&(p&&p(),p=null)}h>0&&Ce(u,function(g){if(g&&g.queue.length>0){var v=g.chain,y=f.createNew(v);y.onComplete(m),d(y)}else h--}),m()}function o(u,f){var d=f||{reason:0};return i(e,u,function(p){p[Lc](d)},function(){u[Lc](d)}),!0}function s(u,f){var d=f||{reason:0,isAsync:!1};return i(e,u,function(p){p[Lc](d)},function(){u[Lc](d),c=!1}),!0}function a(u){var f=null;return e&&e.length>0&&Ce(e,function(d){if(d&&d.queue.length>0&&(Ce(d.queue,function(p){if(p.identifier===u)return f=p,-1}),f))return-1}),f}var c=!1,l=(r={identifier:"ChannelControllerPlugin",priority:lh,initialize:function(u,f,d,p){c=!0,Ce(e,function(h){h&&h.queue.length>0&&Ew(bn(h.chain,u,f),d)})},isInitialized:function(){return c},processTelemetry:function(u,f){i(e,f||n(),function(d){d[Lc](u)},function(){f[Lc](u)})},update:o},r[Gy]=function(){i(e,n(),function(u){u.iterate(function(f){f[Gy]&&f[Gy]()})},null)},r[Wy]=function(){i(e,n(),function(u){u.iterate(function(f){f[Wy]&&f[Wy]()})},null)},r[yi]=s,r.getChannel=a,r.flush=function(u,f,d,p){var h=1,m=!1,g=null;p=p||5e3;function v(){h--,m&&h===0&&(g&&(clearTimeout(g),g=null),f&&f(m),f=null)}return i(e,n(),function(y){y.iterate(function(b){if(b.flush){h++;var C=!1;b.flush(u,function(){C=!0,v()},d)||C||(u&&g==null?g=setTimeout(function(){g=null,v()},p):v())}})},function(){m=!0,v()}),!0},r._setQueue=function(u){e=u},r);return l}function lB(e,t,r,n){var i=[];if(e&&Ce(e,function(s){return aB(i,s,r,n)}),t){var o=[];Ce(t,function(s){s.priority>lh&&o.push(s)}),aB(i,o,r,n)}return i}var lh,fae,uB=je(()=>{rr();vn();ch();Sw();lh=500,fae="Channel has invalid priority - "});function tl(){var e=[];function t(n){n&&e.push(n)}function r(n,i){Ce(e,function(o){try{o(n,i)}catch(s){Yt(n.diagLog(),2,73,"Unexpected error calling unload handler - "+Bt(s))}}),e=[]}return{add:t,run:r}}var Pw=je(()=>{la();Ci();rr()});var va,rl,aP=je(()=>{Nr();ch();rr();sP();Pw();vn();"use strict";va="getPlugin",rl=function(){function e(){var t=this,r,n,i,o,s;l(),ft(e,t,function(u){u.initialize=function(f,d,p,h){c(f,d,h),r=!0},u.teardown=function(f,d){var p=u.core;if(!p||f&&p!==f.core())return;var h,m=!1,g=f||vf(null,p,i&&i[va]?i[va]():i),v=d||{reason:0,isAsync:!1};function y(){m||(m=!0,o.run(g,d),Ce(s,function(b){b.rm()}),s=[],h===!0&&g.processNext(v),l())}return!u[Vu]||u[Vu](g,v,y)!==!0?y():h=!0,h},u.update=function(f,d){var p=u.core;if(!p||f&&p!==f.core())return;var h,m=!1,g=f||ah(null,p,i&&i[va]?i[va]():i),v=d||{reason:0};function y(){m||(m=!0,c(g.getCfg(),g.core(),g.getNext()))}return!u._doUpdate||u._doUpdate(g,v,y)!==!0?y():h=!0,h},u._addHook=function(f){f&&(Je(f)?s=s.concat(f):s.push(f))},aa(u,"_addUnloadCb",function(){return o},"add")}),t.diagLog=function(u){return a(u).diagLog()},t[as]=function(){return r},t.setInitialized=function(u){r=u},t[Lp]=function(u){i=u},t.processNext=function(u,f){f?f.processNext(u):i&&rt(i.processTelemetry)&&i.processTelemetry(u,null)},t._getTelCtx=a;function a(u){u===void 0&&(u=null);var f=u;if(!f){var d=n||bn(null,{},t.core);i&&i[va]?f=d.createNew(null,i[va]):f=d.createNew(null,i)}return f}function c(u,f,d){u&&gr(u,xw,[],null,Ge),!d&&f&&(d=f.getProcessTelContext().getNext());var p=i;i&&i[va]&&(p=i[va]()),t.core=f,n=bn(d,u,f,p)}function l(){r=!1,t.core=null,n=null,i=null,s=[],o=tl()}}return e}()});var fB,dB=je(()=>{gn();Nr();aP();la();Ci();rr();vn();fB=function(e){Ui(t,e);function t(){var r=e.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;o(),ft(t,r,function(s,a){s.addTelemetryInitializer=function(c){var l={id:n++,fn:c};i.push(l);var u={remove:function(){Ce(i,function(f,d){if(f.id===l.id)return i.splice(d,1),-1})}};return u},s.processTelemetry=function(c,l){for(var u=!1,f=i.length,d=0;d<f;++d){var p=i[d];if(p)try{if(p.fn.apply(null,[c])===!1){u=!0;break}}catch(h){Yt(l.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Hc(h),{exception:Bt(h)},!0)}}u||s.processNext(c,l)},s[Vu]=function(){o()}});function o(){n=0,i=[]}return r}return t}(rl)});function hae(e,t){return new Kp(t)}function mae(e,t,r){var n=[],i={};return Ce(r,function(o){(Ge(o)||Ge(o.initialize))&&Or(pB);var s=o.priority,a=o.identifier;o&&s&&(Ge(i[s])?i[s]=a:jx(e,"Two extensions have same priority #"+s+" - "+i[s]+", "+a)),(!s||s<t)&&n.push(o)}),{all:r,core:n}}function gB(e,t){var r=!1;return Ce(t,function(n){if(n===e)return r=!0,-1}),r}function gae(){var e;return So((e={},e[Fc]=function(t){},e[Mc]=function(t){},e[zu]=function(t){},e[Wu]=function(t,r){},e[Gu]=function(t,r){},e))}var pB,hB,mB,dae,pae,nl,cP=je(()=>{gn();gn();Nr();ch();Sw();Yp();Wx();rr();sP();la();qx();uB();dB();Zp();Pw();vn();"use strict";pB="Plugins must provide initialize method",hB="_notificationManager",mB="SDK is still unloading...",dae="SDK is not initialized",pae={loggingLevelConsole:1};nl=function(){function e(){var t,r,n,i,o,s,a,c,l,u,f,d,p,h,m,g,v,y,b,C=0;ft(e,this,function(_){P(),_.isInitialized=function(){return t},_.initialize=function(D,$,Y,X){p&&Or(mB),_.isInitialized()&&Or("Core should not be initialized more than once"),(!D||Ge(D.instrumentationKey))&&Or("Please provide instrumentation key"),n=X,_[hB]=X,_.config=D||{},K(D),ee(D),D.extensions=Ge(D.extensions)?[]:D.extensions,re(D),Y&&(_.logger=Y),c=[],c.push.apply(c,Vy(Vy([],$,!1),D.extensions,!1)),f=(D||{}).channels,x(D,null),(!d||d.length===0)&&Or("No channels available"),t=!0,_.releaseQueue()},_.getTransmissionControls=function(){var D=[];return d&&Ce(d,function($){D.push($.queue)}),wn(D)},_.track=function(D){gr(D,sB,_.config.instrumentationKey,null,Qu),gr(D,"time",wi(new Date),null,Qu),gr(D,"ver","4.0",null,Ge),!p&&_.isInitialized()?S().processNext(D):r.push(D)},_.getProcessTelContext=S,_.getNotifyMgr=function(){return n||(n=gae(),_[hB]=n),n},_[Fc]=function(D){n&&n[Fc](D)},_[Mc]=function(D){n&&n[Mc](D)},_.getCookieMgr=function(){return s||(s=ps(_.config,_.logger)),s},_.setCookieMgr=function(D){s=D},_.getPerfMgr=function(){return!i&&!o&&_.config&&_.config.enablePerfMgr&&rt(_.config.createPerfMgr)&&(o=_.config.createPerfMgr(_,_.getNotifyMgr())),i||o||Ux()},_.setPerfMgr=function(D){i=D},_.eventCnt=function(){return r.length},_.releaseQueue=function(){if(t&&r.length>0){var D=r;r=[],Ce(D,function($){S().processNext($)})}},_.pollInternalLogs=function(D){m=D||null;var $=_.config.diagnosticLogInterval;return(!$||!($>0))&&($=1e4),C&&clearInterval(C),C=setInterval(function(){q()},$),C},_.stopPollingInternalLogs=function(){C&&(clearInterval(C),C=0,q())},Vc(_,function(){return h},["addTelemetryInitializer"]),_.unload=function(D,$,Y){D===void 0&&(D=!0),t||Or(dae),p&&Or(mB);var X={reason:50,isAsync:D,flushComplete:!1},Q=vf(A(),_);Q.onComplete(function(){P(),$&&$(X)},_);function ve(Ae){X.flushComplete=Ae,p=!0,v.run(Q,X),_.stopPollingInternalLogs(),Q.processNext(X)}J(D,ve,6,Y)||ve(!1)},_.getPlugin=I,_.addPlugin=function(D,$,Y,X){if(!D){X&&X(!1),F(pB);return}var Q=I(D.identifier);if(Q&&!$){X&&X(!1),F("Plugin ["+D.identifier+"] is already loaded!");return}var ve={reason:16};function Ae(Ee){c.push(D),ve.added=[D],x(_.config,ve),X&&X(!0)}if(Q){var Se=[Q.plugin],Oe={reason:2,isAsync:!!Y};O(Se,Oe,function(Ee){Ee?(ve.removed=Se,ve.reason|=32,Ae(!0)):X&&X(!1)})}else Ae(!1)},_.evtNamespace=function(){return g},_.flush=J,_.getTraceCtx=function(D){return b||(b=rB()),b},_.setTraceCtx=function(D){b=D||null},aa(_,"addUnloadCb",function(){return v},"add");function P(){t=!1,_.config=Zu(!0,{},pae),_.logger=new bi(_.config),_._extensions=[],h=new fB,r=[],n=null,i=null,o=null,s=null,a=null,l=null,c=[],u=null,f=null,d=null,p=!1,m=null,g=Wi("AIBaseCore",!0),v=tl(),b=null}function S(){return bn(A(),_.config,_)}function x(D,$){var Y=mae(_.logger,lh,c);l=Y.core,a=null;var X=Y.all;if(d=wn(lB(f,X,D,_)),u){var Q=hr(X,u);Q!==-1&&X.splice(Q,1),Q=hr(l,u),Q!==-1&&l.splice(Q,1),u._setQueue(d)}else u=cB(d,_);X.push(u),l.push(u),_._extensions=_w(X),u.initialize(D,_,X),Ew(S(),X),_._extensions=wn(_w(l||[])).slice(),$&&j($)}function I(D){var $=null,Y=null;return Ce(_._extensions,function(X){if(X.identifier===D&&X!==u&&X!==h)return Y=X,-1}),!Y&&u&&(Y=u.getChannel(D)),Y&&($={plugin:Y,setEnabled:function(X){gs(Y)[Fp]=!X},isEnabled:function(){var X=gs(Y);return!X[yi]&&!X[Fp]},remove:function(X,Q){X===void 0&&(X=!0);var ve=[Y],Ae={reason:1,isAsync:X};O(ve,Ae,function(Se){Se&&x(_.config,{reason:32,removed:ve}),Q&&Q(Se)})}}),$}function A(){if(!a){var D=(l||[]).slice();hr(D,h)===-1&&D.push(h),a=ko(_w(D),_.config,_)}return a}function O(D,$,Y){if(D&&D.length>0){var X=ko(D,_.config,_),Q=vf(X,_);Q.onComplete(function(){var ve=!1,Ae=[];Ce(c,function(Oe,Ee){gB(Oe,D)?ve=!0:Ae.push(Oe)}),c=Ae;var Se=[];f&&(Ce(f,function(Oe,Ee){var _t=[];Ce(Oe,function(It){gB(It,D)?ve=!0:_t.push(It)}),Se.push(_t)}),f=Se),Y&&Y(ve)}),Q.processNext($)}else Y(!1)}function q(){var D=_.logger?_.logger.queue:[];D&&(Ce(D,function($){var Y={name:m||"InternalMessageId: "+$.messageId,iKey:_.config.instrumentationKey,time:wi(new Date),baseType:Yc.dataType,baseData:{message:$.message}};_.track(Y)}),D.length=0)}function J(D,$,Y,X){return u?u.flush(D,$,Y||6,X):($&&$(!1),!0)}function K(D){D.disableDbgExt===!0&&y&&(n[Mc](y),y=null),n&&!y&&D.disableDbgExt!==!0&&(y=w2(D),n[Fc](y))}function ee(D){!D.enablePerfMgr&&o&&(o=null),D.enablePerfMgr&&gr(_.config,"createPerfMgr",hae)}function re(D){var $=qp(D,xw);$.NotificationManager=n}function j(D){var $=ah(A(),_);(!_._updateHook||_._updateHook($,D)!==!0)&&$.processNext(D)}function F(D){var $=_.logger;$?Yt($,2,73,D):Or(D)}})}return e}()});function kw(e,t,r,n){Ce(e,function(i){if(i&&i[t])if(r)setTimeout(function(){return n(i)},0);else try{n(i)}catch{}})}var uh,lP=je(()=>{Nr();rr();vn();uh=function(){function e(t){this.listeners=[];var r=!!(t||{}).perfEvtsSendAll;ft(e,this,function(n){n[Fc]=function(i){n.listeners.push(i)},n[Mc]=function(i){for(var o=hr(n.listeners,i);o>-1;)n.listeners.splice(o,1),o=hr(n.listeners,i)},n[zu]=function(i){kw(n.listeners,zu,!0,function(o){o[zu](i)})},n[Wu]=function(i,o){kw(n.listeners,Wu,!0,function(s){s[Wu](i,o)})},n[Gu]=function(i,o){kw(n.listeners,Gu,o,function(s){s[Gu](i,o)})},n[Mp]=function(i){i&&(r||!i.isChildEvt())&&kw(n.listeners,Mp,!1,function(o){i.isAsync?setTimeout(function(){return o[Mp](i)},0):o[Mp](i)})}})}return e}()});var fh,vB=je(()=>{gn();cP();lP();Yp();la();Nr();rr();fh=function(e){Ui(t,e);function t(){var r=e.call(this)||this;return ft(t,r,function(n,i){n.initialize=function(a,c,l,u){i.initialize(a,c,l||new bi(a),u||new uh(a))},n.track=function(a){Xt(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){a===null&&(s(a),Or("Invalid telemetry item")),o(a),i.track(a)},function(){return{item:a}},!a.sync)};function o(a){Ge(a.name)&&(s(a),Or("telemetry name required"))}function s(a){var c=n.getNotifyMgr();c&&c.eventsDiscarded([a],2)}}),r}return t}(nl)});var uP,dh,yB=je(()=>{Jy();uP=tn({CRITICAL:1,WARNING:2}),dh=tn({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106})});var vs=je(()=>{HU();o2();vB();cP();aP();lw();Jx();rr();Jy();Kx();Ci();gn();lP();Yp();la();ch();yB();Wx();Zp();Pw();nP()});var wB,CB,bB,EB,_B,SB,xB=je(()=>{gn();vs();wB=tn({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),CB=tn({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),bB=tn({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),EB=tn({Normal:1,Critical:2}),_B=tn({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),SB=wn(Hy(Hy({},dh),tn({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});function cr(e){return!(e===""||Ge(e))}function hh(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function pP(){return fP===null&&(fP=!pt(Uint8Array)&&!bae()&&!ds()),fP}function mh(e){return!!(e&&yn(e)&&e>=1&&e<=4)}function gh(e,t,r){if(!t&&!cr(t)||typeof e!="string")return null;var n=typeof t;if(n==="string"||n==="number"||n==="boolean"||Je(t))t={value:t};else if(n==="object"&&!t.hasOwnProperty("value"))t={value:r?JSON.stringify(t):t};else if(Ge(t.value)||t.value===""||!Gt(t.value)&&!yn(t.value)&&!cs(t.value)&&!Je(t.value))return null;if(Je(t.value)&&!Tw(t.value))return null;if(!Ge(t.kind)){if(Je(t.value)||!yf(t.kind))return null;t.value=t.value.toString()}return t}function vh(e,t,r){var n=-1;if(!pt(e))if(t>0&&(t===32?n=1<<13:t<=13&&(n=t<<5)),Cae(r))n===-1&&(n=0),n|=r;else{var i=wae[Ki(e)]||-1;n!==-1&&i!==-1?n|=i:i===6&&(n=i)}return n}function hP(){pa(null).setEnabled(!1)}function mP(e,t,r){Gi(null)&&pa(null).set(e,t,r*86400,null,"/")}function gP(e){Gi(null)&&pa(null).del(e)}function vP(e){return Gi(null)?yP(pa(null),e):""}function yP(e,t,r){r===void 0&&(r=!0);var n;return e&&(n=e.get(t),r&&n&&decodeURIComponent&&(n=decodeURIComponent(n))),n||""}function wP(e){e===void 0&&(e="D");var t=pf();return e==="B"?t="{"+t+"}":e==="P"?t="("+t+")":e==="N"&&(t=t.replace(/-/g,"")),t}function ya(e,t,r,n,i){var o={},s=!1,a=0,c=arguments.length,l=Object[ar],u=arguments;for(l.toString.call(u[0])==="[object Boolean]"&&(s=u[0],a++);a<c;a++){var e=u[a];Ot(e,function(d,p){s&&p&&Rr(p)?Je(p)?(o[d]=o[d]||[],Ce(p,function(h,m){h&&Rr(h)?o[d][m]=ya(!0,o[d][m],h):o[d][m]=h})):o[d]=ya(!0,o[d],p):o[d]=p})}return o}function yf(e){return e===0||e>0&&e<=13||e===32}function Cae(e){return e>=0&&e<=9}function bae(){var e=zn();if(!pt(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}function Tw(e){return e.length>0}function wf(e,t){var r=e;r.timings=r.timings||{},r.timings.processTelemetryStart=r.timings.processTelemetryStart||{},r.timings.processTelemetryStart[t]=rn()}function Ki(e){var t=0;if(e!=null){var r=typeof e;r==="string"?t=1:r==="number"?t=2:r==="boolean"?t=3:r===or&&(t=4,Je(e)?(t=4096,e.length>0&&(t|=Ki(e[0]))):xo(e,"value")&&(t=8192|Ki(e.value)))}return t}function Aw(){return!!Kt("chrome")}function Dw(e,t,r,n,i,o){n===void 0&&(n=!1),i===void 0&&(i=!1);function s(c,l,u){try{c[l]=u}catch{}}var a=new XMLHttpRequest;return n&&s(a,vae,n),r&&s(a,PB,r),a.open(e,t,!i),r&&s(a,PB,r),!i&&o&&s(a,yae,o),a}var ys,Iw,ws,vae,PB,yae,wae,fP,ph,dP,rn,kB,IB,yh=je(()=>{gn();vs();Iw="3.2.3",ws="1DS-Web-JS-"+Iw,vae="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",PB="withCredentials",yae="timeout",wae=(ys={},ys[0]=0,ys[2]=6,ys[1]=1,ys[3]=7,ys[4096|2]=6,ys[4096|1]=1,ys[4096|3]=7,ys),fP=null,ph=Boolean(Cn()),dP=Boolean(Po());rn=hf;kB={Version:Iw,FullVersionString:ws,strUndefined:sr,strObject:or,Undefined:sr,arrForEach:Ce,arrIndexOf:hr,arrMap:Uc,arrReduce:Bc,objKeys:en,toISOString:wi,isReactNative:ds,isString:Gt,isNumber:yn,isBoolean:cs,isFunction:rt,isArray:Je,isObject:Rr,strTrim:Nt,isDocumentObjectAvailable:ph,isWindowObjectAvailable:dP,isValueAssigned:cr,getTenantId:hh,isBeaconsSupported:ca,isUint8ArrayAvailable:pP,isLatency:mh,sanitizeProperty:gh,getISOString:wi,useXDomainRequest:Kc,getCommonSchemaMetaData:vh,cookieAvailable:Gi,disallowsSameSiteNone:af,setCookie:mP,deleteCookie:gP,getCookie:vP,createGuid:wP,extend:ya,getTime:rn,isValueKind:yf,isArrayValid:Tw,objDefineAccessors:Vn,addPageUnloadEventListener:el,setProcessTelemetryTimings:wf,addEventHandler:ha,getFieldValueType:Ki,strEndsWith:jc,objForEachKey:Ot},IB={_canUseCookies:void 0,isTypeof:Ku,isUndefined:pt,isNullOrUndefined:Ge,hasOwnProperty:xo,isFunction:rt,isObject:Rr,isDate:Ju,isArray:Je,isError:$c,isString:Gt,isNumber:yn,isBoolean:cs,toISOString:wi,arrForEach:Ce,arrIndexOf:hr,arrMap:Uc,arrReduce:Bc,strTrim:Nt,objCreate:So,objKeys:en,objDefineAccessors:Vn,addEventHandler:ha,dateNow:mr,isIE:Vi,disableCookies:hP,newGuid:pf,perfNow:hf,newId:fa,randomValue:Qc,random32:zi,mwcRandomSeed:cw,mwcRandom32:Xp,generateW3CId:ga}});var CP,bP,Eae,TB,AB=je(()=>{gn();vs();yh();Nr();CP="version",bP="properties",Eae=function(e){Ui(t,e);function t(){var r=e.call(this)||this;return r.pluginVersionStringArr=[],r.pluginVersionString="",ft(t,r,function(n,i){(!n.logger||!n.logger.queue)&&(n.logger=new bi({loggingLevelConsole:1})),n.initialize=function(o,s,a,c){Xt(n,function(){return"AppInsightsCore.initialize"},function(){if(o){o.endpointUrl||(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var l=o.propertyStorageOverride;if(l&&(!l.getProperty||!l.setProperty))throw new Error("Invalid property storage override passed.");o.channels&&Ce(o.channels,function(d){d&&Ce(d,function(p){if(p.identifier&&p.version){var h=p.identifier+"="+p.version;n.pluginVersionStringArr.push(h)}})})}n.getWParam=function(){return typeof document!="undefined"?0:-1},s&&Ce(s,function(d){if(d&&d.identifier&&d.version){var p=d.identifier+"="+d.version;n.pluginVersionStringArr.push(p)}}),n.pluginVersionString=n.pluginVersionStringArr.join(";");try{i.initialize(o,s,a,c),n.pollInternalLogs("InternalLog")}catch(d){var u=n.logger,f=Bt(d);f.indexOf("channels")!==-1&&(f+=`
 - Channels must be provided through config.channels only!`),u.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+f)}},function(){return{config:o,extensions:s,logger:a,notificationManager:c}})},n.track=function(o){Xt(n,function(){return"AppInsightsCore.track"},function(){var s=o;if(s){s.timings=s.timings||{},s.timings.trackStart=rn(),mh(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=ws;var c=s.baseData=s.baseData||{};c[bP]||(c[bP]={});var l=c[bP];l[CP]||(l[CP]=""),n.pluginVersionString!==""&&(l[CP]=n.pluginVersionString)}i.track(s)},function(){return{item:o}},!o.sync)}}),r}return t}(fh),TB=Eae});var _ae,DB,RB=je(()=>{gn();Nr();vs();yh();_ae=function(e){Ui(t,e);function t(){var r=e.call(this)||this;return ft(t,r,function(n,i){n.initialize=function(o,s,a,c){o&&!o.endpointUrl&&(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),n.getWParam=function(){return ph?0:-1};try{i.initialize(o,s,a,c)}catch(l){Yt(n.logger,1,514,"Initialization Failed: "+Bt(l)+`
 - Note: Channels must be provided through config.channels only`)}},n.track=function(o){var s=o;if(s){var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=ws}i.track(s)}}),r}return t}(nl),DB=_ae});function Sae(e,t,r){return function(n){e[t]=n,r()}}var il,xae,wa,EP=je(()=>{vs();Nr();il=rt;xae=function(){function e(t){var r=0,n=null,i=[];ft(e,this,function(l){l.then=function(u,f){return new e(function(d,p){o(u,f,d,p)})},l.catch=function(u){return l.then(null,u)}});function o(l,u,f,d){i.push(function(){var p;try{r===1?p=il(l)?l(n):n:p=il(u)?u(n):n,p instanceof e?p.then(f,d):r===2&&!il(u)?d(p):f(p)}catch(h){d(h);return}}),r!==0&&s()}function s(){if(i.length>0){var l=i.slice();i=[],setTimeout(function(){for(var u=0,f=l.length;u<f;++u)try{l[u]()}catch{}},0)}}function a(l){r===0&&(n=l,r=1,s())}function c(l){r===0&&(n=l,r=2,s())}(function(){if(!il(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(a,c)}catch(u){c(u)}})()}return e.resolve=function(t){return t instanceof e?t:t&&il(t.then)?new e(function(r,n){try{t.then(r,n)}catch(i){n(i)}}):new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){if(!(!t||!t.length))return new e(function(r,n){try{for(var i=[],o=0,s=0;s<t.length;s++){var a=t[s];a&&il(a.then)?(o++,a.then(Sae(i,s,function(){--o==0&&r(i)}),n)):i[s]=a}o===0&&setTimeout(function(){r(i)},0)}catch(c){n(c)}})},e.race=function(t){return new e(function(r,n){if(!(!t||!t.length))try{for(var i=function(s){var a=t[s];a&&il(a.then)?a.then(r,n):setTimeout(function(){r(a)},0)},o=0;o<t.length;o++)i(o)}catch(s){n(s)}})},e}(),wa=xae});function Cf(){return new Date().getTime()}var Pae,OB,wh,ol,_P,kae,NB,LB=je(()=>{EP();vs();Nr();Pae=6e5,OB=0,wh=[],ol=[],_P=[];kae=function(){function e(t,r){var n=0,i=(t||"<unnamed>")+"."+OB;OB++,ft(e,this,function(a){var c=null,l=0;a.scheduleEvent=function(f,d,p){var h=i+"."+l;l++,d&&(h+="-("+d+")");var m=h+"{"+n+"}";n++;var g={evt:null,tm:Cf(),id:m,isRunning:!1,isAborted:!1};return c?g.evt=S(g,c):g.evt=P(g),c=g,c.evt._schId=m,g.evt;function v(x){for(var I=Cf(),A=I-Pae,O=x.length,q=0;q<O;){var J=x[q];if(J&&J.tm<A){var K=null;J.abort?(K="Aborting ["+J.id+"] due to Excessive runtime ("+(I-J.tm)+" ms)",J.abort(K)):K="Removing ["+J.id+"] due to Excessive runtime ("+(I-J.tm)+" ms)",s(K),x.splice(q,1),O--}else q++}}function y(x,I){var A=!1,O=u(wh,x);if(O||(O=u(_P,x),A=!0),O){O.to&&(clearTimeout(O.to),O.to=null);var q=Cf()-O.tm;I?A?s("Timed out event ["+x+"] finally complete -- "+q+" ms"):o("Promise ["+x+"] Complete -- "+q+" ms"):(_P.push(O),s("Event ["+x+"] Timed out and removed -- "+q+" ms"))}else o("Failed to remove ["+x+"] from running queue");c&&c.id===x&&(c=null),v(wh),v(ol),v(_P)}function b(x,I){return function(A){return y(x,!0),I&&I(A),A}}function C(x,I,A,O){I.then(function(q){return q instanceof wa?(o("Event ["+x+"] returned a promise -- waiting"),C(x,q,A,O),q):b(x,A)(q)},b(x,O))}function _(x,I){var A=x.id;return new wa(function(O,q){o("Event ["+A+"] Starting -- waited for "+(x.wTm||"--")+" ms"),x.isRunning=!0,x.abort=function(K){x.abort=null,x.isAborted=!0,y(A,!1),q(new Error(K))};var J=I(A);J instanceof wa?(p&&(x.to=setTimeout(function(){y(A,!1),q(new Error("Timed out after ["+p+"] ms"))},p)),C(A,J,function(K){o("Event ["+A+"] Resolving after "+(Cf()-x.tm)+" ms"),O(K)},q)):(o("Promise ["+A+"] Auto completed as the start action did not return a promise"),O())})}function P(x){var I=Cf();return x.wTm=I-x.tm,x.tm=I,x.isAborted?wa.reject(new Error("["+h+"] was aborted")):(wh.push(x),_(x,f))}function S(x,I){var A=new wa(function(O,q){var J=Cf()-I.tm,K=I.id;o("["+h+"] is waiting for ["+K+":"+J+" ms] to complete before starting -- ["+ol.length+"] waiting and ["+wh.length+"] running"),x.abort=function(ee){x.abort=null,u(ol,h),x.isAborted=!0,q(new Error(ee))},I.evt.then(function(ee){u(ol,h),P(x).then(O,q)},function(ee){u(ol,h),P(x).then(O,q)})});return ol.push(x),A}};function u(f,d){for(var p=0;p<f.length;p++)if(f[p].id===d)return f.splice(p,1)[0];return null}});function o(a){var c=$i();c&&c.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+a)}function s(a){r&&r.warnToConsole("ESPromiseScheduler["+i+"] "+a)}}return e.incomplete=function(){return wh},e.waitingToStart=function(){return ol},e}(),NB=kae});var FB,MB=je(()=>{vs();yh();FB=function(){function e(t){var r=this,n={},i=[],o=[];t&&o.push(t);function s(u,f){var d,p=n[u];if(p&&(d=p[f]),!d&&d!==null){if(Gt(u)&&Gt(f))if(o.length>0){for(var h=0;h<o.length;h++)if(o[h].handleField(u,f)){d={canHandle:!0,fieldHandler:o[h]};break}}else i.length===0&&(d={canHandle:!0});if(!d&&d!==null){d=null;for(var h=0;h<i.length;h++)if(i[h].handleField(u,f)){d={canHandle:!0,handler:i[h],fieldHandler:null};break}}p||(p=n[u]={}),p[f]=d}return d}r.addSanitizer=function(u){u&&(i.push(u),n={})},r.addFieldSanitizer=function(u){u&&(o.push(u),n={})},r.handleField=function(u,f){var d=s(u,f);return d?d.canHandle:!1},r.value=function(u,f,d,p){var h=s(u,f);if(h&&h.canHandle){if(!h||!h.canHandle)return null;if(h.handler)return h.handler.value(u,f,d,p);if(!Gt(f)||Ge(d)||d==="")return null;var m=null,g=Ki(d);if((g&8192)==8192){var v=g&~8192;if(m=d,!cr(m.value)||v!==1&&v!==2&&v!==3&&(v&4096)!=4096)return null}else g===1||g===2||g===3||(g&4096)==4096?m=c(u,f,d):g===4&&(m=c(u,f,p?JSON.stringify(d):d));if(m)return a(h,u,f,g,m,p)}return null},r.property=function(u,f,d,p){var h=s(u,f);if(!h||!h.canHandle||!Gt(f)||Ge(d)||!cr(d.value))return null;var m=Ki(d.value);return m===0?null:a(h,u,f,m,d,p)};function a(u,f,d,p,h,m){if(u.handler)return u.handler.property(f,d,h,m);if(!Ge(h.kind)){if((p&4096)==4096||!yf(h.kind))return null;h.value=h.value.toString()}return l(u.fieldHandler,f,d,p,h)}function c(u,f,d){return cr(d)?{value:d}:null}function l(u,f,d,p,h){if(h&&u){var m=u.getSanitizer(f,d,p,h.kind,h.propertyType);if(m)if(p===4){var g={},v=h.value;Ot(v,function(b,C){var _=f+"."+d;if(cr(C)){var P=c(_,b,C);P=l(u,_,b,Ki(C),P),P&&(g[b]=P.value)}}),h.value=g}else{var y={path:f,name:d,type:p,prop:h,sanitizer:r};h=m.call(r,y)}}return h}}return e.getFieldType=Ki,e}()});var qB={};nb(qB,{AppInsightsCore:()=>TB,BaseCore:()=>DB,BaseTelemetryPlugin:()=>rl,CoreUtils:()=>IB,DiagnosticLogger:()=>bi,ESPromise:()=>wa,ESPromiseScheduler:()=>NB,EventHelper:()=>Yx,EventLatency:()=>CB,EventPersistence:()=>EB,EventPropertyType:()=>bB,EventsDiscardedReason:()=>Hi,FullVersionString:()=>ws,InternalAppInsightsCore:()=>fh,InternalBaseCore:()=>nl,LoggingSeverity:()=>uP,MinChannelPriorty:()=>sx,NotificationManager:()=>uh,PerfEvent:()=>Jc,PerfManager:()=>Kp,ProcessTelemetryContext:()=>oP,TraceLevel:()=>_B,Undefined:()=>sr,Utils:()=>kB,ValueKind:()=>wB,ValueSanitizer:()=>FB,Version:()=>Iw,_ExtendedInternalMessageId:()=>SB,_InternalLogMessage:()=>Yc,_InternalMessageId:()=>dh,__getRegisteredEvents:()=>Gx,_throwInternal:()=>Yt,addEventHandler:()=>ha,addEventListeners:()=>yw,addPageHideEventListener:()=>ff,addPageShowEventListener:()=>df,addPageUnloadEventListener:()=>el,areCookiesSupported:()=>Gi,arrForEach:()=>Ce,arrIndexOf:()=>hr,arrMap:()=>Uc,arrReduce:()=>Bc,attachEvent:()=>cf,cookieAvailable:()=>Gi,createCookieMgr:()=>ps,createEnumStyle:()=>tn,createGuid:()=>wP,createProcessTelemetryContext:()=>bn,createTraceParent:()=>Zx,createUniqueNamespace:()=>Wi,createUnloadHandlerContainer:()=>tl,dateNow:()=>mr,deleteCookie:()=>gP,detachEvent:()=>lf,disableCookies:()=>hP,disallowsSameSiteNone:()=>af,doPerf:()=>Xt,dumpObj:()=>Bt,eventOff:()=>Zc,eventOn:()=>Xc,extend:()=>ya,findW3cTraceParent:()=>rP,formatTraceParent:()=>tP,generateW3CId:()=>ga,getCommonSchemaMetaData:()=>vh,getConsole:()=>Hp,getCookie:()=>vP,getCookieValue:()=>yP,getCrypto:()=>Vp,getDocument:()=>Cn,getExceptionName:()=>Hc,getFieldValueType:()=>Ki,getGlobal:()=>$i,getGlobalInst:()=>Kt,getHistory:()=>Rx,getIEVersion:()=>Ox,getISOString:()=>wi,getJSON:()=>nf,getLocation:()=>Wc,getMsCrypto:()=>zp,getNavigator:()=>zn,getPerformance:()=>rf,getSetValue:()=>qp,getTenantId:()=>hh,getTime:()=>rn,getWindow:()=>Po,hasDocument:()=>iw,hasHistory:()=>ow,hasJSON:()=>Gc,hasNavigator:()=>Bp,hasOwnProperty:()=>xo,hasWindow:()=>Up,isArray:()=>Je,isArrayValid:()=>Tw,isBeaconsSupported:()=>ca,isBoolean:()=>cs,isChromium:()=>Aw,isDate:()=>Ju,isDocumentObjectAvailable:()=>ph,isError:()=>$c,isFetchSupported:()=>Wp,isFunction:()=>rt,isIE:()=>Vi,isLatency:()=>mh,isNotTruthy:()=>Qu,isNullOrUndefined:()=>Ge,isNumber:()=>yn,isObject:()=>Rr,isReactNative:()=>ds,isSampledFlag:()=>eP,isString:()=>Gt,isTruthy:()=>Xu,isTypeof:()=>Ku,isUint8ArrayAvailable:()=>pP,isUndefined:()=>pt,isValidSpanId:()=>gf,isValidTraceId:()=>mf,isValidTraceParent:()=>bw,isValueAssigned:()=>cr,isValueKind:()=>yf,isWindowObjectAvailable:()=>dP,isXhrSupported:()=>of,mergeEvtNamespace:()=>hs,newGuid:()=>pf,newId:()=>fa,normalizeJsName:()=>qc,objCreate:()=>So,objDefineAccessors:()=>Vn,objForEachKey:()=>Ot,objFreeze:()=>wn,objKeys:()=>en,objSeal:()=>gx,openXhr:()=>Dw,optimizeObject:()=>ls,parseTraceParent:()=>sh,perfNow:()=>hf,proxyAssign:()=>vx,proxyFunctionAs:()=>aa,proxyFunctions:()=>Vc,random32:()=>zi,randomValue:()=>Qc,removeEventHandler:()=>vw,removeEventListeners:()=>ma,removePageHideEventListener:()=>ih,removePageShowEventListener:()=>oh,removePageUnloadEventListener:()=>nh,safeGetCookieMgr:()=>pa,safeGetLogger:()=>Gp,sanitizeProperty:()=>gh,setCookie:()=>mP,setEnableEnvMocks:()=>Dx,setProcessTelemetryTimings:()=>wf,setValue:()=>gr,strContains:()=>tr,strEndsWith:()=>jc,strFunction:()=>vi,strObject:()=>or,strPrototype:()=>ar,strStartsWith:()=>Yu,strTrim:()=>Nt,strUndefined:()=>sr,throwError:()=>Or,toISOString:()=>wi,useXDomainRequest:()=>Kc});var sl=je(()=>{xB();AB();RB();EP();LB();MB();vs();yh()});var al,Rw,Ow,SP=je(()=>{al="REAL_TIME",Rw="NEAR_REAL_TIME",Ow="BEST_EFFORT"});var Nw,jB,Lw,$B,xP,UB,BB,HB,PP,kP,Fw,VB,IP,zB,TP,Mw,AP,qw,jw,$w,Ch,DP,WB,bf,Uw=je(()=>{Nw="POST",jB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Lw="drop",$B="send",xP="requeue",UB="rspFail",BB="oth",HB="no-cache, no-store",PP="application/x-json-stream",kP="cache-control",Fw="content-type",VB="kill-tokens",IP="kill-duration",zB="kill-duration-seconds",TP="time-delta-millis",Mw="client-version",AP="client-id",qw="time-delta-to-apply-millis",jw="upload-time",$w="apikey",Ch="AuthMsaDeviceTicket",DP="AuthXToken",WB="NoResponseBody",bf="msfpc"});function GB(e){var t=(e.ext||{}).intweb;return t&&cr(t[bf])?t[bf]:null}function KB(e){for(var t=null,r=0;t===null&&r<e.length;r++)t=GB(e[r]);return t}var Ef,RP=je(()=>{sl();Uw();Ef=function(){function e(t,r){var n=r?[].concat(r):[],i=this,o=KB(n);i.iKey=function(){return t},i.Msfpc=function(){return o||""},i.count=function(){return n.length},i.events=function(){return n},i.addEvent=function(s){return s?(n.push(s),o||(o=GB(s)),!0):!1},i.split=function(s,a){var c;if(s<n.length){var l=n.length-s;Ge(a)||(l=a<l?a:l),c=n.splice(s,l),o=KB(n)}return new e(t,c)}}return e.create=function(t,r){return new e(t,r)},e}()});function ZB(e,t,r,n){if(n&&e){var i=vh(n.value,n.kind,n.propertyType);if(i>-1){var o=e[QB];o||(o=e[QB]={f:{}});var s=o[Bw];if(s||(s=o[Bw]={}),t)for(var a=0;a<t.length;a++){var c=t[a];s[c]||(s[c]={f:{}});var l=s[c][Bw];l||(l=s[c][Bw]={}),s=l}s=s[r]={},Je(n.value)?s.a={t:i}:s.t=i}}}var Iae,Tae,YB,JB,Aae,QB,Bw,Dae,XB,eH=je(()=>{sl();RP();Nr();Iae=20,Tae=3984588,YB=65e3,JB=2e6,Aae=Math.min(JB,YB),QB="metadata",Bw="f",Dae=/\./,XB=function(){function e(t,r,n,i){var o="data",s="baseData",a="ext",c=!!i,l=!0,u=r,f={};ft(e,this,function(d){d.createPayload=function(m,g,v,y,b,C){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:m,isTeardown:g,isSync:v,isBeacon:y,sendType:C,sendReason:b}},d.appendPayload=function(m,g,v){var y=m&&g&&!m.overflow;return y&&Xt(t,function(){return"Serializer:appendPayload"},function(){for(var b=g.events(),C=m.payloadBlob,_=m.numEvents,P=!1,S=[],x=[],I=m.isBeacon,A=I?YB:Tae,O=I?Aae:JB,q=0,J=0;q<b.length;){var K=b[q];if(K){if(_>=v){m.overflow=g.split(q);break}var ee=d.getEventBlob(K);if(ee&&ee.length<=O){var re=ee.length,j=C.length;if(j+re>A){m.overflow=g.split(q);break}C&&(C+=`
`),C+=ee,J++,J>Iae&&(C.substr(0,1),J=0),P=!0,_++}else ee?S.push(K):x.push(K),b.splice(q,1),q--}q++}if(S&&S.length>0&&m.sizeExceed.push(Ef.create(g.iKey(),S)),x&&x.length>0&&m.failedEvts.push(Ef.create(g.iKey(),x)),P){m.batches.push(g),m.payloadBlob=C,m.numEvents=_;var F=g.iKey();hr(m.apiKeys,F)===-1&&m.apiKeys.push(F)}},function(){return{payload:m,theBatch:{iKey:g.iKey(),evts:g.events()},max:v}}),y},d.getEventBlob=function(m){try{return Xt(t,function(){return"Serializer.getEventBlob"},function(){var g={};g.name=m.name,g.time=m.time,g.ver=m.ver,g.iKey="o:"+hh(m.iKey);var v={},y=m[a];y&&(g[a]=v,Ot(y,function(_,P){var S=v[_]={};h(P,S,"ext."+_,!0,null,null,!0)}));var b=g[o]={};b.baseType=m.baseType;var C=b[s]={};return h(m.baseData,C,s,!1,[s],function(_,P,S){ZB(v,_,P,S)},l),h(m.data,b,o,!1,[],function(_,P,S){ZB(v,_,P,S)},l),JSON.stringify(g)},function(){return{item:m}})}catch{return null}};function p(m,g){var v=f[m];return v===void 0&&(m.length>=7&&(v=Yu(m,"ext.metadata")||Yu(m,"ext.web")),f[m]=v),v}function h(m,g,v,y,b,C,_){Ot(m,function(P,S){var x=null;if(S||cr(S)){var I=v,A=P,O=b,q=g;if(c&&!y&&Dae.test(P)){var J=P.split("."),K=J.length;if(K>1){O&&(O=O.slice());for(var ee=0;ee<K-1;ee++){var re=J[ee];q=q[re]=q[re]||{},I+="."+re,O&&O.push(re)}A=J[K-1]}}var j=y&&p(I,A);if(!j&&u&&u.handleField(I,A)?x=u.value(I,A,S,n):x=gh(A,S,n),x){var F=x.value;if(q[A]=F,C&&C(O,A,x),_&&typeof F=="object"&&!Je(F)){var D=O;D&&(D=D.slice(),D.push(A)),h(S,F,I+"."+A,y,D,C,_)}}}})}})}return e}()});function rH(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function Hw(e){var t=0,r=tH*Rae,n=tH*Oae,i=Math.floor(Math.random()*(n-r))+r;return t=Math.pow(2,e)*i,Math.min(t,Nae)}var Rae,Oae,tH,Nae,OP=je(()=>{Rae=.8,Oae=1.2,tH=3e3,Nae=6e5});var Lae,Fae,nH,iH=je(()=>{Nr();sl();Lae=1e3,Fae=function(){function e(){var t={};function r(n){var i=[];return n&&Ce(n,function(o){i.push(Nt(o))}),i}ft(e,this,function(n){n.setKillSwitchTenants=function(i,o){if(i&&o)try{var s=r(i.split(","));if(o==="this-request-only")return s;for(var a=parseInt(o,10)*Lae,c=0;c<s.length;++c)t[s[c]]=mr()+a}catch{return[]}return[]},n.isTenantKilled=function(i){var o=t,s=Nt(i);return o[s]!==void 0&&o[s]>mr()?!0:(delete o[s],!1)}})}return e}(),nH=Fae});var Mae,oH,sH=je(()=>{Nr();Mae=function(){function e(){var t=!0,r=!0,n=!0,i="use-collector-delta",o=!1;ft(e,this,function(s){s.allowRequestSending=function(){return t},s.firstRequestSent=function(){n&&(n=!1,o||(t=!1))},s.shouldAddClockSkewHeaders=function(){return r},s.getClockSkewHeaderValue=function(){return i},s.setClockSkew=function(a){o||(a?(i=a,r=!0,o=!0):r=!1,t=!0)}})}return e}(),oH=Mae});function ll(e,t,r){LP[e]=t,r!==!1&&(FP[t]=e)}function cH(e){try{return e.responseText}catch{}return""}function lH(e,t){var r=!1;if(e&&t){var n=en(e);if(n&&n.length>0)for(var i=t.toLowerCase(),o=0;o<n.length;o++){var s=n[o];if(s&&xo(t,s)&&s.toLowerCase()===i){r=!0;break}}}return r}function _f(e,t,r,n){t&&r&&r.length>0&&(n&&LP[t]?(e.hdrs[LP[t]]=r,e.useHdrs=!0):e.url+="&"+t+"="+r)}var cl,NP,aH,qae,LP,FP,uH,fH=je(()=>{sl();eH();OP();iH();sH();Nr();Uw();NP="sendAttempt",aH="&"+WB+"=true",qae=(cl={},cl[1]=xP,cl[100]=xP,cl[200]="sent",cl[8004]=Lw,cl[8003]=Lw,cl),LP={},FP={};ll(Ch,Ch,!1);ll(Mw,Mw);ll(AP,"Client-Id");ll($w,$w);ll(qw,qw);ll(jw,jw);ll(DP,DP);uH=function(){function e(t,r,n,i,o){this._responseHandlers=[];var s="?cors=true&"+Fw.toLowerCase()+"="+PP,a=new nH,c=!1,l=new oH,u=!1,f=0,d,p,h,m=!0,g=[],v={},y=[],b=null,C=!1,_,P=!1,S=!1,x,I;ft(e,this,function(A){var O=!0;A.initialize=function(V,ae,ne,fe,me){var Be;me||(me={}),s=V+s,S=pt(me.avoidOptions)?!0:!me.avoidOptions,h=ae,_=ae.getCookieMgr(),C=!h.config.disableEventTimings;var Me=!!h.config.enableCompoundKey;d=ne;var we=me.valueSanitizer,qe=me.stringifyObjects;pt(me.enableCompoundKey)||(Me=!!me.enableCompoundKey),x=me.xhrTimeout,I=me.disableXhrSync,u=!ds(),b=new XB(h,we,qe,Me);var _e=fe,W=me.alwaysUseXhrOverride?fe:null,oe=me.alwaysUseXhrOverride?fe:null;if(!fe){m=!1;var se=Wc();se&&se.protocol&&se.protocol.toLowerCase()==="file:"&&(O=!1);var de=[];ds()?de=[2,1]:de=[1,2,3];var be=me.transports;be&&(yn(be)?de=[be].concat(de):Je(be)&&(de=be.concat(de))),fe=q(de,!1),_e=q(de,!0),fe||d.diagLog().warnToConsole("No available transport to send events")}p=(Be={},Be[0]=fe,Be[1]=_e||q([1,2,3],!0),Be[2]=W||q([3,2],!0)||_e||q([1],!0),Be[3]=oe||q([2,3],!0)||_e||q([1],!0),Be)};function q(V,ae){for(var ne=0,fe=null,me=0;fe==null&&me<V.length;)ne=V[me],ne===1?Kc()?fe=J:of()&&(fe=ee):ne===2&&Wp(ae)?fe=K:u&&ne===3&&ca()&&(fe=j),me++;return fe?{_transport:ne,_isSync:ae,sendPOST:fe}:null}A._getDbgPlgTargets=function(){return[p[0],a,b,p]};function J(V,ae,ne){var fe=new XDomainRequest;fe.open(Nw,V.urlString),V.timeout&&(fe.timeout=V.timeout),fe.onload=function(){var me=cH(fe);re(ae,200,{},me),an(me)},fe.onerror=function(){re(ae,400,{})},fe.ontimeout=function(){re(ae,500,{})},fe.onprogress=function(){},ne?fe.send(V.data):o.set(function(){fe.send(V.data)},0)}function K(V,ae,ne){var fe,me=V.urlString,Be=!1,Me=!1,we=(fe={body:V.data,method:Nw},fe[jB]=!0,fe);ne&&(we.keepalive=!0,V._sendReason===2&&(Be=!0,me+=aH)),O&&(we.credentials="include"),V.headers&&en(V.headers).length>0&&(we.headers=V.headers),fetch(me,we).then(function(qe){var _e={},W="";qe.headers&&qe.headers.forEach(function(oe,se){_e[se]=oe}),qe.body&&qe.text().then(function(oe){W=oe}),Me||(Me=!0,re(ae,qe.status,_e,W),an(W))}).catch(function(qe){Me||(Me=!0,re(ae,0,{}))}),Be&&!Me&&(Me=!0,re(ae,200,{})),!Me&&V.timeout>0&&o.set(function(){Me||(Me=!0,re(ae,500,{}))},V.timeout)}function ee(V,ae,ne){var fe=V.urlString;function me(qe,_e,W){if(!qe[W]&&_e&&_e.getResponseHeader){var oe=_e.getResponseHeader(W);oe&&(qe[W]=Nt(oe))}return qe}function Be(qe){var _e={};return qe.getAllResponseHeaders?_e=Xe(qe.getAllResponseHeaders()):(_e=me(_e,qe,TP),_e=me(_e,qe,IP),_e=me(_e,qe,zB)),_e}function Me(qe,_e){re(ae,qe.status,Be(qe),_e)}ne&&V.disableXhrSync&&(ne=!1);var we=Dw(Nw,fe,O,!0,ne,V.timeout);Ot(V.headers,function(qe,_e){we.setRequestHeader(qe,_e)}),we.onload=function(){var qe=cH(we);Me(we,qe),an(qe)},we.onerror=function(){Me(we)},we.ontimeout=function(){Me(we)},we.send(V.data)}function re(V,ae,ne,fe){try{V(ae,ne,fe)}catch(me){Yt(d.diagLog(),2,518,Bt(me))}}function j(V,ae,ne){var fe=V,me=200,Be=fe._thePayload,Me=V.urlString+aH;try{var we=zn();if(!we.sendBeacon(Me,V.data))if(Be){var qe=[];Ce(Be.batches,function(_e){if(qe&&_e&&_e.count()>0){for(var W=_e.events(),oe=0;oe<W.length;oe++)if(!we.sendBeacon(Me,b.getEventBlob(W[oe]))){qe.push(_e.split(oe));break}}else qe.push(_e.split(0))}),ie(qe,8003,Be.sendType,!0)}else me=0}catch(_e){d.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+Bt(_e)),me=0}finally{re(ae,me,{},"")}}function F(V){return V===2||V===3}function D(V){return P&&F(V)&&(V=2),V}A.addQueryStringParameter=function(V,ae){for(var ne=0;ne<g.length;ne++)if(g[ne].name===V){g[ne].value=ae;return}g.push({name:V,value:ae})},A.addHeader=function(V,ae){v[V]=ae},A.canSendRequest=function(){return $()&&l.allowRequestSending()},A.sendQueuedRequests=function(V,ae){pt(V)&&(V=0),P&&(V=D(V),ae=2),X(y,V,0)&&ve(Y(),0,!1,V,ae||0)},A.isCompletelyIdle=function(){return!c&&f===0&&y.length===0},A.setUnloading=function(V){P=V},A.addBatch=function(V){if(V&&V.count()>0){if(a.isTenantKilled(V.iKey()))return!1;y.push(V)}return!0},A.teardown=function(){y.length>0&&ve(Y(),0,!0,2,2)},A.pause=function(){c=!0},A.resume=function(){c=!1,A.sendQueuedRequests(0,4)},A.sendSynchronousBatch=function(V,ae,ne){V&&V.count()>0&&(Ge(ae)&&(ae=1),P&&(ae=D(ae),ne=2),ve([V],0,!1,ae,ne||0))};function $(){return!c&&f<r}function Y(){var V=y;return y=[],V}function X(V,ae,ne){var fe=!1;return V&&V.length>0&&!c&&p[ae]&&b&&(fe=ae!==0||$()&&(ne>0||l.allowRequestSending())),fe}function Q(V){var ae={};return V&&Ce(V,function(ne,fe){ae[fe]={iKey:ne.iKey(),evts:ne.events()}}),ae}function ve(V,ae,ne,fe,me){if(!(!V||V.length===0)){if(c){ie(V,1,fe);return}fe=D(fe);try{var Be=V,Me=fe!==0;Xt(h,function(){return"HttpManager:_sendBatches"},function(we){we&&(V=V.slice(0));for(var qe=[],_e=null,W=rn(),oe=p[fe]||(Me?p[1]:p[0]),se=(P||F(fe)||oe&&oe._transport===3)&&Se();X(V,fe,ae);){var de=V.shift();de&&de.count()>0&&(a.isTenantKilled(de.iKey())?qe.push(de):(_e=_e||b.createPayload(ae,ne,Me,se,me,fe),b.appendPayload(_e,de,t)?_e.overflow!==null&&(V=[_e.overflow].concat(V),_e.overflow=null,Ee(_e,W,rn(),me),W=rn(),_e=null):(Ee(_e,W,rn(),me),W=rn(),V=[de].concat(V),_e=null)))}_e&&Ee(_e,W,rn(),me),V.length>0&&(y=V.concat(y)),ie(qe,8004,fe)},function(){return{batches:Q(Be),retryCount:ae,isTeardown:ne,isSynchronous:Me,sendReason:me,useSendBeacon:F(fe),sendType:fe}},!Me)}catch(we){Yt(d.diagLog(),2,48,"Unexpected Exception sending batch: "+Bt(we))}}}function Ae(V,ae){var ne={url:s,hdrs:{},useHdrs:!1};ae?(ne.hdrs=ya(ne.hdrs,v),ne.useHdrs=en(ne.hdrs).length>0):Ot(v,function(we,qe){FP[we]?_f(ne,FP[we],qe,!1):(ne.hdrs[we]=qe,ne.useHdrs=!0)}),_f(ne,AP,"NO_AUTH",ae),_f(ne,Mw,ws,ae);var fe="";Ce(V.apiKeys,function(we){fe.length>0&&(fe+=","),fe+=we}),_f(ne,$w,fe,ae),_f(ne,jw,mr().toString(),ae);var me=Kn(V);if(cr(me)&&(ne.url+="&ext.intweb.msfpc="+me),l.shouldAddClockSkewHeaders()&&_f(ne,qw,l.getClockSkewHeaderValue(),ae),h.getWParam){var Be=h.getWParam();Be>=0&&(ne.url+="&w="+Be)}for(var Me=0;Me<g.length;Me++)ne.url+="&"+g[Me].name+"="+g[Me].value;return ne}function Se(){return!m&&u&&ca()}function Oe(V,ae,ne){V[ae]=V[ae]||{},V[ae][d.identifier]=ne}function Ee(V,ae,ne,fe){if(V&&V.payloadBlob&&V.payloadBlob.length>0){var me=!!A.sendHook,Be=p[V.sendType];!F(V.sendType)&&V.isBeacon&&V.sendReason===2&&(Be=p[2]||p[3]||Be);var Me=S;(V.isBeacon||Be._transport===3)&&(Me=!1);var we=Ae(V,Me);Me=Me||we.useHdrs;var qe=rn();Xt(h,function(){return"HttpManager:_doPayloadSend"},function(){for(var _e=0;_e<V.batches.length;_e++)for(var W=V.batches[_e],oe=W.events(),se=0;se<oe.length;se++){var de=oe[se];if(C){var be=de.timings=de.timings||{};Oe(be,"sendEventStart",qe),Oe(be,"serializationStart",ae),Oe(be,"serializationCompleted",ne)}de[NP]>0?de[NP]++:de[NP]=1}ie(V.batches,1e3+(fe||0),V.sendType,!0);var De={data:V.payloadBlob,urlString:we.url,headers:we.hdrs,_thePayload:V,_sendReason:fe,timeout:x};pt(I)||(De.disableXhrSync=!!I),Me&&(lH(De.headers,kP)||(De.headers[kP]=HB),lH(De.headers,Fw)||(De.headers[Fw]=PP));var nt=null;Be&&(nt=function(Ze){l.firstRequestSent();var ct=function(qt,ye){It(qt,ye,V,fe)},Ue=V.isTeardown||V.isSync;try{Be.sendPOST(Ze,ct,Ue),A.sendListener&&A.sendListener(De,Ze,Ue,V.isBeacon)}catch(qt){d.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+Bt(qt)),re(ct,0,{})}}),Xt(h,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(nt)if(V.sendType===0&&f++,me&&!V.isBeacon&&Be._transport!==3){var Ze={data:De.data,urlString:De.urlString,headers:ya({},De.headers),timeout:De.timeout,disableXhrSync:De.disableXhrSync},ct=!1;Xt(h,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{A.sendHook(Ze,function(Ue){ct=!0,!m&&!Ue._thePayload&&(Ue._thePayload=Ue._thePayload||De._thePayload,Ue._sendReason=Ue._sendReason||De._sendReason),nt(Ue)},V.isSync||V.isTeardown)}catch{ct||nt(De)}})}else nt(De)})},function(){return{thePayload:V,serializationStart:ae,serializationCompleted:ne,sendReason:fe}},V.isSync)}V.sizeExceed&&V.sizeExceed.length>0&&ie(V.sizeExceed,8003,V.sendType),V.failedEvts&&V.failedEvts.length>0&&ie(V.failedEvts,8002,V.sendType)}function _t(V,ae){C&&Ce(V,function(ne){var fe=ne.timings=ne.timings||{};Oe(fe,"sendEventCompleted",ae)})}function It(V,ae,ne,fe){var me=9e3,Be=null,Me=!1,we=!1;try{var qe=!0;if(typeof V!==sr){if(ae){l.setClockSkew(ae[TP]);var _e=ae[IP]||ae["kill-duration-seconds"];Ce(a.setKillSwitchTenants(ae[VB],_e),function(oe){Ce(ne.batches,function(se){if(se.iKey()===oe){Be=Be||[];var de=se.split(0);ne.numEvents-=de.count(),Be.push(de)}})})}if(V==200||V==204){me=200;return}(!rH(V)||ne.numEvents<=0)&&(qe=!1),me=9e3+V%1e3}if(qe){me=100;var W=ne.retryCnt;ne.sendType===0&&(W<n?(Me=!0,Fe(function(){ne.sendType===0&&f--,ve(ne.batches,W+1,ne.isTeardown,P?2:ne.sendType,5)},P,Hw(W))):(we=!0,P&&(me=8001)))}}finally{Me||(l.setClockSkew(),Re(ne,me,fe,we)),ie(Be,8004,ne.sendType)}}function Re(V,ae,ne,fe){try{fe&&d._backOffTransmission(),ae===200&&(!fe&&!V.isSync&&d._clearBackOff(),Te(V.batches)),ie(V.batches,ae,V.sendType,!0)}finally{V.sendType===0&&(f--,ne!==5&&A.sendQueuedRequests(V.sendType,ne))}}function Te(V){if(C){var ae=rn();Ce(V,function(ne){ne&&ne.count()>0&&_t(ne.events(),ae)})}}function Fe(V,ae,ne){ae?V():o.set(V,ne)}function Xe(V){var ae={};if(Gt(V)){var ne=Nt(V).split(/[\r\n]+/);Ce(ne,function(fe){if(fe){var me=fe.indexOf(": ");if(me!==-1){var Be=Nt(fe.substring(0,me)).toLowerCase(),Me=Nt(fe.substring(me+1));ae[Be]=Me}else ae[Nt(fe)]=1}})}return ae}function Kn(V){for(var ae=0;ae<V.batches.length;ae++){var ne=V.batches[ae].Msfpc();if(ne)return encodeURIComponent(ne)}return""}function an(V){var ae=A._responseHandlers;try{for(var ne=0;ne<ae.length;ne++)try{ae[ne](V)}catch(me){Yt(d.diagLog(),1,519,"Response handler failed: "+me)}if(V){var fe=JSON.parse(V);cr(fe.webResult)&&cr(fe.webResult[bf])&&_.set("MSFPC",fe.webResult[bf],365*86400)}}catch{}}function ie(V,ae,ne,fe){if(V&&V.length>0&&i){var me=i[Yn(ae)];if(me){var Be=ne!==0;Xt(h,function(){return"HttpManager:_sendBatchesNotification"},function(){Fe(function(){try{me.call(i,V,ae,Be,ne)}catch(Me){Yt(d.diagLog(),1,74,"send request notification failed: "+Me)}},fe||Be,0)},function(){return{batches:Q(V),reason:ae,isSync:Be,sendSync:fe,sendType:ne}},!Be)}}}function Yn(V){var ae=qae[V];return cr(ae)||(ae=BB,V>=9e3&&V<=9999?ae=UB:V>=8e3&&V<=8999?ae=Lw:V>=1e3&&V<=1999&&(ae=$B)),ae}})}return e}()});function jae(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout(e,t,r)}function $ae(e){clearTimeout(e)}function bh(e,t){return{set:e||jae,clear:t||$ae}}var dH=je(()=>{});var Uae,pH,Bae,hH,mH,Hae,gH,Vae,ul,Vw,vH,yH,zae,Wae,wH,CH=je(()=>{gn();Nr();sl();SP();RP();fH();OP();Uw();dH();Uae=.25,pH=500,Bae=20,hH=6,mH=2,Hae=4,gH=2,Vae=1,ul="eventsDiscarded",Vw="overrideInstrumentationKey",vH="maxEventRetryAttempts",yH="maxUnloadEventRetryAttempts",zae="addUnloadCb",Wae=function(e){Ui(t,e);function t(){var r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.3";var n,i=!1,o=[],s=null,a=!1,c=0,l=500,u=0,f=1e4,d={},p=al,h=null,m=null,g=0,v=0,y,b,C={},_,P,S=-1,x,I=!0,A=!1,O=hH,q=mH,J,K;return ft(t,r,function(ee,re){ve(),ee._getDbgPlgTargets=function(){return[b]},ee.initialize=function(W,oe,se){Xt(oe,function(){return"PostChannel:initialize"},function(){var de=oe;re.initialize(W,oe,se);try{var be=!!oe[zae];J=hs(Wi(ee.identifier),oe.evtNamespace&&oe.evtNamespace());var De=ee._getTelCtx();W.extensionConfig[ee.identifier]=W.extensionConfig[ee.identifier]||{},n=De.getExtCfg(ee.identifier),K=bh(n.setTimeoutOverride,n.clearTimeoutOverride),I=!n.disableOptimizeObj&&Aw(),j(de),n.eventsLimitInMem>0&&(f=n.eventsLimitInMem),n.immediateEventLimit>0&&(l=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(_=n.autoFlushEventsLimit),yn(n[vH])&&(O=n[vH]),yn(n[yH])&&(q=n[yH]),_e(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(y=n.httpXHROverride),cr(W.anonCookieName)&&b.addQueryStringParameter("anoncknm",W.anonCookieName),b.sendHook=n.payloadPreprocessor,b.sendListener=n.payloadListener;var nt=n.overrideEndpointUrl?n.overrideEndpointUrl:W.endpointUrl;ee._notificationManager=W.extensionConfig.NotificationManager,b.initialize(nt,ee.core,ee,y,n);var Ze=W.disablePageUnloadEvents||[];el(F,Ze,J),ff(F,Ze,J),df(D,W.disablePageShowEvents,J)}catch(ct){throw ee.setInitialized(!1),ct}},function(){return{coreConfig:W,core:oe,extensions:se}})},ee.processTelemetry=function(W,oe){wf(W,ee.identifier),oe=ee._getTelCtx(oe);var se=oe.getExtCfg(ee.identifier),de=!!n.disableTelemetry;se&&(de=de||!!se.disableTelemetry);var be=W;!de&&!i&&(n[Vw]&&(be.iKey=n[Vw]),se&&se[Vw]&&(be.iKey=se[Vw]),$(be,!0),A?Oe(2,2):Q()),ee.processNext(be,oe)},ee._doTeardown=function(W,oe){Oe(2,2),i=!0,b.teardown(),nh(null,J),ih(null,J),oh(null,J),ve()};function j(W){var oe=W.getWParam;W.getWParam=function(){var se=0;return n.ignoreMc1Ms0CookieProcessing&&(se=se|2),se|oe()}}function F(W){var oe=W||Po().event;oe.type!=="beforeunload"&&(A=!0,b.setUnloading(A)),Oe(2,2)}function D(W){A=!1,b.setUnloading(A)}function $(W,oe){if(W.sendAttempt||(W.sendAttempt=0),W.latency||(W.latency=1),W.ext&&W.ext.trace&&delete W.ext.trace,W.ext&&W.ext.user&&W.ext.user.id&&delete W.ext.user.id,I&&(W.ext=ls(W.ext),W.baseData&&(W.baseData=ls(W.baseData)),W.data&&(W.data=ls(W.data))),W.sync){if(g||a)W.latency=3,W.sync=!1;else if(b){I&&(W=ls(W)),b.sendSynchronousBatch(Ef.create(W.iKey,[W]),W.sync===!0?1:W.sync,3);return}}var se=W.latency,de=u,be=f;se===4&&(de=c,be=l);var De=!1;if(de<be)De=!Re(W,oe);else{var nt=1,Ze=Bae;se===4&&(nt=4,Ze=1),De=!0,Te(W.iKey,W.latency,nt,Ze)&&(De=!Re(W,oe))}De&&ne(ul,[W],Hi.QueueFull)}ee.setEventQueueLimits=function(W,oe){f=W>0?W:1e4,_=oe>0?oe:0,_e();var se=u>W;if(!se&&P>0)for(var de=1;!se&&de<=3;de++){var be=C[de];be&&be.batches&&Ce(be.batches,function(De){De&&De.count()>=P&&(se=!0)})}It(!0,se)},ee.pause=function(){Se(),a=!0,b.pause()},ee.resume=function(){a=!1,b.resume(),Q()},ee.addResponseHandler=function(W){b._responseHandlers.push(W)},ee._loadTransmitProfiles=function(W){ie(),Ot(W,function(oe,se){var de=se.length;if(de>=2){var be=de>2?se[2]:0;if(se.splice(0,de-2),se[1]<0&&(se[0]=-1),se[1]>0&&se[0]>0){var De=se[0]/se[1];se[0]=Math.ceil(De)*se[1]}be>=0&&se[1]>=0&&be>se[1]&&(be=se[1]),se.push(be),d[oe]=se}})},ee.flush=function(W,oe,se){if(W===void 0&&(W=!0),!a)if(se=se||1,W)s==null?(Se(),Xe(1,0,se),s=Ae(function(){s=null,Kn(oe,se)},0)):o.push(oe);else{var de=Se();Y(1,1,se),oe!=null&&oe(),de&&Q()}},ee.setMsaAuthTicket=function(W){b.addHeader(Ch,W)},ee.hasEvents=X,ee._setTransmitProfile=function(W){p!==W&&d[W]!==void 0&&(Se(),p=W,Q())};function Y(W,oe,se){var de=Xe(W,oe,se);return b.sendQueuedRequests(oe,se),de}function X(){return u>0}function Q(){if(S>=0&&Xe(S,0,x)&&b.sendQueuedRequests(0,x),c>0&&!m&&!a){var W=d[p][2];W>=0&&(m=Ae(function(){m=null,Y(4,0,1),Q()},W))}var oe=d[p][1];!h&&!s&&oe>=0&&!a&&(X()?h=Ae(function(){h=null,Y(v===0?3:1,0,1),v++,v%=2,Q()},oe):v=0)}ee._backOffTransmission=function(){g<Hae&&(g++,Se(),Q())},ee._clearBackOff=function(){g&&(g=0,Se(),Q())};function ve(){n=null,i=!1,o=[],s=null,a=!1,c=0,l=500,u=0,f=1e4,d={},p=al,h=null,m=null,g=0,v=0,y=null,C={},_=void 0,P=0,S=-1,x=null,I=!0,A=!1,O=hH,q=mH,J=null,K=bh(),b=new uH(pH,gH,Vae,{requeue:V,send:me,sent:Be,drop:Me,rspFail:we,oth:qe},K),Yn(),Ee(),_e()}function Ae(W,oe){oe===0&&g&&(oe=1);var se=1e3;return g&&(se=Hw(g-1)),K.set(W,oe*se)}function Se(){return h!==null?(K.clear(h),h=null,v=0,!0):!1}function Oe(W,oe){Se(),s&&(K.clear(s),s=null),a||Y(1,W,oe)}function Ee(){C[4]={batches:[],iKeyMap:{}},C[3]={batches:[],iKeyMap:{}},C[2]={batches:[],iKeyMap:{}},C[1]={batches:[],iKeyMap:{}}}function _t(W,oe,se){var de=C[oe];de||(oe=1,de=C[oe]);var be=de.iKeyMap[W];return!be&&se&&(be=Ef.create(W),de.batches.push(be),de.iKeyMap[W]=be),be}function It(W,oe){b.canSendRequest()&&!g&&(_>0&&u>_&&(oe=!0),oe&&s==null&&ee.flush(W,null,20))}function Re(W,oe){I&&(W=ls(W));var se=W.latency,de=_t(W.iKey,se,!0);return de.addEvent(W)?(se!==4?(u++,oe&&W.sendAttempt===0&&It(!W.sync,P>0&&de.count()>=P)):c++,!0):!1}function Te(W,oe,se,de){for(;se<=oe;){var be=_t(W,oe,!0);if(be&&be.count()>0){var De=be.split(0,de),nt=De.count();if(nt>0)return se===4?c-=nt:u-=nt,fe(ul,[De],Hi.QueueFull),!0}se++}return Fe(),!1}function Fe(){for(var W=0,oe=0,se=function(be){var De=C[be];De&&De.batches&&Ce(De.batches,function(nt){be===4?W+=nt.count():oe+=nt.count()})},de=1;de<=4;de++)se(de);u=oe,c=W}function Xe(W,oe,se){var de=!1,be=oe===0;return!be||b.canSendRequest()?Xt(ee.core,function(){return"PostChannel._queueBatches"},function(){for(var De=[],nt=4;nt>=W;){var Ze=C[nt];Ze&&Ze.batches&&Ze.batches.length>0&&(Ce(Ze.batches,function(ct){b.addBatch(ct)?de=de||ct&&ct.count()>0:De=De.concat(ct.events()),nt===4?c-=ct.count():u-=ct.count()}),Ze.batches=[],Ze.iKeyMap={}),nt--}De.length>0&&ne(ul,De,Hi.KillSwitch),de&&S>=W&&(S=-1,x=0)},function(){return{latency:W,sendType:oe,sendReason:se}},!be):(S=S>=0?Math.min(S,W):W,x=Math.max(x,se)),de}function Kn(W,oe){Y(1,0,oe),Fe(),an(function(){W&&W(),o.length>0?s=Ae(function(){s=null,Kn(o.shift(),oe)},0):(s=null,Q())})}function an(W){b.isCompletelyIdle()?W():s=Ae(function(){s=null,an(W)},Uae)}function ie(){Se(),Yn(),p=al,Q()}function Yn(){d={},d[al]=[2,1,0],d[Rw]=[6,3,0],d[Ow]=[18,9,0]}function V(W,oe){var se=[],de=O;A&&(de=q),Ce(W,function(be){be&&be.count()>0&&Ce(be.events(),function(De){De&&(De.sync&&(De.latency=4,De.sync=!1),De.sendAttempt<de?(wf(De,ee.identifier),$(De,!1)):se.push(De))})}),se.length>0&&ne(ul,se,Hi.NonRetryableStatus),A&&Oe(2,2)}function ae(W,oe){var se=ee._notificationManager||{},de=se[W];if(de)try{de.apply(se,oe)}catch(be){Yt(ee.diagLog(),1,74,W+" notification failed: "+be)}}function ne(W,oe){for(var se=[],de=2;de<arguments.length;de++)se[de-2]=arguments[de];oe&&oe.length>0&&ae(W,[oe].concat(se))}function fe(W,oe){for(var se=[],de=2;de<arguments.length;de++)se[de-2]=arguments[de];oe&&oe.length>0&&Ce(oe,function(be){be&&be.count()>0&&ae(W,[be.events()].concat(se))})}function me(W,oe,se){W&&W.length>0&&ae("eventsSendRequest",[oe>=1e3&&oe<=1999?oe-1e3:0,se!==!0])}function Be(W,oe){fe("eventsSent",W,oe),Q()}function Me(W,oe){fe(ul,W,oe>=8e3&&oe<=8999?oe-8e3:Hi.Unknown)}function we(W){fe(ul,W,Hi.NonRetryableStatus),Q()}function qe(W,oe){fe(ul,W,Hi.Unknown),Q()}function _e(){!n||!n.disableAutoBatchFlushLimit?P=Math.max(pH*(gH+1),f/6):P=0}Vn(ee,"_setTimeoutOverride",function(){return K.set},function(W){K=bh(W,K.clear)}),Vn(ee,"_clearTimeoutOverride",function(){return K.clear},function(W){K=bh(K.set,W)})}),r}return t}(rl),wH=Wae});var bH={};nb(bH,{BE_PROFILE:()=>Ow,NRT_PROFILE:()=>Rw,PostChannel:()=>wH,RT_PROFILE:()=>al});var EH=je(()=>{CH();SP()});var gV=T((F1e,mV)=>{var Gae=Object.create,Eh=Object.defineProperty,Kae=Object.defineProperties,Yae=Object.getOwnPropertyDescriptor,Jae=Object.getOwnPropertyDescriptors,Qae=Object.getOwnPropertyNames,_H=Object.getOwnPropertySymbols,Xae=Object.getPrototypeOf,SH=Object.prototype.hasOwnProperty,Zae=Object.prototype.propertyIsEnumerable,xH=(e,t,r)=>t in e?Eh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fl=(e,t)=>{for(var r in t||(t={}))SH.call(t,r)&&xH(e,r,t[r]);if(_H)for(var r of _H(t))Zae.call(t,r)&&xH(e,r,t[r]);return e},ece=(e,t)=>Kae(e,Jae(t)),L=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),tce=(e,t)=>{for(var r in t)Eh(e,r,{get:t[r],enumerable:!0})},PH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Qae(t))!SH.call(e,i)&&i!==r&&Eh(e,i,{get:()=>t[i],enumerable:!(n=Yae(t,i))||n.enumerable});return e},zw=(e,t,r)=>(r=e!=null?Gae(Xae(e)):{},PH(t||!e||!e.__esModule?Eh(r,"default",{value:e,enumerable:!0}):r,e)),rce=e=>PH(Eh({},"__esModule",{value:!0}),e),Lr=L((e,t)=>{"use strict";var r=function(){function n(){}return n.info=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.enableDebug&&console.info(n.TAG+i,o)},n.warn=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.disableWarnings||console.warn(n.TAG+i,o)},n.enableDebug=!1,n.disableWarnings=!1,n.disableErrors=!1,n.TAG="ApplicationInsights:",n}();t.exports=r}),kH=L(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var r=xf(),n=require("events"),i=function(){function o(){}return o.prototype.active=function(){var s=this,a=r.CorrelationContextManager.getCurrentContext();return t(t({},a),{getValue:function(c){return s._activeSymbol?c===s._activeSymbol?a:!1:(s._activeSymbol=c,a)},setValue:function(){}})},o.prototype.with=function(s,a){var c=s.parentSpanId,l=s.name,u=o._spanToContext(s,c,l);return r.CorrelationContextManager.runWithContext(u,a)()},o.prototype.bind=function(s){return typeof s=="function"?r.CorrelationContextManager.wrapCallback(s):(s instanceof n.EventEmitter&&r.CorrelationContextManager.wrapEmitter(s),s)},o.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},o.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},o._spanToContext=function(s,a,c){var l=a?"|"+s.spanContext().traceId+"."+a+".":s.spanContext().traceId,u=t(t({},s.spanContext()),{traceFlags:s.spanContext().traceFlags}),f=r.CorrelationContextManager.spanToContextObject(u,l,c);return f},o}();e.OpenTelemetryScopeManagerWrapper=i,e.AsyncScopeManager=new i}),nce=L((e,t)=>{e=t.exports=ie;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=e.re=[],a=e.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var f=c++;a[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[f]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[f]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var b=c++;a[b]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var C=c++,_="v?"+a[d]+a[g]+"?"+a[b]+"?";a[C]="^"+_+"$";var P="[v=\\s]*"+a[p]+a[v]+"?"+a[b]+"?",S=c++;a[S]="^"+P+"$";var x=c++;a[x]="((?:<|>)?=?)";var I=c++;a[I]=a[u]+"|x|X|\\*";var A=c++;a[A]=a[l]+"|x|X|\\*";var O=c++;a[O]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[g]+")?"+a[b]+"?)?)?";var q=c++;a[q]="[v=\\s]*("+a[I]+")(?:\\.("+a[I]+")(?:\\.("+a[I]+")(?:"+a[v]+")?"+a[b]+"?)?)?";var J=c++;a[J]="^"+a[x]+"\\s*"+a[O]+"$";var K=c++;a[K]="^"+a[x]+"\\s*"+a[q]+"$";var ee=c++;a[ee]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var re=c++;a[re]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[re]+"\\s+",s[j]=new RegExp(a[j],"g");var F="$1~",D=c++;a[D]="^"+a[re]+a[O]+"$";var $=c++;a[$]="^"+a[re]+a[q]+"$";var Y=c++;a[Y]="(?:\\^)";var X=c++;a[X]="(\\s*)"+a[Y]+"\\s+",s[X]=new RegExp(a[X],"g");var Q="$1^",ve=c++;a[ve]="^"+a[Y]+a[O]+"$";var Ae=c++;a[Ae]="^"+a[Y]+a[q]+"$";var Se=c++;a[Se]="^"+a[x]+"\\s*("+P+")$|^$";var Oe=c++;a[Oe]="^"+a[x]+"\\s*("+_+")$|^$";var Ee=c++;a[Ee]="(\\s*)"+a[x]+"\\s*("+P+"|"+a[O]+")",s[Ee]=new RegExp(a[Ee],"g");var _t="$1$2$3",It=c++;a[It]="^\\s*("+a[O]+")\\s+-\\s+("+a[O]+")\\s*$";var Re=c++;a[Re]="^\\s*("+a[q]+")\\s+-\\s+("+a[q]+")\\s*$";var Te=c++;for(a[Te]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;e.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[S]:s[C];if(!k.test(w))return null;try{return new ie(w,E)}catch{return null}}e.valid=Kn;function Kn(w,E){var k=Xe(w,E);return k?k.version:null}e.clean=an;function an(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}e.SemVer=ie;function ie(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ie))return new ie(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[S]:s[C]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(N){if(/^[0-9]+$/.test(N)){var M=+N;if(M>=0&&M<i)return M}return N}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ie.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ie.prototype.toString=function(){return this.version},ie.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ie||(w=new ie(w,this.options)),this.compareMain(w)||this.comparePre(w)},ie.prototype.compareMain=function(w){return w instanceof ie||(w=new ie(w,this.options)),ne(this.major,w.major)||ne(this.minor,w.minor)||ne(this.patch,w.patch)},ie.prototype.comparePre=function(w){if(w instanceof ie||(w=new ie(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],N=w.prerelease[E];if(r("prerelease compare",E,k,N),k===void 0&&N===void 0)return 0;if(N===void 0)return 1;if(k===void 0)return-1;if(k!==N)return ne(k,N)}while(++E)},ie.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},e.inc=Yn;function Yn(w,E,k,N){typeof k=="string"&&(N=k,k=void 0);try{return new ie(w,k).inc(E,N).version}catch{return null}}e.diff=V;function V(w,E){if(be(w,E))return null;var k=Xe(w),N=Xe(E),M="";if(k.prerelease.length||N.prerelease.length){M="pre";var U="prerelease"}for(var z in k)if((z==="major"||z==="minor"||z==="patch")&&k[z]!==N[z])return M+z;return U}e.compareIdentifiers=ne;var ae=/^[0-9]+$/;function ne(w,E){var k=ae.test(w),N=ae.test(E);return k&&N&&(w=+w,E=+E),w===E?0:k&&!N?-1:N&&!k?1:w<E?-1:1}e.rcompareIdentifiers=fe;function fe(w,E){return ne(E,w)}e.major=me;function me(w,E){return new ie(w,E).major}e.minor=Be;function Be(w,E){return new ie(w,E).minor}e.patch=Me;function Me(w,E){return new ie(w,E).patch}e.compare=we;function we(w,E,k){return new ie(w,k).compare(new ie(E,k))}e.compareLoose=qe;function qe(w,E){return we(w,E,!0)}e.rcompare=_e;function _e(w,E,k){return we(E,w,k)}e.sort=W;function W(w,E){return w.sort(function(k,N){return e.compare(k,N,E)})}e.rsort=oe;function oe(w,E){return w.sort(function(k,N){return e.rcompare(k,N,E)})}e.gt=se;function se(w,E,k){return we(w,E,k)>0}e.lt=de;function de(w,E,k){return we(w,E,k)<0}e.eq=be;function be(w,E,k){return we(w,E,k)===0}e.neq=De;function De(w,E,k){return we(w,E,k)!==0}e.gte=nt;function nt(w,E,k){return we(w,E,k)>=0}e.lte=Ze;function Ze(w,E,k){return we(w,E,k)<=0}e.cmp=ct;function ct(w,E,k,N){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return be(w,k,N);case"!=":return De(w,k,N);case">":return se(w,k,N);case">=":return nt(w,k,N);case"<":return de(w,k,N);case"<=":return Ze(w,k,N);default:throw new TypeError("Invalid operator: "+E)}}e.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===qt?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var qt={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[Oe],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ie(k[2],this.options.loose):this.semver=qt},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===qt?!0:(typeof w=="string"&&(w=new ie(w,this.options)),ct(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ye(w.value,E),jr(this.value,k,E);if(w.operator==="")return k=new ye(this.value,E),jr(w.semver,k,E);var N=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),M=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,z=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ct(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ct(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return N||M||U&&z||le||ce},e.Range=ye;function ye(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ye)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ye(w.raw,E);if(w instanceof Ue)return new ye(w.value,E);if(!(this instanceof ye))return new ye(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ye.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ye.prototype.toString=function(){return this.range},ye.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[Re]:s[It];w=w.replace(k,Ua),r("hyphen replace",w),w=w.replace(s[Ee],_t),r("comparator trim",w,s[Ee]),w=w.replace(s[j],F),w=w.replace(s[X],Q),w=w.split(/\s+/).join(" ");var N=E?s[Se]:s[Oe],M=w.split(" ").map(function(U){return Ti(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(M=M.filter(function(U){return!!U.match(N)})),M=M.map(function(U){return new Ue(U,this.options)},this),M},ye.prototype.intersects=function(w,E){if(!(w instanceof ye))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(N){return w.set.some(function(M){return M.every(function(U){return N.intersects(U,E)})})})})},e.toComparators=Ps;function Ps(w,E){return new ye(w,E).set.map(function(k){return k.map(function(N){return N.value}).join(" ").trim().split(" ")})}function Ti(w,E){return r("comp",w,E),w=Ma(w,E),r("caret",w),w=kn(w,E),r("tildes",w),w=ja(w,E),r("xrange",w),w=Jr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function kn(w,E){return w.trim().split(/\s+/).map(function(k){return Fa(k,E)}).join(" ")}function Fa(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(N,M,U,z,le){r("tilde",w,N,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0"):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0",r("tilde return",ce),ce})}function Ma(w,E){return w.trim().split(/\s+/).map(function(k){return qa(k,E)}).join(" ")}function qa(w,E){r("caret",w,E);var k=E.loose?s[Ae]:s[ve];return w.replace(k,function(N,M,U,z,le){r("caret",w,N,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?M==="0"?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+".0 <"+(+M+1)+".0.0":le?(r("replaceCaret pr",le),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+"-"+le+" <"+(+M+1)+".0.0"):(r("no pr"),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+" <"+(+M+1)+".0.0"),r("caret return",ce),ce})}function ja(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return $a(k,E)}).join(" ")}function $a(w,E){w=w.trim();var k=E.loose?s[K]:s[J];return w.replace(k,function(N,M,U,z,le,ce){r("xRange",w,N,M,U,z,le,ce);var lt=He(U),et=lt||He(z),Ye=et||He(le),Ke=Ye;return M==="="&&Ke&&(M=""),lt?M===">"||M==="<"?N="<0.0.0":N="*":M&&Ke?(et&&(z=0),le=0,M===">"?(M=">=",et?(U=+U+1,z=0,le=0):(z=+z+1,le=0)):M==="<="&&(M="<",et?U=+U+1:z=+z+1),N=M+U+"."+z+"."+le):et?N=">="+U+".0.0 <"+(+U+1)+".0.0":Ye&&(N=">="+U+"."+z+".0 <"+U+"."+(+z+1)+".0"),r("xRange return",N),N})}function Jr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Te],"")}function Ua(w,E,k,N,M,U,z,le,ce,lt,et,Ye,Ke){return He(k)?E="":He(N)?E=">="+k+".0.0":He(M)?E=">="+k+"."+N+".0":E=">="+E,He(ce)?le="":He(lt)?le="<"+(+ce+1)+".0.0":He(et)?le="<"+ce+"."+(+lt+1)+".0":Ye?le="<="+ce+"."+lt+"."+et+"-"+Ye:le="<="+le,(E+" "+le).trim()}ye.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ie(w,this.options));for(var E=0;E<this.set.length;E++)if(Ba(this.set[E],w,this.options))return!0;return!1};function Ba(w,E,k){for(var N=0;N<w.length;N++)if(!w[N].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(N=0;N<w.length;N++)if(r(w[N].semver),w[N].semver!==qt&&w[N].semver.prerelease.length>0){var M=w[N].semver;if(M.major===E.major&&M.minor===E.minor&&M.patch===E.patch)return!0}return!1}return!0}e.satisfies=jr;function jr(w,E,k){try{E=new ye(E,k)}catch{return!1}return E.test(w)}e.maxSatisfying=Ha;function Ha(w,E,k){var N=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!N||M.compare(z)===-1)&&(N=z,M=new ie(N,k))}),N}e.minSatisfying=Va;function Va(w,E,k){var N=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!N||M.compare(z)===1)&&(N=z,M=new ie(N,k))}),N}e.minVersion=Jn;function Jn(w,E){w=new ye(w,E);var k=new ie("0.0.0");if(w.test(k)||(k=new ie("0.0.0-0"),w.test(k)))return k;k=null;for(var N=0;N<w.set.length;++N){var M=w.set[N];M.forEach(function(U){var z=new ie(U.semver.version);switch(U.operator){case">":z.prerelease.length===0?z.patch++:z.prerelease.push(0),z.raw=z.format();case"":case">=":(!k||se(k,z))&&(k=z);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}e.validRange=za;function za(w,E){try{return new ye(w,E).range||"*"}catch{return null}}e.ltr=Wa;function Wa(w,E,k){return In(w,E,"<",k)}e.gtr=Ga;function Ga(w,E,k){return In(w,E,">",k)}e.outside=In;function In(w,E,k,N){w=new ie(w,N),E=new ye(E,N);var M,U,z,le,ce;switch(k){case">":M=se,U=Ze,z=de,le=">",ce=">=";break;case"<":M=de,U=nt,z=se,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(w,E,N))return!1;for(var lt=0;lt<E.set.length;++lt){var et=E.set[lt],Ye=null,Ke=null;if(et.forEach(function(Pt){Pt.semver===qt&&(Pt=new Ue(">=0.0.0")),Ye=Ye||Pt,Ke=Ke||Pt,M(Pt.semver,Ye.semver,N)?Ye=Pt:z(Pt.semver,Ke.semver,N)&&(Ke=Pt)}),Ye.operator===le||Ye.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&z(w,Ke.semver))return!1}return!0}e.prerelease=Ka;function Ka(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}e.intersects=Qn;function Qn(w,E,k){return w=new ye(w,k),E=new ye(E,k),w.intersects(E)}e.coerce=Ya;function Ya(w){if(w instanceof ie)return w;if(typeof w!="string")return null;var E=w.match(s[ee]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),IH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=require("path"),r=nce(),n=require("module"),i=Object.keys(process.binding("natives")),o=n.prototype.require;function s(a){var c={};return function(l){var u=o.apply(this,arguments);if(a[l]){var f=n._resolveFilename(l,this);if(c.hasOwnProperty(f))return c[f];var d=void 0;if(i.indexOf(l)<0)try{d=o.call(this,t.join(l,"package.json")).version}catch{return u}else d=process.version.substring(1);var p=d.indexOf("-");p>=0&&(d=d.substring(0,p));for(var h=u,m=0,g=a[l];m<g.length;m++){var v=g[m];r.satisfies(d,v.versionSpecifier)&&(h=v.patch(h,f))}return c[f]=h}return u}}e.makePatchingRequire=s}),ice=L((e,t)=>{t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}}),lr=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=IH(),r=IH();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var n=function(s){return!0},i=function(){function s(){this.version=ice().version,this.subscribers={},this.contextPreservationFunction=function(a){return a},this.knownPatches={},this.currentlyPublishing=!1}return s.prototype.shouldPublish=function(a){var c=this.subscribers[a];return c?c.some(function(l){var u=l.filter;return!u||u(!1)}):!1},s.prototype.publish=function(a,c){if(!this.currentlyPublishing){var l=this.subscribers[a];if(l){var u={timestamp:Date.now(),data:c};this.currentlyPublishing=!0,l.forEach(function(f){var d=f.listener,p=f.filter;try{p&&p(!0)&&d(u)}catch{}}),this.currentlyPublishing=!1}}},s.prototype.subscribe=function(a,c,l){l===void 0&&(l=n),this.subscribers[a]||(this.subscribers[a]=[]),this.subscribers[a].push({listener:c,filter:l})},s.prototype.unsubscribe=function(a,c,l){l===void 0&&(l=n);var u=this.subscribers[a];if(u){for(var f=0;f<u.length;++f)if(u[f].listener===c&&u[f].filter===l)return u.splice(f,1),!0}return!1},s.prototype.reset=function(){var a=this;this.subscribers={},this.contextPreservationFunction=function(c){return c},Object.getOwnPropertyNames(this.knownPatches).forEach(function(c){return delete a.knownPatches[c]})},s.prototype.bindToContext=function(a){return this.contextPreservationFunction(a)},s.prototype.addContextPreservation=function(a){var c=this.contextPreservationFunction;this.contextPreservationFunction=function(l){return a(c(l))}},s.prototype.registerMonkeyPatch=function(a,c){this.knownPatches[a]||(this.knownPatches[a]=[]),this.knownPatches[a].push(c)},s.prototype.getPatchesObject=function(){return this.knownPatches},s}();global.diagnosticsSource||(global.diagnosticsSource=new i,o=require("module"),o.prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var o;e.channel=global.diagnosticsSource}),oce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),sce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis=typeof globalThis=="object"?globalThis:global}),ace=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(sce(),e)}),cce=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(ace(),e)}),TH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"}),lce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=TH(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(i){var o=new Set([i]),s=new Set,a=i.match(r);if(!a)return function(){return!1};var c={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(c.prerelease!=null)return function(f){return f===i};function l(f){return s.add(f),!1}function u(f){return o.add(f),!0}return function(f){if(o.has(f))return!0;if(s.has(f))return!1;var d=f.match(r);if(!d)return l(f);var p={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return p.prerelease!=null||c.major!==p.major?l(f):c.major===0?c.minor===p.minor&&c.patch<=p.patch?u(f):l(f):c.minor<=p.minor?u(f):l(f)}}e._makeCompatibilityCheck=n,e.isCompatible=n(t.VERSION)}),_h=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=cce(),r=TH(),n=lce(),i=r.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=t._globalThis;function a(u,f,d,p){var h;p===void 0&&(p=!1);var m=s[o]=(h=s[o])!==null&&h!==void 0?h:{version:r.VERSION};if(!p&&m[u]){var g=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+u);return d.error(g.stack||g.message),!1}if(m.version!==r.VERSION){var g=new Error("@opentelemetry/api: All API registration versions must match");return d.error(g.stack||g.message),!1}return m[u]=f,d.debug("@opentelemetry/api: Registered a global for "+u+" v"+r.VERSION+"."),!0}e.registerGlobal=a;function c(u){var f,d,p=(f=s[o])===null||f===void 0?void 0:f.version;if(!(!p||!n.isCompatible(p)))return(d=s[o])===null||d===void 0?void 0:d[u]}e.getGlobal=c;function l(u,f){f.debug("@opentelemetry/api: Unregistering a global for "+u+" v"+r.VERSION+".");var d=s[o];d&&delete d[u]}e.unregisterGlobal=l}),uce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=_h(),r=function(){function i(o){this._namespace=o.namespace||"DiagComponentLogger"}return i.prototype.debug=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("debug",this._namespace,o)},i.prototype.error=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("error",this._namespace,o)},i.prototype.info=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("info",this._namespace,o)},i.prototype.warn=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("warn",this._namespace,o)},i.prototype.verbose=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("verbose",this._namespace,o)},i}();e.DiagComponentLogger=r;function n(i,o,s){var a=t.getGlobal("diag");if(a)return s.unshift(o),a[i].apply(a,s)}}),MP=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0;var t;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(t=e.DiagLogLevel||(e.DiagLogLevel={}))}),fce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=MP();function r(n,i){n<t.DiagLogLevel.NONE?n=t.DiagLogLevel.NONE:n>t.DiagLogLevel.ALL&&(n=t.DiagLogLevel.ALL),i=i||{};function o(s,a){var c=i[s];return typeof c=="function"&&n>=a?c.bind(i):function(){}}return{error:o("error",t.DiagLogLevel.ERROR),warn:o("warn",t.DiagLogLevel.WARN),info:o("info",t.DiagLogLevel.INFO),debug:o("debug",t.DiagLogLevel.DEBUG),verbose:o("verbose",t.DiagLogLevel.VERBOSE)}}e.createLogLevelDiagLogger=r}),Sh=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=uce(),r=fce(),n=MP(),i=_h(),o="diag",s=function(){function a(){function c(u){return function(){var f=i.getGlobal("diag");if(f)return f[u].apply(f,arguments)}}var l=this;l.setLogger=function(u,f){var d,p;if(f===void 0&&(f=n.DiagLogLevel.INFO),u===l){var h=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return l.error((d=h.stack)!==null&&d!==void 0?d:h.message),!1}var m=i.getGlobal("diag"),g=r.createLogLevelDiagLogger(f,u);if(m){var v=(p=new Error().stack)!==null&&p!==void 0?p:"<failed to generate stacktrace>";m.warn("Current logger will be overwritten from "+v),g.warn("Current logger will overwrite one already registered from "+v)}return i.registerGlobal("diag",g,l,!0)},l.disable=function(){i.unregisterGlobal(o,l)},l.createComponentLogger=function(u){return new t.DiagComponentLogger(u)},l.verbose=c("verbose"),l.debug=c("debug"),l.info=c("info"),l.warn=c("warn"),l.error=c("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}();e.DiagAPI=s}),dce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function r(n){this._entries=n?new Map(n):new Map}return r.prototype.getEntry=function(n){var i=this._entries.get(n);if(i)return Object.assign({},i)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(n){var i=n[0],o=n[1];return[i,o]})},r.prototype.setEntry=function(n,i){var o=new r(this._entries);return o._entries.set(n,i),o},r.prototype.removeEntry=function(n){var i=new r(this._entries);return i._entries.delete(n),i},r.prototype.removeEntries=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=new r(this._entries),s=0,a=n;s<a.length;s++){var c=a[s];o._entries.delete(c)}return o},r.prototype.clear=function(){return new r},r}();e.BaggageImpl=t}),pce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")}),AH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=Sh(),r=dce(),n=pce(),i=t.DiagAPI.instance();function o(a){return a===void 0&&(a={}),new r.BaggageImpl(new Map(Object.entries(a)))}e.createBaggage=o;function s(a){return typeof a!="string"&&(i.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return a}}}e.baggageEntryMetadataFromString=s}),hce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),mce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),gce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],r=function(){function n(){function i(s){return function(){var a=arguments;if(console){var c=console[s];if(typeof c!="function"&&(c=console.log),typeof c=="function")return c.apply(console,a)}}}for(var o=0;o<t.length;o++)this[t[o].n]=i(t[o].c)}return n}();e.DiagConsoleLogger=r}),vce=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(gce(),e),r(MP(),e)}),DH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(t,r){if(t!=null)return t[r]},keys:function(t){return t==null?[]:Object.keys(t)}},e.defaultTextMapSetter={set:function(t,r,n){t!=null&&(t[r]=n)}}}),yce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),wce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ww=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0;function t(n){return Symbol.for(n)}e.createContextKey=t;var r=function(){function n(i){var o=this;o._currentContext=i?new Map(i):new Map,o.getValue=function(s){return o._currentContext.get(s)},o.setValue=function(s,a){var c=new n(o._currentContext);return c._currentContext.set(s,a),c},o.deleteValue=function(s){var a=new n(o._currentContext);return a._currentContext.delete(s),a}}return n}();e.ROOT_CONTEXT=new r}),Cce=L(e=>{"use strict";var t=e&&e.__spreadArray||function(i,o){for(var s=0,a=o.length,c=i.length;s<a;s++,c++)i[c]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var r=Ww(),n=function(){function i(){}return i.prototype.active=function(){return r.ROOT_CONTEXT},i.prototype.with=function(o,s,a){for(var c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];return s.call.apply(s,t([a],c))},i.prototype.bind=function(o,s){return s},i.prototype.enable=function(){return this},i.prototype.disable=function(){return this},i}();e.NoopContextManager=n}),RH=L(e=>{"use strict";var t=e&&e.__spreadArray||function(c,l){for(var u=0,f=l.length,d=c.length;u<f;u++,d++)c[d]=l[u];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var r=Cce(),n=_h(),i=Sh(),o="context",s=new r.NoopContextManager,a=function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalContextManager=function(l){return n.registerGlobal(o,l,i.DiagAPI.instance())},c.prototype.active=function(){return this._getContextManager().active()},c.prototype.with=function(l,u,f){for(var d,p=[],h=3;h<arguments.length;h++)p[h-3]=arguments[h];return(d=this._getContextManager()).with.apply(d,t([l,u,f],p))},c.prototype.bind=function(l,u){return this._getContextManager().bind(l,u)},c.prototype._getContextManager=function(){return n.getGlobal(o)||s},c.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},c}();e.ContextAPI=a}),OH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0;var t;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(t=e.TraceFlags||(e.TraceFlags={}))}),qP=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=OH();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}}),jP=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=qP(),r=function(){function n(i){i===void 0&&(i=t.INVALID_SPAN_CONTEXT),this._spanContext=i}return n.prototype.spanContext=function(){return this._spanContext},n.prototype.setAttribute=function(i,o){return this},n.prototype.setAttributes=function(i){return this},n.prototype.addEvent=function(i,o){return this},n.prototype.setStatus=function(i){return this},n.prototype.updateName=function(i){return this},n.prototype.end=function(i){},n.prototype.isRecording=function(){return!1},n.prototype.recordException=function(i,o){},n}();e.NonRecordingSpan=r}),NH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=Ww(),r=jP(),n=t.createContextKey("OpenTelemetry Context Key SPAN");function i(l){return l.getValue(n)||void 0}e.getSpan=i;function o(l,u){return l.setValue(n,u)}e.setSpan=o;function s(l){return l.deleteValue(n)}e.deleteSpan=s;function a(l,u){return o(l,new r.NonRecordingSpan(u))}e.setSpanContext=a;function c(l){var u;return(u=i(l))===null||u===void 0?void 0:u.spanContext()}e.getSpanContext=c}),$P=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=qP(),r=jP(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(l){return n.test(l)&&l!==t.INVALID_TRACEID}e.isValidTraceId=o;function s(l){return i.test(l)&&l!==t.INVALID_SPANID}e.isValidSpanId=s;function a(l){return o(l.traceId)&&s(l.spanId)}e.isSpanContextValid=a;function c(l){return new r.NonRecordingSpan(l)}e.wrapSpanContext=c}),LH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=RH(),r=NH(),n=jP(),i=$P(),o=t.ContextAPI.getInstance(),s=function(){function c(){}return c.prototype.startSpan=function(l,u,f){var d=Boolean(u==null?void 0:u.root);if(d)return new n.NonRecordingSpan;var p=f&&r.getSpanContext(f);return a(p)&&i.isSpanContextValid(p)?new n.NonRecordingSpan(p):new n.NonRecordingSpan},c.prototype.startActiveSpan=function(l,u,f,d){var p,h,m;if(!(arguments.length<2)){arguments.length===2?m=u:arguments.length===3?(p=u,m=f):(p=u,h=f,m=d);var g=h!=null?h:o.active(),v=this.startSpan(l,p,g),y=r.setSpan(g,v);return o.with(y,m,void 0,v)}},c}();e.NoopTracer=s;function a(c){return typeof c=="object"&&typeof c.spanId=="string"&&typeof c.traceId=="string"&&typeof c.traceFlags=="number"}}),FH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=LH(),r=new t.NoopTracer,n=function(){function i(o,s,a){this._provider=o,this.name=s,this.version=a}return i.prototype.startSpan=function(o,s,a){return this._getTracer().startSpan(o,s,a)},i.prototype.startActiveSpan=function(o,s,a,c){var l=this._getTracer();return Reflect.apply(l.startActiveSpan,l,arguments)},i.prototype._getTracer=function(){if(this._delegate)return this._delegate;var o=this._provider.getDelegateTracer(this.name,this.version);return o?(this._delegate=o,this._delegate):r},i}();e.ProxyTracer=n}),bce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=LH(),r=function(){function n(){}return n.prototype.getTracer=function(i,o){return new t.NoopTracer},n}();e.NoopTracerProvider=r}),MH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=FH(),r=bce(),n=new r.NoopTracerProvider,i=function(){function o(){}return o.prototype.getTracer=function(s,a){var c;return(c=this.getDelegateTracer(s,a))!==null&&c!==void 0?c:new t.ProxyTracer(this,s,a)},o.prototype.getDelegate=function(){var s;return(s=this._delegate)!==null&&s!==void 0?s:n},o.prototype.setDelegate=function(s){this._delegate=s},o.prototype.getDelegateTracer=function(s,a){var c;return(c=this._delegate)===null||c===void 0?void 0:c.getTracer(s,a)},o}();e.ProxyTracerProvider=i}),Ece=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),_ce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0;var t;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(t=e.SamplingDecision||(e.SamplingDecision={}))}),Sce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),xce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0;var t;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(t=e.SpanKind||(e.SpanKind={}))}),Pce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),kce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ice=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0;var t;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(t=e.SpanStatusCode||(e.SpanStatusCode={}))}),Tce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ace=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Dce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Rce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Oce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=_h(),r=MH(),n=$P(),i=NH(),o=Sh(),s="trace",a=function(){function c(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalTracerProvider=function(l){var u=t.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return u&&this._proxyTracerProvider.setDelegate(l),u},c.prototype.getTracerProvider=function(){return t.getGlobal(s)||this._proxyTracerProvider},c.prototype.getTracer=function(l,u){return this.getTracerProvider().getTracer(l,u)},c.prototype.disable=function(){t.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},c}();e.TraceAPI=a}),Nce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function r(){}return r.prototype.inject=function(n,i){},r.prototype.extract=function(n,i){return n},r.prototype.fields=function(){return[]},r}();e.NoopTextMapPropagator=t}),Lce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=Ww(),r=t.createContextKey("OpenTelemetry Baggage Key");function n(s){return s.getValue(r)||void 0}e.getBaggage=n;function i(s,a){return s.setValue(r,a)}e.setBaggage=i;function o(s){return s.deleteValue(r)}e.deleteBaggage=o}),Fce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=_h(),r=Nce(),n=DH(),i=Lce(),o=AH(),s=Sh(),a="propagation",c=new r.NoopTextMapPropagator,l=function(){function u(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return u.getInstance=function(){return this._instance||(this._instance=new u),this._instance},u.prototype.setGlobalPropagator=function(f){return t.registerGlobal(a,f,s.DiagAPI.instance())},u.prototype.inject=function(f,d,p){return p===void 0&&(p=n.defaultTextMapSetter),this._getGlobalPropagator().inject(f,d,p)},u.prototype.extract=function(f,d,p){return p===void 0&&(p=n.defaultTextMapGetter),this._getGlobalPropagator().extract(f,d,p)},u.prototype.fields=function(){return this._getGlobalPropagator().fields()},u.prototype.disable=function(){t.unregisterGlobal(a,s.DiagAPI.instance())},u.prototype._getGlobalPropagator=function(){return t.getGlobal(a)||c},u}();e.PropagationAPI=l}),Ht=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(u,f,d,p){p===void 0&&(p=d),Object.defineProperty(u,p,{enumerable:!0,get:function(){return f[d]}})}:function(u,f,d,p){p===void 0&&(p=d),u[p]=f[d]}),r=e&&e.__exportStar||function(u,f){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&t(f,u,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,r(oce(),e);var n=AH();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(hce(),e),r(mce(),e),r(vce(),e),r(DH(),e),r(yce(),e),r(wce(),e),r(FH(),e),r(MH(),e),r(Ece(),e),r(_ce(),e),r(Sce(),e),r(xce(),e),r(Pce(),e),r(kce(),e),r(Ice(),e),r(OH(),e),r(Tce(),e),r(Ace(),e),r(Dce(),e);var i=$P();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=qP();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),r(Ww(),e),r(Rce(),e);var s=RH();e.context=s.ContextAPI.getInstance();var a=Oce();e.trace=a.TraceAPI.getInstance();var c=Fce();e.propagation=c.PropagationAPI.getInstance();var l=Sh();e.diag=l.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}}),UP=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=Ht(),r=t.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function n(s){return s.setValue(r,!0)}e.suppressTracing=n;function i(s){return s.deleteValue(r)}e.unsuppressTracing=i;function o(s){return s.getValue(r)===!0}e.isTracingSuppressed=o}),qH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192}),jH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=Ht(),r=qH(),n=a=>a.reduce((c,l)=>{let u=`${c}${c!==""?r.BAGGAGE_ITEMS_SEPARATOR:""}${l}`;return u.length>r.BAGGAGE_MAX_TOTAL_LENGTH?c:u},"");e.serializeKeyPairs=n;var i=a=>a.getAllEntries().map(([c,l])=>`${encodeURIComponent(c)}=${encodeURIComponent(l.value)}`);e.getKeyPairs=i;var o=a=>{let c=a.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(c.length<=0)return;let l=c.shift();if(!l)return;let u=l.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(u.length!==2)return;let f=decodeURIComponent(u[0].trim()),d=decodeURIComponent(u[1].trim()),p;return c.length>0&&(p=t.baggageEntryMetadataFromString(c.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:f,value:d,metadata:p}};e.parsePairKeyValue=o;var s=a=>typeof a!="string"||a.length===0?{}:a.split(r.BAGGAGE_ITEMS_SEPARATOR).map(c=>e.parsePairKeyValue(c)).filter(c=>c!==void 0&&c.value.length>0).reduce((c,l)=>(c[l.key]=l.value,c),{});e.parseKeyPairsIntoRecord=s}),Mce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=Ht(),r=UP(),n=qH(),i=jH(),o=class{inject(s,a,c){let l=t.propagation.getBaggage(s);if(!l||r.isTracingSuppressed(s))return;let u=i.getKeyPairs(l).filter(d=>d.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),f=i.serializeKeyPairs(u);f.length>0&&c.set(a,n.BAGGAGE_HEADER,f)}extract(s,a,c){let l=c.get(a,n.BAGGAGE_HEADER);if(!l)return s;let u={};return l.length===0||(l.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach(f=>{let d=i.parsePairKeyValue(f);if(d){let p={value:d.value};d.metadata&&(p.metadata=d.metadata),u[d.key]=p}}),Object.entries(u).length===0)?s:t.propagation.setBaggage(s,t.propagation.createBaggage(u))}fields(){return[n.BAGGAGE_HEADER]}};e.HttpBaggagePropagator=o}),qce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0;function t(o){let s={};if(o==null||typeof o!="object")return s;for(let[a,c]of Object.entries(o))r(c)&&(Array.isArray(c)?s[a]=c.slice():s[a]=c);return s}e.sanitizeAttributes=t;function r(o){return o==null?!0:Array.isArray(o)?n(o):i(o)}e.isAttributeValue=r;function n(o){let s;for(let a of o)if(a!=null){if(!s){if(i(a)){s=typeof a;continue}return!1}if(typeof a!==s)return!1}return!0}function i(o){switch(typeof o){case"number":return!0;case"boolean":return!0;case"string":return!0}return!1}}),$H=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=Ht();function r(){return o=>{t.diag.error(n(o))}}e.loggingErrorHandler=r;function n(o){return typeof o=="string"?o:JSON.stringify(i(o))}function i(o){let s={},a=o;for(;a!==null;)Object.getOwnPropertyNames(a).forEach(c=>{if(s[c])return;let l=a[c];l&&(s[c]=String(l))}),a=Object.getPrototypeOf(a);return s}}),UH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=$H(),r=t.loggingErrorHandler();function n(o){r=o}e.setGlobalErrorHandler=n;var i=o=>{try{r(o)}catch{}};e.globalErrorHandler=i}),BH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0;var t;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(t=e.TracesSamplerValues||(e.TracesSamplerValues={}))}),HH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=Ht(),r=BH(),n=",",i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(p){return i.indexOf(p)>-1}var s=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function a(p){return s.indexOf(p)>-1}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function c(p,h,m,g=-1/0,v=1/0){if(typeof m[p]<"u"){let y=Number(m[p]);isNaN(y)||(y<g?h[p]=g:y>v?h[p]=v:h[p]=y)}}function l(p,h,m,g=n){let v=m[p];typeof v=="string"&&(h[p]=v.split(g).map(y=>y.trim()))}var u={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function f(p,h,m){let g=m[p];if(typeof g=="string"){let v=u[g.toUpperCase()];v!=null&&(h[p]=v)}}function d(p){let h={};for(let m in e.DEFAULT_ENVIRONMENT){let g=m;switch(g){case"OTEL_LOG_LEVEL":f(g,h,p);break;default:if(o(g))c(g,h,p);else if(a(g))l(g,h,p);else{let v=p[g];typeof v<"u"&&v!==null&&(h[g]=String(v))}}}return h}e.parseEnvironment=d}),jce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=require("os"),r=HH();function n(){let i=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},r.DEFAULT_ENVIRONMENT,i)}e.getEnv=n}),$ce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0;function t(r){let n=r.length,i="";for(let o=0;o<n;o+=2){let s=r.substring(o,o+2),a=parseInt(s,16);i+=String.fromCharCode(a)}return Buffer.from(i,"ascii").toString("base64")}e.hexToBase64=t}),Uce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0;var t=8,r=16,n=class{constructor(){this.generateTraceId=o(r),this.generateSpanId=o(t)}};e.RandomIdGenerator=n;var i=Buffer.allocUnsafe(r);function o(s){return function(){for(let a=0;a<s/4;a++)i.writeUInt32BE(Math.random()*2**32>>>0,a*4);for(let a=0;a<s&&!(i[a]>0);a++)a===s-1&&(i[s-1]=1);return i.toString("hex",0,s)}}}),Bce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=require("perf_hooks");e.otperformance=t.performance}),BP=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"}),Hce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"};var t;(function(f){f.OTHER_SQL="other_sql",f.MSSQL="mssql",f.MYSQL="mysql",f.ORACLE="oracle",f.DB2="db2",f.POSTGRESQL="postgresql",f.REDSHIFT="redshift",f.HIVE="hive",f.CLOUDSCAPE="cloudscape",f.HSQLDB="hsqldb",f.PROGRESS="progress",f.MAXDB="maxdb",f.HANADB="hanadb",f.INGRES="ingres",f.FIRSTSQL="firstsql",f.EDB="edb",f.CACHE="cache",f.ADABAS="adabas",f.FIREBIRD="firebird",f.DERBY="derby",f.FILEMAKER="filemaker",f.INFORMIX="informix",f.INSTANTDB="instantdb",f.INTERBASE="interbase",f.MARIADB="mariadb",f.NETEZZA="netezza",f.PERVASIVE="pervasive",f.POINTBASE="pointbase",f.SQLITE="sqlite",f.SYBASE="sybase",f.TERADATA="teradata",f.VERTICA="vertica",f.H2="h2",f.COLDFUSION="coldfusion",f.CASSANDRA="cassandra",f.HBASE="hbase",f.MONGODB="mongodb",f.REDIS="redis",f.COUCHBASE="couchbase",f.COUCHDB="couchdb",f.COSMOSDB="cosmosdb",f.DYNAMODB="dynamodb",f.NEO4J="neo4j",f.GEODE="geode",f.ELASTICSEARCH="elasticsearch",f.MEMCACHED="memcached",f.COCKROACHDB="cockroachdb"})(t=e.DbSystemValues||(e.DbSystemValues={}));var r;(function(f){f.ALL="all",f.EACH_QUORUM="each_quorum",f.QUORUM="quorum",f.LOCAL_QUORUM="local_quorum",f.ONE="one",f.TWO="two",f.THREE="three",f.LOCAL_ONE="local_one",f.ANY="any",f.SERIAL="serial",f.LOCAL_SERIAL="local_serial"})(r=e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={}));var n;(function(f){f.DATASOURCE="datasource",f.HTTP="http",f.PUBSUB="pubsub",f.TIMER="timer",f.OTHER="other"})(n=e.FaasTriggerValues||(e.FaasTriggerValues={}));var i;(function(f){f.INSERT="insert",f.EDIT="edit",f.DELETE="delete"})(i=e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={}));var o;(function(f){f.AWS="aws",f.AZURE="azure",f.GCP="gcp"})(o=e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={}));var s;(function(f){f.IP_TCP="ip_tcp",f.IP_UDP="ip_udp",f.IP="ip",f.UNIX="unix",f.PIPE="pipe",f.INPROC="inproc",f.OTHER="other"})(s=e.NetTransportValues||(e.NetTransportValues={}));var a;(function(f){f.HTTP_1_0="1.0",f.HTTP_1_1="1.1",f.HTTP_2_0="2.0",f.SPDY="SPDY",f.QUIC="QUIC"})(a=e.HttpFlavorValues||(e.HttpFlavorValues={}));var c;(function(f){f.QUEUE="queue",f.TOPIC="topic"})(c=e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={}));var l;(function(f){f.RECEIVE="receive",f.PROCESS="process"})(l=e.MessagingOperationValues||(e.MessagingOperationValues={}));var u;(function(f){f[f.OK=0]="OK",f[f.CANCELLED=1]="CANCELLED",f[f.UNKNOWN=2]="UNKNOWN",f[f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",f[f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",f[f.NOT_FOUND=5]="NOT_FOUND",f[f.ALREADY_EXISTS=6]="ALREADY_EXISTS",f[f.PERMISSION_DENIED=7]="PERMISSION_DENIED",f[f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",f[f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",f[f.ABORTED=10]="ABORTED",f[f.OUT_OF_RANGE=11]="OUT_OF_RANGE",f[f.UNIMPLEMENTED=12]="UNIMPLEMENTED",f[f.INTERNAL=13]="INTERNAL",f[f.UNAVAILABLE=14]="UNAVAILABLE",f[f.DATA_LOSS=15]="DATA_LOSS",f[f.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(u=e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))}),Vce=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Hce(),e)}),zce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};var t;(function(a){a.AWS="aws",a.AZURE="azure",a.GCP="gcp"})(t=e.CloudProviderValues||(e.CloudProviderValues={}));var r;(function(a){a.AWS_EC2="aws_ec2",a.AWS_ECS="aws_ecs",a.AWS_EKS="aws_eks",a.AWS_LAMBDA="aws_lambda",a.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",a.AZURE_VM="azure_vm",a.AZURE_CONTAINER_INSTANCES="azure_container_instances",a.AZURE_AKS="azure_aks",a.AZURE_FUNCTIONS="azure_functions",a.AZURE_APP_SERVICE="azure_app_service",a.GCP_COMPUTE_ENGINE="gcp_compute_engine",a.GCP_CLOUD_RUN="gcp_cloud_run",a.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",a.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",a.GCP_APP_ENGINE="gcp_app_engine"})(r=e.CloudPlatformValues||(e.CloudPlatformValues={}));var n;(function(a){a.EC2="ec2",a.FARGATE="fargate"})(n=e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={}));var i;(function(a){a.AMD64="amd64",a.ARM32="arm32",a.ARM64="arm64",a.IA64="ia64",a.PPC32="ppc32",a.PPC64="ppc64",a.X86="x86"})(i=e.HostArchValues||(e.HostArchValues={}));var o;(function(a){a.WINDOWS="windows",a.LINUX="linux",a.DARWIN="darwin",a.FREEBSD="freebsd",a.NETBSD="netbsd",a.OPENBSD="openbsd",a.DRAGONFLYBSD="dragonflybsd",a.HPUX="hpux",a.AIX="aix",a.SOLARIS="solaris",a.Z_OS="z_os"})(o=e.OsTypeValues||(e.OsTypeValues={}));var s;(function(a){a.CPP="cpp",a.DOTNET="dotnet",a.ERLANG="erlang",a.GO="go",a.JAVA="java",a.NODEJS="nodejs",a.PHP="php",a.PYTHON="python",a.RUBY="ruby",a.WEBJS="webjs"})(s=e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))}),Wce=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(zce(),e)}),xh=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Vce(),e),r(Wce(),e)}),Gce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var t=BP(),r=xh();e.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}}),Kce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0;function t(r){r.unref()}e.unrefTimer=t}),Yce=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(jce(),e),r($ce(),e),r(Uce(),e),r(Bce(),e),r(Gce(),e),r(Kce(),e)}),VH=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Yce(),e)}),Jce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=VH(),r=9,n=Math.pow(10,r);function i(m){let g=m/1e3,v=Math.trunc(g),y=Number((g-v).toFixed(r))*n;return[v,y]}function o(){let m=t.otperformance.timeOrigin;if(typeof m!="number"){let g=t.otperformance;m=g.timing&&g.timing.fetchStart}return m}function s(m){let g=i(o()),v=i(typeof m=="number"?m:t.otperformance.now()),y=g[0]+v[0],b=g[1]+v[1];return b>n&&(b-=n,y+=1),[y,b]}e.hrTime=s;function a(m){if(p(m))return m;if(typeof m=="number")return m<o()?s(m):i(m);if(m instanceof Date)return i(m.getTime());throw TypeError("Invalid input type")}e.timeInputToHrTime=a;function c(m,g){let v=g[0]-m[0],y=g[1]-m[1];return y<0&&(v-=1,y+=n),[v,y]}e.hrTimeDuration=c;function l(m){let g=r,v=`${"0".repeat(g)}${m[1]}Z`,y=v.substr(v.length-g-1);return new Date(m[0]*1e3).toISOString().replace("000Z",y)}e.hrTimeToTimeStamp=l;function u(m){return m[0]*n+m[1]}e.hrTimeToNanoseconds=u;function f(m){return Math.round(m[0]*1e3+m[1]/1e6)}e.hrTimeToMilliseconds=f;function d(m){return Math.round(m[0]*1e6+m[1]/1e3)}e.hrTimeToMicroseconds=d;function p(m){return Array.isArray(m)&&m.length===2&&typeof m[0]=="number"&&typeof m[1]=="number"}e.isTimeInputHrTime=p;function h(m){return p(m)||typeof m=="number"||m instanceof Date}e.isTimeInput=h}),Qce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Xce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0;var t;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(t=e.ExportResultCode||(e.ExportResultCode={}))}),Zce=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=Ht(),r=class{constructor(n={}){var i;this._propagators=(i=n.propagators)!==null&&i!==void 0?i:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(n,i,o){for(let s of this._propagators)try{s.inject(n,i,o)}catch(a){t.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(n,i,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,i,o)}catch(c){t.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${c.message}`)}return s},n)}fields(){return this._fields.slice()}};e.CompositePropagator=r}),ele=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",r=`[a-z]${t}{0,255}`,n=`[a-z0-9]${t}{0,240}@[a-z]${t}{0,13}`,i=new RegExp(`^(?:${r}|${n})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(l){return i.test(l)}e.validateKey=a;function c(l){return o.test(l)&&!s.test(l)}e.validateValue=c}),zH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=ele(),r=32,n=512,i=",",o="=",s=class{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,c){let l=this._clone();return l._internalState.has(a)&&l._internalState.delete(a),l._internalState.set(a,c),l}unset(a){let c=this._clone();return c._internalState.delete(a),c}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,c)=>(a.push(c+o+this.get(c)),a),[]).join(i)}_parse(a){a.length>n||(this._internalState=a.split(i).reverse().reduce((c,l)=>{let u=l.trim(),f=u.indexOf(o);if(f!==-1){let d=u.slice(0,f),p=u.slice(f+1,l.length);t.validateKey(d)&&t.validateValue(p)&&c.set(d,p)}return c},new Map),this._internalState.size>r&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,r))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new s;return a._internalState=new Map(this._internalState),a}};e.TraceState=s}),tle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=Ht(),r=UP(),n=zH();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var i="00",o="(?!ff)[\\da-f]{2}",s="(?![0]{32})[\\da-f]{32}",a="(?![0]{16})[\\da-f]{16}",c="[\\da-f]{2}",l=new RegExp(`^\\s?(${o})-(${s})-(${a})-(${c})(-.*)?\\s?$`);function u(d){let p=l.exec(d);return!p||p[1]==="00"&&p[5]?null:{traceId:p[2],spanId:p[3],traceFlags:parseInt(p[4],16)}}e.parseTraceParent=u;var f=class{inject(d,p,h){let m=t.trace.getSpanContext(d);if(!m||r.isTracingSuppressed(d)||!t.isSpanContextValid(m))return;let g=`${i}-${m.traceId}-${m.spanId}-0${Number(m.traceFlags||t.TraceFlags.NONE).toString(16)}`;h.set(p,e.TRACE_PARENT_HEADER,g),m.traceState&&h.set(p,e.TRACE_STATE_HEADER,m.traceState.serialize())}extract(d,p,h){let m=h.get(p,e.TRACE_PARENT_HEADER);if(!m)return d;let g=Array.isArray(m)?m[0]:m;if(typeof g!="string")return d;let v=u(g);if(!v)return d;v.isRemote=!0;let y=h.get(p,e.TRACE_STATE_HEADER);if(y){let b=Array.isArray(y)?y.join(","):y;v.traceState=new n.TraceState(typeof b=="string"?b:void 0)}return t.trace.setSpanContext(d,v)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}};e.HttpTraceContextPropagator=f}),rle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),nle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=Ht(),r=t.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA"),n;(function(a){a.HTTP="http"})(n=e.RPCType||(e.RPCType={}));function i(a,c){return a.setValue(r,c)}e.setRPCMetadata=i;function o(a){return a.deleteValue(r)}e.deleteRPCMetadata=o;function s(a){return a.getValue(r)}e.getRPCMetadata=s}),WH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=Ht(),r=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};e.AlwaysOffSampler=r}),GH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=Ht(),r=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};e.AlwaysOnSampler=r}),ile=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=Ht(),r=UH(),n=WH(),i=GH(),o=class{constructor(s){var a,c,l,u;this._root=s.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=(a=s.remoteParentSampled)!==null&&a!==void 0?a:new i.AlwaysOnSampler,this._remoteParentNotSampled=(c=s.remoteParentNotSampled)!==null&&c!==void 0?c:new n.AlwaysOffSampler,this._localParentSampled=(l=s.localParentSampled)!==null&&l!==void 0?l:new i.AlwaysOnSampler,this._localParentNotSampled=(u=s.localParentNotSampled)!==null&&u!==void 0?u:new n.AlwaysOffSampler}shouldSample(s,a,c,l,u,f){let d=t.trace.getSpanContext(s);return!d||!t.isSpanContextValid(d)?this._root.shouldSample(s,a,c,l,u,f):d.isRemote?d.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(s,a,c,l,u,f):this._remoteParentNotSampled.shouldSample(s,a,c,l,u,f):d.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(s,a,c,l,u,f):this._localParentNotSampled.shouldSample(s,a,c,l,u,f)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};e.ParentBasedSampler=o}),ole=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=Ht(),r=class{constructor(n=0){this._ratio=n,this._ratio=this._normalize(n),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(n,i){return{decision:t.isValidTraceId(i)&&this._accumulate(i)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(n){return typeof n!="number"||isNaN(n)?0:n>=1?1:n<=0?0:n}_accumulate(n){let i=0;for(let o=0;o<n.length/8;o++){let s=o*8,a=parseInt(n.slice(s,s+8),16);i=(i^a)>>>0}return i}};e.TraceIdRatioBasedSampler=r}),sle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0;function t(n,i){return typeof i=="string"?n===i:i.test(n)}e.urlMatches=t;function r(n,i){if(!i)return!1;for(let o of i)if(t(n,o))return!0;return!1}e.isUrlIgnored=r}),ale=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0;function t(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}e.isWrapped=t}),Yi=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,r(Mce(),e),r(qce(),e),r(UH(),e),r($H(),e),r(Jce(),e),r(Qce(),e),r(Xce(),e),r(BP(),e),e.baggageUtils=jH(),r(VH(),e),r(Zce(),e),r(tle(),e),r(rle(),e),r(nle(),e),r(WH(),e),r(GH(),e),r(ile(),e),r(ole(),e),r(UP(),e),r(zH(),e),r(HH(),e),r(BH(),e),r(sle(),e),r(ale(),e),r(BP(),e)}),cle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"}),KH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=Ht(),r=Yi(),n=xh(),i=cle(),o=class{constructor(s,a,c,l,u,f,d=[],p=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=l,this.parentSpanId=f,this.kind=u,this.links=d,this.startTime=r.timeInputToHrTime(p),this.resource=s.resource,this.instrumentationLibrary=s.instrumentationLibrary,this._spanLimits=s.getSpanLimits(),this._spanProcessor=s.getActiveSpanProcessor(),this._spanProcessor.onStart(this,a)}spanContext(){return this._spanContext}setAttribute(s,a){return a==null||this._isSpanEnded()?this:s.length===0?(t.diag.warn(`Invalid attribute key: ${s}`),this):r.isAttributeValue(a)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,s)?this:(this.attributes[s]=a,this):(t.diag.warn(`Invalid attribute value set for key: ${s}`),this)}setAttributes(s){for(let[a,c]of Object.entries(s))this.setAttribute(a,c);return this}addEvent(s,a,c){return this._isSpanEnded()?this:(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(a)&&(typeof c>"u"&&(c=a),a=void 0),typeof c>"u"&&(c=r.hrTime()),this.events.push({name:s,attributes:a,time:r.timeInputToHrTime(c)}),this)}setStatus(s){return this._isSpanEnded()?this:(this.status=s,this)}updateName(s){return this._isSpanEnded()?this:(this.name=s,this)}end(s=r.hrTime()){if(this._isSpanEnded()){t.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=r.timeInputToHrTime(s),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(s,a=r.hrTime()){let c={};typeof s=="string"?c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s:s&&(s.code?c[n.SemanticAttributes.EXCEPTION_TYPE]=s.code.toString():s.name&&(c[n.SemanticAttributes.EXCEPTION_TYPE]=s.name),s.message&&(c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s.message),s.stack&&(c[n.SemanticAttributes.EXCEPTION_STACKTRACE]=s.stack)),c[n.SemanticAttributes.EXCEPTION_TYPE]||c[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,c,a):t.diag.warn(`Failed to record an exception ${s}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}};e.Span=o}),YH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=Ht(),r=Yi(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;e.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}};function o(c=r.getEnv()){switch(c.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(a(c));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(a(c))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value "${c.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new r.AlwaysOnSampler}}e.buildSamplerFromEnv=o;var s=1;function a(c){if(c.OTEL_TRACES_SAMPLER_ARG===void 0||c.OTEL_TRACES_SAMPLER_ARG==="")return t.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${s}.`),s;let l=Number(c.OTEL_TRACES_SAMPLER_ARG);return isNaN(l)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${s}.`),s):l<0||l>1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${s}.`),s):l}}),lle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=YH();function r(n){let i={sampler:t.buildSamplerFromEnv()},o=Object.assign({},t.DEFAULT_CONFIG,i,n);return o.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,n.spanLimits||{}),o}e.mergeConfig=r}),ule=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=Ht(),r=Yi(),n=KH(),i=lle(),o=class{constructor(a,c,l){this._tracerProvider=l;let u=i.mergeConfig(c);this._sampler=u.sampler,this._spanLimits=u.spanLimits,this._idGenerator=c.idGenerator||new r.RandomIdGenerator,this.resource=l.resource,this.instrumentationLibrary=a}startSpan(a,c={},l=t.context.active()){var u,f;if(r.isTracingSuppressed(l))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let d=s(c,l),p=this._idGenerator.generateSpanId(),h,m,g;!d||!t.trace.isSpanContextValid(d)?h=this._idGenerator.generateTraceId():(h=d.traceId,m=d.traceState,g=d.spanId);let v=(u=c.kind)!==null&&u!==void 0?u:t.SpanKind.INTERNAL,y=(f=c.links)!==null&&f!==void 0?f:[],b=r.sanitizeAttributes(c.attributes),C=this._sampler.shouldSample(c.root?t.trace.setSpanContext(l,t.INVALID_SPAN_CONTEXT):l,h,a,v,b,y),_=C.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,P={traceId:h,spanId:p,traceFlags:_,traceState:m};if(C.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(P);let S=new n.Span(this,l,a,P,v,g,y,c.startTime);return S.setAttributes(Object.assign(b,C.attributes)),S}startActiveSpan(a,c,l,u){let f,d,p;if(arguments.length<2)return;arguments.length===2?p=c:arguments.length===3?(f=c,p=l):(f=c,d=l,p=u);let h=d!=null?d:t.context.active(),m=this.startSpan(a,f,h),g=t.trace.setSpan(h,m);return t.context.with(g,p,void 0,m)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};e.Tracer=o;function s(a,c){if(!a.root)return t.trace.getSpanContext(c)}}),fle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0;function t(){return`unknown_service:${process.argv0}`}e.defaultServiceName=t}),dle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=QH(),r=Ht(),n=require("util"),i=async(s={})=>{let a=Object.assign(s),c=await Promise.all((a.detectors||[]).map(async l=>{try{let u=await l.detect(a);return r.diag.debug(`${l.constructor.name} found resource.`,u),u}catch(u){return r.diag.debug(`${l.constructor.name} failed: ${u.message}`),t.Resource.empty()}}));return o(c),c.reduce((l,u)=>l.merge(u),t.Resource.empty())};e.detectResources=i;var o=s=>{s.forEach(a=>{if(Object.keys(a.attributes).length>0){let c=n.inspect(a.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(c)}})}}),ple=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=Ht(),r=Yi(),n=xh(),i=HP(),o=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(s){let a={},c=r.getEnv(),l=c.OTEL_RESOURCE_ATTRIBUTES,u=c.OTEL_SERVICE_NAME;if(l)try{let f=this._parseResourceAttributes(l);Object.assign(a,f)}catch(f){t.diag.debug(`EnvDetector failed: ${f.message}`)}return u&&(a[n.ResourceAttributes.SERVICE_NAME]=u),new i.Resource(a)}_parseResourceAttributes(s){if(!s)return{};let a={},c=s.split(this._COMMA_SEPARATOR,-1);for(let l of c){let u=l.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(u.length!==2)continue;let[f,d]=u;if(f=f.trim(),d=d.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(f))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(d))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);a[f]=d}return a}_isValid(s){return s.length<=this._MAX_LENGTH&&this._isPrintableString(s)}_isPrintableString(s){for(let a=0;a<s.length;a++){let c=s.charAt(a);if(c<=" "||c>="~")return!1}return!0}_isValidAndNotEmpty(s){return s.length>0&&this._isValid(s)}};e.envDetector=new o}),hle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=Ht(),r=xh(),n=HP(),i=class{async detect(o){let s={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(s,o)}_getResourceAttributes(o,s){return o[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||o[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||o[r.ResourceAttributes.PROCESS_COMMAND]===""||o[r.ResourceAttributes.PROCESS_COMMAND_LINE]===""?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},o))}};e.processDetector=new i}),mle=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(ple(),e),r(hle(),e)}),gle=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(fle(),e),r(dle(),e),r(mle(),e)}),JH=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(gle(),e)}),QH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=xh(),r=Yi(),n=JH(),i=class{constructor(o){this.attributes=o}static empty(){return i.EMPTY}static default(){return new i({[t.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(o){if(!o||!Object.keys(o.attributes).length)return this;let s=Object.assign({},this.attributes,o.attributes);return new i(s)}};e.Resource=i,i.EMPTY=new i({})}),vle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),yle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),HP=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(QH(),e),r(JH(),e),r(vle(),e),r(yle(),e)}),wle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=Yi(),r=class{constructor(n){this._spanProcessors=n}forceFlush(){let n=[];for(let i of this._spanProcessors)n.push(i.forceFlush());return new Promise(i=>{Promise.all(n).then(()=>{i()}).catch(o=>{t.globalErrorHandler(o||new Error("MultiSpanProcessor: forceFlush failed")),i()})})}onStart(n,i){for(let o of this._spanProcessors)o.onStart(n,i)}onEnd(n){for(let i of this._spanProcessors)i.onEnd(n)}shutdown(){let n=[];for(let i of this._spanProcessors)n.push(i.shutdown());return new Promise((i,o)=>{Promise.all(n).then(()=>{i()},o)})}};e.MultiSpanProcessor=r}),XH=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0;var t=class{onStart(r,n){}onEnd(r){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};e.NoopSpanProcessor=t}),Cle=L((e,t)=>{var r=200,n="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",b="[object Proxy]",C="[object RegExp]",_="[object Set]",P="[object String]",S="[object Undefined]",x="[object WeakMap]",I="[object ArrayBuffer]",A="[object DataView]",O="[object Float32Array]",q="[object Float64Array]",J="[object Int8Array]",K="[object Int16Array]",ee="[object Int32Array]",re="[object Uint8Array]",j="[object Uint8ClampedArray]",F="[object Uint16Array]",D="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,Q={};Q[O]=Q[q]=Q[J]=Q[K]=Q[ee]=Q[re]=Q[j]=Q[F]=Q[D]=!0,Q[a]=Q[c]=Q[I]=Q[u]=Q[A]=Q[f]=Q[d]=Q[p]=Q[m]=Q[g]=Q[y]=Q[C]=Q[_]=Q[P]=Q[x]=!1;var ve=typeof global=="object"&&global&&global.Object===Object&&global,Ae=typeof self=="object"&&self&&self.Object===Object&&self,Se=ve||Ae||Function("return this")(),Oe=typeof e=="object"&&e&&!e.nodeType&&e,Ee=Oe&&typeof t=="object"&&t&&!t.nodeType&&t,_t=Ee&&Ee.exports===Oe,It=_t&&ve.process,Re=function(){try{var R=Ee&&Ee.require&&Ee.require("util").types;return R||It&&It.binding&&It.binding("util")}catch{}}(),Te=Re&&Re.isTypedArray;function Fe(R,H,Z){switch(Z.length){case 0:return R.call(H);case 1:return R.call(H,Z[0]);case 2:return R.call(H,Z[0],Z[1]);case 3:return R.call(H,Z[0],Z[1],Z[2])}return R.apply(H,Z)}function Xe(R,H){for(var Z=-1,xe=Array(R);++Z<R;)xe[Z]=H(Z);return xe}function Kn(R){return function(H){return R(H)}}function an(R,H){return R==null?void 0:R[H]}function ie(R,H){return function(Z){return R(H(Z))}}var Yn=Array.prototype,V=Function.prototype,ae=Object.prototype,ne=Se["__core-js_shared__"],fe=V.toString,me=ae.hasOwnProperty,Be=function(){var R=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),Me=ae.toString,we=fe.call(Object),qe=RegExp("^"+fe.call(me).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=_t?Se.Buffer:void 0,W=Se.Symbol,oe=Se.Uint8Array,se=_e?_e.allocUnsafe:void 0,de=ie(Object.getPrototypeOf,Object),be=Object.create,De=ae.propertyIsEnumerable,nt=Yn.splice,Ze=W?W.toStringTag:void 0,ct=function(){try{var R=Y0(Object,"defineProperty");return R({},"",{}),R}catch{}}(),Ue=_e?_e.isBuffer:void 0,qt=Math.max,ye=Date.now,Ps=Y0(Se,"Map"),Ti=Y0(Object,"create"),He=function(){function R(){}return function(H){if(!Ja(H))return{};if(be)return be(H);R.prototype=H;var Z=new R;return R.prototype=void 0,Z}}();function kn(R){var H=-1,Z=R==null?0:R.length;for(this.clear();++H<Z;){var xe=R[H];this.set(xe[0],xe[1])}}function Fa(){this.__data__=Ti?Ti(null):{},this.size=0}function Ma(R){var H=this.has(R)&&delete this.__data__[R];return this.size-=H?1:0,H}function qa(R){var H=this.__data__;if(Ti){var Z=H[R];return Z===n?void 0:Z}return me.call(H,R)?H[R]:void 0}function ja(R){var H=this.__data__;return Ti?H[R]!==void 0:me.call(H,R)}function $a(R,H){var Z=this.__data__;return this.size+=this.has(R)?0:1,Z[R]=Ti&&H===void 0?n:H,this}kn.prototype.clear=Fa,kn.prototype.delete=Ma,kn.prototype.get=qa,kn.prototype.has=ja,kn.prototype.set=$a;function Jr(R){var H=-1,Z=R==null?0:R.length;for(this.clear();++H<Z;){var xe=R[H];this.set(xe[0],xe[1])}}function Ua(){this.__data__=[],this.size=0}function Ba(R){var H=this.__data__,Z=le(H,R);if(Z<0)return!1;var xe=H.length-1;return Z==xe?H.pop():nt.call(H,Z,1),--this.size,!0}function jr(R){var H=this.__data__,Z=le(H,R);return Z<0?void 0:H[Z][1]}function Ha(R){return le(this.__data__,R)>-1}function Va(R,H){var Z=this.__data__,xe=le(Z,R);return xe<0?(++this.size,Z.push([R,H])):Z[xe][1]=H,this}Jr.prototype.clear=Ua,Jr.prototype.delete=Ba,Jr.prototype.get=jr,Jr.prototype.has=Ha,Jr.prototype.set=Va;function Jn(R){var H=-1,Z=R==null?0:R.length;for(this.clear();++H<Z;){var xe=R[H];this.set(xe[0],xe[1])}}function za(){this.size=0,this.__data__={hash:new kn,map:new(Ps||Jr),string:new kn}}function Wa(R){var H=Nm(this,R).delete(R);return this.size-=H?1:0,H}function Ga(R){return Nm(this,R).get(R)}function In(R){return Nm(this,R).has(R)}function Ka(R,H){var Z=Nm(this,R),xe=Z.size;return Z.set(R,H),this.size+=Z.size==xe?0:1,this}Jn.prototype.clear=za,Jn.prototype.delete=Wa,Jn.prototype.get=Ga,Jn.prototype.has=In,Jn.prototype.set=Ka;function Qn(R){var H=this.__data__=new Jr(R);this.size=H.size}function Ya(){this.__data__=new Jr,this.size=0}function w(R){var H=this.__data__,Z=H.delete(R);return this.size=H.size,Z}function E(R){return this.__data__.get(R)}function k(R){return this.__data__.has(R)}function N(R,H){var Z=this.__data__;if(Z instanceof Jr){var xe=Z.__data__;if(!Ps||xe.length<r-1)return xe.push([R,H]),this.size=++Z.size,this;Z=this.__data__=new Jn(xe)}return Z.set(R,H),this.size=Z.size,this}Qn.prototype.clear=Ya,Qn.prototype.delete=w,Qn.prototype.get=E,Qn.prototype.has=k,Qn.prototype.set=N;function M(R,H){var Z=X0(R),xe=!Z&&Q0(R),ut=!Z&&!xe&&sA(R),Dt=!Z&&!xe&&!ut&&cA(R),jt=Z||xe||ut||Dt,ot=jt?Xe(R.length,String):[],$t=ot.length;for(var Xn in R)(H||me.call(R,Xn))&&!(jt&&(Xn=="length"||ut&&(Xn=="offset"||Xn=="parent")||Dt&&(Xn=="buffer"||Xn=="byteLength"||Xn=="byteOffset")||iA(Xn,$t)))&&ot.push(Xn);return ot}function U(R,H,Z){(Z!==void 0&&!Lm(R[H],Z)||Z===void 0&&!(H in R))&&ce(R,H,Z)}function z(R,H,Z){var xe=R[H];(!(me.call(R,H)&&Lm(xe,Z))||Z===void 0&&!(H in R))&&ce(R,H,Z)}function le(R,H){for(var Z=R.length;Z--;)if(Lm(R[Z][0],H))return Z;return-1}function ce(R,H,Z){H=="__proto__"&&ct?ct(R,H,{configurable:!0,enumerable:!0,value:Z,writable:!0}):R[H]=Z}var lt=c8();function et(R){return R==null?R===void 0?S:v:Ze&&Ze in Object(R)?l8(R):m8(R)}function Ye(R){return nd(R)&&et(R)==a}function Ke(R){if(!Ja(R)||p8(R))return!1;var H=eb(R)?qe:Y;return H.test(w8(R))}function Pt(R){return nd(R)&&aA(R.length)&&!!Q[et(R)]}function X5(R){if(!Ja(R))return h8(R);var H=oA(R),Z=[];for(var xe in R)xe=="constructor"&&(H||!me.call(R,xe))||Z.push(xe);return Z}function nA(R,H,Z,xe,ut){R!==H&&lt(H,function(Dt,jt){if(ut||(ut=new Qn),Ja(Dt))Z5(R,H,jt,Z,nA,xe,ut);else{var ot=xe?xe(J0(R,jt),Dt,jt+"",R,H,ut):void 0;ot===void 0&&(ot=Dt),U(R,jt,ot)}},lA)}function Z5(R,H,Z,xe,ut,Dt,jt){var ot=J0(R,Z),$t=J0(H,Z),Xn=jt.get($t);if(Xn){U(R,Z,Xn);return}var Tn=Dt?Dt(ot,$t,Z+"",R,H,jt):void 0,id=Tn===void 0;if(id){var tb=X0($t),rb=!tb&&sA($t),fA=!tb&&!rb&&cA($t);Tn=$t,tb||rb||fA?X0(ot)?Tn=ot:C8(ot)?Tn=o8(ot):rb?(id=!1,Tn=r8($t,!0)):fA?(id=!1,Tn=i8($t,!0)):Tn=[]:b8($t)||Q0($t)?(Tn=ot,Q0(ot)?Tn=E8(ot):(!Ja(ot)||eb(ot))&&(Tn=u8($t))):id=!1}id&&(jt.set($t,Tn),ut(Tn,$t,xe,Dt,jt),jt.delete($t)),U(R,Z,Tn)}function e8(R,H){return v8(g8(R,H,uA),R+"")}var t8=ct?function(R,H){return ct(R,"toString",{configurable:!0,enumerable:!1,value:S8(H),writable:!0})}:uA;function r8(R,H){if(H)return R.slice();var Z=R.length,xe=se?se(Z):new R.constructor(Z);return R.copy(xe),xe}function n8(R){var H=new R.constructor(R.byteLength);return new oe(H).set(new oe(R)),H}function i8(R,H){var Z=H?n8(R.buffer):R.buffer;return new R.constructor(Z,R.byteOffset,R.length)}function o8(R,H){var Z=-1,xe=R.length;for(H||(H=Array(xe));++Z<xe;)H[Z]=R[Z];return H}function s8(R,H,Z,xe){var ut=!Z;Z||(Z={});for(var Dt=-1,jt=H.length;++Dt<jt;){var ot=H[Dt],$t=xe?xe(Z[ot],R[ot],ot,Z,R):void 0;$t===void 0&&($t=R[ot]),ut?ce(Z,ot,$t):z(Z,ot,$t)}return Z}function a8(R){return e8(function(H,Z){var xe=-1,ut=Z.length,Dt=ut>1?Z[ut-1]:void 0,jt=ut>2?Z[2]:void 0;for(Dt=R.length>3&&typeof Dt=="function"?(ut--,Dt):void 0,jt&&f8(Z[0],Z[1],jt)&&(Dt=ut<3?void 0:Dt,ut=1),H=Object(H);++xe<ut;){var ot=Z[xe];ot&&R(H,ot,xe,Dt)}return H})}function c8(R){return function(H,Z,xe){for(var ut=-1,Dt=Object(H),jt=xe(H),ot=jt.length;ot--;){var $t=jt[R?ot:++ut];if(Z(Dt[$t],$t,Dt)===!1)break}return H}}function Nm(R,H){var Z=R.__data__;return d8(H)?Z[typeof H=="string"?"string":"hash"]:Z.map}function Y0(R,H){var Z=an(R,H);return Ke(Z)?Z:void 0}function l8(R){var H=me.call(R,Ze),Z=R[Ze];try{R[Ze]=void 0;var xe=!0}catch{}var ut=Me.call(R);return xe&&(H?R[Ze]=Z:delete R[Ze]),ut}function u8(R){return typeof R.constructor=="function"&&!oA(R)?He(de(R)):{}}function iA(R,H){var Z=typeof R;return H=H!=null?H:s,!!H&&(Z=="number"||Z!="symbol"&&X.test(R))&&R>-1&&R%1==0&&R<H}function f8(R,H,Z){if(!Ja(Z))return!1;var xe=typeof H;return(xe=="number"?Z0(Z)&&iA(H,Z.length):xe=="string"&&H in Z)?Lm(Z[H],R):!1}function d8(R){var H=typeof R;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?R!=="__proto__":R===null}function p8(R){return!!Be&&Be in R}function oA(R){var H=R&&R.constructor,Z=typeof H=="function"&&H.prototype||ae;return R===Z}function h8(R){var H=[];if(R!=null)for(var Z in Object(R))H.push(Z);return H}function m8(R){return Me.call(R)}function g8(R,H,Z){return H=qt(H===void 0?R.length-1:H,0),function(){for(var xe=arguments,ut=-1,Dt=qt(xe.length-H,0),jt=Array(Dt);++ut<Dt;)jt[ut]=xe[H+ut];ut=-1;for(var ot=Array(H+1);++ut<H;)ot[ut]=xe[ut];return ot[H]=Z(jt),Fe(R,this,ot)}}function J0(R,H){if(!(H==="constructor"&&typeof R[H]=="function")&&H!="__proto__")return R[H]}var v8=y8(t8);function y8(R){var H=0,Z=0;return function(){var xe=ye(),ut=o-(xe-Z);if(Z=xe,ut>0){if(++H>=i)return arguments[0]}else H=0;return R.apply(void 0,arguments)}}function w8(R){if(R!=null){try{return fe.call(R)}catch{}try{return R+""}catch{}}return""}function Lm(R,H){return R===H||R!==R&&H!==H}var Q0=Ye(function(){return arguments}())?Ye:function(R){return nd(R)&&me.call(R,"callee")&&!De.call(R,"callee")},X0=Array.isArray;function Z0(R){return R!=null&&aA(R.length)&&!eb(R)}function C8(R){return nd(R)&&Z0(R)}var sA=Ue||x8;function eb(R){if(!Ja(R))return!1;var H=et(R);return H==p||H==h||H==l||H==b}function aA(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=s}function Ja(R){var H=typeof R;return R!=null&&(H=="object"||H=="function")}function nd(R){return R!=null&&typeof R=="object"}function b8(R){if(!nd(R)||et(R)!=y)return!1;var H=de(R);if(H===null)return!0;var Z=me.call(H,"constructor")&&H.constructor;return typeof Z=="function"&&Z instanceof Z&&fe.call(Z)==we}var cA=Te?Kn(Te):Pt;function E8(R){return s8(R,lA(R))}function lA(R){return Z0(R)?M(R,!0):X5(R)}var _8=a8(function(R,H,Z){nA(R,H,Z)});function S8(R){return function(){return R}}function uA(R){return R}function x8(){return!1}t.exports=_8}),ble=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=Ht(),r=Yi(),n=class{constructor(i,o){this._exporter=i,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let s=r.getEnv();this._maxExportBatchSize=typeof(o==null?void 0:o.maxExportBatchSize)=="number"?o.maxExportBatchSize:s.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(o==null?void 0:o.maxQueueSize)=="number"?o.maxQueueSize:s.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(o==null?void 0:o.scheduledDelayMillis)=="number"?o.scheduledDelayMillis:s.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(o==null?void 0:o.exportTimeoutMillis)=="number"?o.exportTimeoutMillis:s.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(i){}onEnd(i){this._isShutdown||this._addToBuffer(i)}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}_addToBuffer(i){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(i),this._maybeStartTimer())}_flushAll(){return new Promise((i,o)=>{let s=[],a=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let c=0,l=a;c<l;c++)s.push(this._flushOneBatch());Promise.all(s).then(()=>{i()}).catch(o)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((i,o)=>{let s=setTimeout(()=>{o(new Error("Timeout"))},this._exportTimeoutMillis);t.context.with(r.suppressTracing(t.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),a=>{var c;clearTimeout(s),a.code===r.ExportResultCode.SUCCESS?i():o((c=a.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(i=>{r.globalErrorHandler(i)})},this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};e.BatchSpanProcessorBase=n}),Ele=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=ble(),r=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=r}),_le=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ele(),e)}),ZH=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(_le(),e)}),Sle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t=Ht(),r=Yi(),n=HP(),i=eV(),o=YH(),s=wle(),a=XH(),c=Cle(),l=ZH(),u;(function(d){d[d.resolved=0]="resolved",d[d.timeout=1]="timeout",d[d.error=2]="error",d[d.unresolved=3]="unresolved"})(u=e.ForceFlushState||(e.ForceFlushState={}));var f=class{constructor(d={}){var p;this._registeredSpanProcessors=[],this._tracers=new Map;let h=c({},o.DEFAULT_CONFIG,d);this.resource=(p=h.resource)!==null&&p!==void 0?p:n.Resource.empty(),this.resource=n.Resource.default().merge(this.resource),this._config=Object.assign({},h,{resource:this.resource});let m=this._buildExporterFromEnv();if(m!==void 0){let g=new l.BatchSpanProcessor(m);this.activeSpanProcessor=g}else this.activeSpanProcessor=new a.NoopSpanProcessor}getTracer(d,p){let h=`${d}@${p||""}`;return this._tracers.has(h)||this._tracers.set(h,new i.Tracer({name:d,version:p},this._config,this)),this._tracers.get(h)}addSpanProcessor(d){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(p=>t.diag.error("Error while trying to shutdown current span processor",p)),this._registeredSpanProcessors.push(d),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(d={}){t.trace.setGlobalTracerProvider(this),d.propagator===void 0&&(d.propagator=this._buildPropagatorFromEnv()),d.contextManager&&t.context.setGlobalContextManager(d.contextManager),d.propagator&&t.propagation.setGlobalPropagator(d.propagator)}forceFlush(){let d=this._config.forceFlushTimeoutMillis,p=this._registeredSpanProcessors.map(h=>new Promise(m=>{let g,v=setTimeout(()=>{m(new Error(`Span processor did not completed within timeout period of ${d} ms`)),g=u.timeout},d);h.forceFlush().then(()=>{clearTimeout(v),g!==u.timeout&&(g=u.resolved,m(g))}).catch(y=>{clearTimeout(v),g=u.error,m(y)})}));return new Promise((h,m)=>{Promise.all(p).then(g=>{let v=g.filter(y=>y!==u.resolved);v.length>0?m(v):h()}).catch(g=>m([g]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(d){var p;return(p=f._registeredPropagators.get(d))===null||p===void 0?void 0:p()}_getSpanExporter(d){var p;return(p=f._registeredExporters.get(d))===null||p===void 0?void 0:p()}_buildPropagatorFromEnv(){let d=Array.from(new Set(r.getEnv().OTEL_PROPAGATORS)),p=d.map(h=>{let m=this._getPropagator(h);return m||t.diag.warn(`Propagator "${h}" requested through environment variable is unavailable.`),m}).reduce((h,m)=>(m&&h.push(m),h),[]);if(p.length!==0)return d.length===1?p[0]:new r.CompositePropagator({propagators:p})}_buildExporterFromEnv(){let d=r.getEnv().OTEL_TRACES_EXPORTER;if(d==="none")return;let p=this._getSpanExporter(d);return p||t.diag.error(`Exporter "${d}" requested through environment variable is unavailable.`),p}};e.BasicTracerProvider=f,f._registeredPropagators=new Map([["tracecontext",()=>new r.HttpTraceContextPropagator],["baggage",()=>new r.HttpBaggagePropagator]]),f._registeredExporters=new Map}),xle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=Yi(),r=class{export(n,i){return this._sendSpans(n,i)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(n){return{traceId:n.spanContext().traceId,parentId:n.parentSpanId,name:n.name,id:n.spanContext().spanId,kind:n.kind,timestamp:t.hrTimeToMicroseconds(n.startTime),duration:t.hrTimeToMicroseconds(n.duration),attributes:n.attributes,status:n.status,events:n.events}}_sendSpans(n,i){for(let o of n)console.log(this._exportInfo(o));if(i)return i({code:t.ExportResultCode.SUCCESS})}};e.ConsoleSpanExporter=r}),Ple=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=Yi(),r=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(n,i){if(this._stopped)return i({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...n),setTimeout(()=>i({code:t.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};e.InMemorySpanExporter=r}),kle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ile=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=Ht(),r=Yi(),n=class{constructor(i){this._exporter=i,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(i){}onEnd(i){this._isShutdown||t.context.with(r.suppressTracing(t.context.active()),()=>{this._exporter.export([i],o=>{var s;o.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler((s=o.error)!==null&&s!==void 0?s:new Error(`SimpleSpanProcessor: span export failed (status ${o})`))})})}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}};e.SimpleSpanProcessor=n}),Tle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ale=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Dle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Rle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),eV=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(ule(),e),r(Sle(),e),r(ZH(),e),r(xle(),e),r(Ple(),e),r(kle(),e),r(Ile(),e),r(Tle(),e),r(XH(),e),r(KH(),e),r(Ale(),e),r(Dle(),e),r(Rle(),e)}),Ole=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=lr();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1,n=function(o){if(r)return o;try{var s=eV(),a=Ht(),c=new s.BasicTracerProvider,l=c.getTracer("applicationinsights tracer"),u=o.setTracer;o.setTracer=function(f){var d=f.startSpan;f.startSpan=function(p,h,m){var g=d.call(this,p,h,m),v=g.end;return g.end=function(){var y=v.apply(this,arguments);return t.channel.publish("azure-coretracing",g),y},g},f[e.AzureMonitorSymbol]=!0,u.call(this,f)},a.trace.getSpan(a.context.active()),o.setTracer(l),r=!0}catch{}return o};e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:n};function i(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}e.enable=i}),Nle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=lr(),r=function(i){var o=i.prototype._emit;return i.prototype._emit=function(s,a){var c=o.apply(this,arguments);if(!a){var l=c;l||(l=o.call(this,s,!0)),t.channel.publish("bunyan",{level:s.level,result:l})}return c},i};e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}e.enable=n}),Lle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=lr(),r=require("stream"),n=function(o){var s=new r.Writable,a=new r.Writable;s.write=function(h){if(!h)return!0;var m=h.toString();return t.channel.publish("console",{message:m}),!0},a.write=function(h){if(!h)return!0;var m=h.toString();return t.channel.publish("console",{message:m,stderr:!0}),!0};for(var c=new o.Console(s,a),l=["log","info","warn","error","dir","time","timeEnd","trace","assert"],u=function(h){var m=o[h];m&&(o[h]=function(){if(c[h])try{c[h].apply(c,arguments)}catch{}return m.apply(o,arguments)})},f=0,d=l;f<d.length;f++){var p=d[f];u(p)}return o};e.console={versionSpecifier:">= 4.0.0",patch:n};function i(){t.channel.registerMonkeyPatch("console",e.console),require("console")}e.enable=i}),Fle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=lr(),r=function(i){var o=i.Server.prototype.connect;return i.Server.prototype.connect=function(){var s=o.apply(this,arguments),a=this.s.pool.write;this.s.pool.write=function(){var l=typeof arguments[1]=="function"?1:2;return typeof arguments[l]=="function"&&(arguments[l]=t.channel.bindToContext(arguments[l])),a.apply(this,arguments)};var c=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=t.channel.bindToContext(arguments[1])),c.apply(this,arguments)},s},i};e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}e.enable=n}),Mle=L(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(c){for(var l,u=1,f=arguments.length;u<f;u++){l=arguments[u];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(c[d]=l[d])}return c},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var r=lr(),n=function(c){var l=c.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(f){return f()})}}}),u={};return l.on("started",function(f){u[f.requestId]||(u[f.requestId]=t(t({},f),{time:new Date}))}),l.on("succeeded",function(f){var d=u[f.requestId];d&&delete u[f.requestId],typeof f.operationId=="function"?f.operationId(function(){return r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!0})}):r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!0})}),l.on("failed",function(f){var d=u[f.requestId];d&&delete u[f.requestId],typeof f.operationId=="function"?f.operationId(function(){return r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!1})}):r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!1})}),c},i=function(c){var l=c.instrument(),u={},f={};return l.on("started",function(d){u[d.requestId]||(f[d.requestId]=r.channel.bindToContext(function(p){return p()}),u[d.requestId]=t(t({},d),{time:new Date}))}),l.on("succeeded",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!0})}),delete f[d.requestId])}),l.on("failed",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!1})}),delete f[d.requestId])}),c},o=function(c){var l=c.Server.prototype.connect;return c.Server.prototype.connect=function(){var u=l.apply(this,arguments),f=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var p=typeof arguments[1]=="function"?1:2;return typeof arguments[p]=="function"&&(arguments[p]=r.channel.bindToContext(arguments[p])),f.apply(this,arguments)};var d=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=r.channel.bindToContext(arguments[1])),d.apply(this,arguments)},u},c},s=function(c){o(c);var l=c.instrument(),u={},f={};return l.on("started",function(d){u[d.requestId]||(f[d.requestId]=r.channel.bindToContext(function(p){return p()}),u[d.requestId]=d)}),l.on("succeeded",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!0})}),delete f[d.requestId])}),l.on("failed",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!1})}),delete f[d.requestId])}),c};e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:n},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:i},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:s};function a(){r.channel.registerMonkeyPatch("mongodb",e.mongo2),r.channel.registerMonkeyPatch("mongodb",e.mongo3),r.channel.registerMonkeyPatch("mongodb",e.mongo330)}e.enable=a}),qle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=lr(),r=require("path"),n=function(o,s){var a=function(p,h){return function(m,g){var v=p[m];v&&(p[m]=function(){for(var y=arguments.length-1,b=arguments.length-1;b>=0;--b)if(typeof arguments[b]=="function"){y=b;break}else if(typeof arguments[b]<"u")break;var C=arguments[y],_={result:null,startTime:null,startDate:null};typeof C=="function"&&(g?(_.startTime=process.hrtime(),_.startDate=new Date,arguments[y]=t.channel.bindToContext(g(_,C))):arguments[y]=t.channel.bindToContext(C));var P=v.apply(this,arguments);return _.result=P,P})}},c=function(p,h){return a(p.prototype,h+".prototype")},l=["connect","changeUser","ping","statistics","end"],u=require(r.dirname(s)+"/lib/Connection");l.forEach(function(p){return c(u,"Connection")(p)}),a(u,"Connection")("createQuery",function(p,h){return function(m){var g=process.hrtime(p.startTime),v=g[0]*1e3+g[1]/1e6|0;t.channel.publish("mysql",{query:p.result,callbackArgs:arguments,err:m,duration:v,time:p.startDate}),h.apply(this,arguments)}});var f=["_enqueueCallback"],d=require(r.dirname(s)+"/lib/Pool");return f.forEach(function(p){return c(d,"Pool")(p)}),o};e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:n};function i(){t.channel.registerMonkeyPatch("mysql",e.mysql)}e.enable=i}),jle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=lr();function r(i){var o=i.prototype.connect;return i.prototype.connect=function(s){return s&&(arguments[0]=t.channel.bindToContext(s)),o.apply(this,arguments)},i}e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}e.enable=n}),$le=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=lr(),r=require("events");function n(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,f,d){var p={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},h=process.hrtime(),m;function g(v){v&&v[l]&&(v=v[l]);var y=t.channel.bindToContext(function(b,C){var _=process.hrtime(h);if(p.result=C&&{rowCount:C.rowCount,command:C.command},p.error=b,p.duration=Math.ceil(_[0]*1e3+_[1]/1e6),t.channel.publish("postgres",p),b){if(v)return v.apply(this,arguments);m&&m instanceof r.EventEmitter&&m.emit("error",b)}else v&&v.apply(this,arguments)});try{return Object.defineProperty(y,l,{value:v}),y}catch{return v}}try{typeof u=="string"?f instanceof Array?(p.query.preparable={text:u,args:f},d=g(d)):(p.query.text=u,d?d=g(d):f=g(f)):(typeof u.name=="string"?p.query.plan=u.name:u.values instanceof Array?p.query.preparable={text:u.text,args:u.values}:p.query.text=u.text,d?d=g(d):f?f=g(f):u.callback=g(u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=f,arguments[2]=d,arguments.length=arguments.length>3?arguments.length:3,m=c.apply(this,arguments),m},s}function i(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,f,d){var p=this,h=!!d,m={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},g=process.hrtime(),v;function y(b){b&&b[l]&&(b=b[l]);var C=t.channel.bindToContext(function(_,P){var S=process.hrtime(g);if(m.result=P&&{rowCount:P.rowCount,command:P.command},m.error=_,m.duration=Math.ceil(S[0]*1e3+S[1]/1e6),t.channel.publish("postgres",m),_){if(b)return b.apply(this,arguments);v&&v instanceof r.EventEmitter&&v.emit("error",_)}else b&&b.apply(this,arguments)});try{return Object.defineProperty(C,l,{value:b}),C}catch{return b}}try{typeof u=="string"?f instanceof Array?(m.query.preparable={text:u,args:f},h=typeof d=="function",d=h?y(d):d):(m.query.text=u,d?(h=typeof d=="function",d=h?y(d):d):(h=typeof f=="function",f=h?y(f):f)):(typeof u.name=="string"?m.query.plan=u.name:u.values instanceof Array?m.query.preparable={text:u.text,args:u.values}:m.query.text=u.text,d?(h=typeof d=="function",d=y(d)):f?(h=typeof f=="function",f=h?y(f):f):(h=typeof u.callback=="function",u.callback=h?y(u.callback):u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=f,arguments[2]=d,arguments.length=arguments.length>3?arguments.length:3,v=c.apply(this,arguments),h?v:v.then(function(b){return y()(void 0,b),new p._Promise(function(C,_){C(b)})}).catch(function(b){return y()(b,void 0),new p._Promise(function(C,_){_(b)})})},s}e.postgres6={versionSpecifier:"6.*",patch:n},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:i};function o(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}e.enable=o}),Ule=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=lr(),r=function(i){var o=i.RedisClient.prototype.internal_send_command;return i.RedisClient.prototype.internal_send_command=function(s){if(s){var a=s.callback;if(!a||!a.pubsubBound){var c=this.address,l=process.hrtime(),u=new Date;s.callback=t.channel.bindToContext(function(f,d){var p=process.hrtime(l),h=p[0]*1e3+p[1]/1e6|0;t.channel.publish("redis",{duration:h,address:c,commandObj:s,err:f,result:d,time:u}),typeof a=="function"&&a.apply(this,arguments)}),s.callback.pubsubBound=!0}}return o.call(this,s)},i};e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("redis",e.redis)}e.enable=n}),Ble=L(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var r=lr(),n=function(o){var s=o.Connection.prototype.makeRequest;return o.Connection.prototype.makeRequest=function(){function a(l){var u=process.hrtime(),f={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext(function(d,p,h){var m=process.hrtime(u);f=t(t({},f),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!d&&{rowCount:p,rows:h},query:{text:this.parametersByName.statement.value},error:d,duration:Math.ceil(m[0]*1e3+m[1]/1e6)}),r.channel.publish("tedious",f),l.call(this,d,p,h)})}var c=arguments[0];arguments[0].callback=a(c.callback),s.apply(this,arguments)},o};e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:n};function i(){r.channel.registerMonkeyPatch("tedious",e.tedious)}e.enable=i}),Hle=L(e=>{"use strict";var t=e&&e.__extends||function(){var a=function(c,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(u[d]=f[d])},a(c,l)};return function(c,l){a(c,l);function u(){this.constructor=c}c.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),r=e&&e.__rest||function(a,c){var l={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&c.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(a);f<u.length;f++)c.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(a,u[f])&&(l[u[f]]=a[u[f]]);return l};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var n=lr(),i=function(a){var c=a.Logger.prototype.log,l,u=function(f,d,p){var h;return l===a.config.npm.levels?h="npm":l===a.config.syslog.levels?h="syslog":h="unknown",n.channel.publish("winston",{level:f,message:d,meta:p,levelKind:h}),d};return a.Logger.prototype.log=function(){return l=this.levels,!this.filters||this.filters.length===0?this.filters=[u]:this.filters[this.filters.length-1]!==u&&(this.filters=this.filters.filter(function(f){return f!==u}),this.filters.push(u)),c.apply(this,arguments)},a},o=function(a){var c=function(p,h){var m;return p.config.npm.levels[h]!=null?m="npm":p.config.syslog.levels[h]!=null?m="syslog":m="unknown",m},l=function(p){t(h,p);function h(m,g){var v=p.call(this,g)||this;return v.winston=m,v}return h.prototype.log=function(m,g){var v=m.message,y=m.level,b=m.meta,C=r(m,["message","level","meta"]);y=typeof Symbol.for=="function"?m[Symbol.for("level")]:y,v=m instanceof Error?m:v;var _=c(this.winston,y);b=b||{};for(var P in C)C.hasOwnProperty(P)&&(b[P]=C[P]);n.channel.publish("winston",{message:v,level:y,levelKind:_,meta:b}),g()},h}(a.Transport);function u(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);this.add(new l(a,{level:h}))}var f=a.createLogger;a.createLogger=function(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);var g=f.apply(this,arguments);g.add(new l(a,{level:h}));var v=g.configure;return g.configure=function(){v.apply(this,arguments),u.apply(this,arguments)},g};var d=a.configure;return a.configure=function(){d.apply(this,arguments),u.apply(this,arguments)},a.add(new l(a)),a};e.winston3={versionSpecifier:"3.x",patch:o},e.winston2={versionSpecifier:"2.x",patch:i};function s(){n.channel.registerMonkeyPatch("winston",e.winston2),n.channel.registerMonkeyPatch("winston",e.winston3)}e.enable=s}),Vle=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=Ole();e.azuresdk=t;var r=Nle();e.bunyan=r;var n=Lle();e.console=n;var i=Fle();e.mongodbCore=i;var o=Mle();e.mongodb=o;var s=qle();e.mysql=s;var a=jle();e.pgPool=a;var c=$le();e.pg=c;var l=Ule();e.redis=l;var u=Ble();e.tedious=u;var f=Hle();e.winston=f;function d(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),l.enable(),f.enable(),t.enable(),u.enable()}e.enable=d}),VP=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=kH(),r=Lr();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n="DiagnosticChannel";if(e.IsInitialized){i=Vle(),o=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",s=o.split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston,azuresdk:i.azuresdk};for(c in a)s.indexOf(c)===-1&&(a[c].enable(),r.info(n,"Subscribed to "+c+" events"));s.length>0&&r.info(n,"Some modules will not be patched",s)}else r.info(n,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var i,o,s,a,c;function l(u){if(e.IsInitialized){var f=lr();f.channel.addContextPreservation(u),f.channel.spanContextPropagator=t.AsyncScopeManager}}e.registerContextPreservation=l}),Ph=L((e,t)=>{"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}}),Ei=L((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(u){for(var f,d=1,p=arguments.length;d<p;d++){f=arguments[d];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}return u},r.apply(this,arguments)},n=require("http"),i=require("https"),o=require("url"),s=require("constants"),a=Lr(),c=Ph(),l=function(){function u(){}return u.getCookie=function(f,d){var p="";if(f&&f.length&&typeof d=="string")for(var h=f+"=",m=d.split(";"),g=0;g<m.length;g++){var d=m[g];if(d=u.trim(d),d&&d.indexOf(h)===0){p=d.substring(h.length,m[g].length);break}}return p},u.trim=function(f){return typeof f=="string"?f.replace(/^\s+|\s+$/g,""):""},u.int32ArrayToBase64=function(f){var d=function(v,y){return String.fromCharCode(v>>y&255)},p=function(v){return d(v,24)+d(v,16)+d(v,8)+d(v,0)},h=f.map(p).join(""),m=Buffer.from?Buffer.from(h,"binary"):new Buffer(h,"binary"),g=m.toString("base64");return g.substr(0,g.indexOf("="))},u.random32=function(){return 4294967296*Math.random()|0},u.randomu32=function(){return u.random32()+2147483648},u.w3cTraceId=function(){for(var f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d="",p,h=0;h<4;h++)p=u.random32(),d+=f[p&15]+f[p>>4&15]+f[p>>8&15]+f[p>>12&15]+f[p>>16&15]+f[p>>20&15]+f[p>>24&15]+f[p>>28&15];var m=f[8+Math.random()*4|0];return d.substr(0,8)+d.substr(9,4)+"4"+d.substr(13,3)+m+d.substr(16,3)+d.substr(19,12)},u.w3cSpanId=function(){return u.w3cTraceId().substring(16)},u.isValidW3CId=function(f){return f.length===32&&f!=="00000000000000000000000000000000"},u.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},u.isError=function(f){return f instanceof Error},u.isPrimitive=function(f){var d=typeof f;return d==="string"||d==="number"||d==="boolean"},u.isDate=function(f){return Object.prototype.toString.call(f)==="[object Date]"},u.msToTimeSpan=function(f){(isNaN(f)||f<0)&&(f=0);var d=(f/1e3%60).toFixed(7).replace(/0{0,4}$/,""),p=""+Math.floor(f/(1e3*60))%60,h=""+Math.floor(f/(1e3*60*60))%24,m=Math.floor(f/(1e3*60*60*24));d=d.indexOf(".")<2?"0"+d:d,p=p.length<2?"0"+p:p,h=h.length<2?"0"+h:h;var g=m>0?m+".":"";return g+h+":"+p+":"+d},u.extractError=function(f){var d=f;return{message:f.message,code:d.code||d.id||""}},u.extractObject=function(f){return f instanceof Error?u.extractError(f):typeof f.toJSON=="function"?f.toJSON():f},u.validateStringMap=function(f){if(typeof f!="object"){a.info("Invalid properties dropped from payload");return}var d={};for(var p in f){var h="",m=f[p],g=typeof m;if(u.isPrimitive(m))h=m.toString();else if(m===null||g==="undefined")h="";else if(g==="function"){a.info("key: "+p+" was function; will not serialize");continue}else{var v=u.isArray(m)?m:u.extractObject(m);try{u.isPrimitive(v)?h=v:h=JSON.stringify(v)}catch(y){h=m.constructor.name.toString()+" (Error: "+y.message+")",a.info("key: "+p+", could not be serialized")}}d[p]=h.substring(0,u.MAX_PROPERTY_LENGTH)}return d},u.canIncludeCorrelationHeader=function(f,d){var p=f&&f.config&&f.config.correlationHeaderExcludedDomains;if(!p||p.length==0||!d)return!0;for(var h=0;h<p.length;h++){var m=new RegExp(p[h].replace(/\./g,".").replace(/\*/g,".*"));if(m.test(o.parse(d).hostname))return!1}return!0},u.getCorrelationContextTarget=function(f,d){var p=f.headers&&f.headers[c.requestContextHeader];if(p)for(var h=p.split(","),m=0;m<h.length;++m){var g=h[m].split("=");if(g.length==2&&g[0]==d)return g[1]}},u.makeRequest=function(f,d,p,h){d&&d.indexOf("//")===0&&(d="https:"+d);var m=o.parse(d),g=r(r({},p),{host:m.hostname,port:m.port,path:m.pathname}),v=void 0;if(m.protocol==="https:"&&(v=f.proxyHttpsUrl||void 0),m.protocol==="http:"&&(v=f.proxyHttpUrl||void 0),v){v.indexOf("//")===0&&(v="http:"+v);var y=o.parse(v);y.protocol==="https:"?(a.info("Proxies that use HTTPS are not supported"),v=void 0):g=r(r({},g),{host:y.hostname,port:y.port||"80",path:d,headers:r(r({},g.headers),{Host:m.hostname})})}var b=m.protocol==="https:"&&!v;return b&&f.httpsAgent!==void 0?g.agent=f.httpsAgent:!b&&f.httpAgent!==void 0?g.agent=f.httpAgent:b&&(g.agent=u.tlsRestrictedAgent),b?i.request(g,h):n.request(g,h)},u.safeIncludeCorrelationHeader=function(f,d,p){var h;if(typeof p=="string")h=p;else if(p instanceof Array)h=p.join(",");else if(p&&typeof p.toString=="function")try{h=p.toString()}catch(m){a.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",m,p)}h?u.addCorrelationIdHeaderFromString(f,d,h):d.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+f.config.correlationId)},u.dumpObj=function(f){var d=Object.prototype.toString.call(f),p="";return d==="[object Error]"?p="{ stack: '"+f.stack+"', message: '"+f.message+"', name: '"+f.name+"'":p=JSON.stringify(f),d+p},u.addCorrelationIdHeaderFromString=function(f,d,p){var h=p.split(","),m=c.requestContextSourceKey+"=",g=h.some(function(v){return v.substring(0,m.length)===m});g||d.setHeader(c.requestContextHeader,p+","+c.requestContextSourceKey+"="+f.config.correlationId)},u.MAX_PROPERTY_LENGTH=8192,u.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),u}();t.exports=l}),Sf=L((e,t)=>{"use strict";var r=Ei(),n=Lr(),i=function(){function o(){}return o.queryCorrelationId=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId";if(o.completedLookups.hasOwnProperty(c)){a(o.completedLookups[c]);return}else if(o.pendingLookups[c]){o.pendingLookups[c].push(a);return}o.pendingLookups[c]=[a];var l=function(){if(o.pendingLookups[c]){var u={method:"GET",disableAppInsightsAutoCollection:!0};n.info(o.TAG,u);var f=r.makeRequest(s,c,u,function(d){if(d.statusCode===200){var p="";d.setEncoding("utf-8"),d.on("data",function(h){p+=h}),d.on("end",function(){n.info(o.TAG,p);var h=o.correlationIdPrefix+p;o.completedLookups[c]=h,o.pendingLookups[c]&&o.pendingLookups[c].forEach(function(m){return m(h)}),delete o.pendingLookups[c]})}else d.statusCode>=400&&d.statusCode<500?(o.completedLookups[c]=void 0,delete o.pendingLookups[c]):setTimeout(l,s.correlationIdRetryIntervalMs)});f&&(f.on("error",function(d){n.warn(o.TAG,d)}),f.end())}};setTimeout(l,0)},o.cancelCorrelationIdQuery=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId",l=o.pendingLookups[c];l&&(o.pendingLookups[c]=l.filter(function(u){return u!=a}),o.pendingLookups[c].length==0&&delete o.pendingLookups[c])},o.generateRequestId=function(s){if(s){s=s[0]=="|"?s:"|"+s,s[s.length-1]!=="."&&(s+=".");var a=(o.currentRootId++).toString(16);return o.appendSuffix(s,a,"_")}else return o.generateRootId()},o.getRootId=function(s){var a=s.indexOf(".");a<0&&(a=s.length);var c=s[0]==="|"?1:0;return s.substring(c,a)},o.generateRootId=function(){return"|"+r.w3cTraceId()+"."},o.appendSuffix=function(s,a,c){if(s.length+a.length<o.requestIdMaxLength)return s+a+c;var l=o.requestIdMaxLength-9;if(s.length>l)for(;l>1;--l){var u=s[l-1];if(u==="."||u==="_")break}if(l<=1)return o.generateRootId();for(a=r.randomu32().toString(16);a.length<8;)a="0"+a;return s.substring(0,l)+a+"#"},o.TAG="CorrelationIdManager",o.correlationIdPrefix="cid-v1:",o.w3cEnabled=!0,o.pendingLookups={},o.completedLookups={},o.requestIdMaxLength=1024,o.currentRootId=r.randomu32(),o}();t.exports=i}),Gw=L((e,t)=>{"use strict";var r=Ei(),n=Sf(),i=function(){function o(s,a){if(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.version=o.DEFAULT_VERSION,s&&typeof s=="string")if(s.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var c=s.trim().split("-"),l=c.length;l>=4?(this.version=c[0],this.traceId=c[1],this.spanId=c[2],this.traceFlag=c[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),this.version==="00"&&l!==4&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=o.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),o.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),o.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(a){this.parentId=a.slice();var u=n.getRootId(a);o.isValidTraceId(u)||(this.legacyRootId=u,u=r.w3cTraceId()),a.indexOf("|")!==-1&&(a=a.substring(1+a.substring(0,a.length-1).lastIndexOf("."),a.length-1)),this.traceId=u,this.spanId=a}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return o.isValidTraceId=function(s){return s.match(/^[0-9a-f]{32}$/)&&s!=="00000000000000000000000000000000"},o.isValidSpanId=function(s){return s.match(/^[0-9a-f]{16}$/)&&s!=="0000000000000000"},o.formatOpenTelemetryTraceFlags=function(s){var a="0"+s.toString(16);return a.substring(a.length-2)},o.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},o.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},o.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},o.DEFAULT_TRACE_FLAG="01",o.DEFAULT_VERSION="00",o}();t.exports=i}),tV=L((e,t)=>{"use strict";var r=function(){function n(i){this.fieldmap=[],i&&(this.fieldmap=this.parseHeader(i))}return n.prototype.toString=function(){var i=this.fieldmap;return!i||i.length==0?null:i.join(", ")},n.validateKeyChars=function(i){var o=i.split("@");if(o.length==2){var s=o[0].trim(),a=o[1].trim(),c=Boolean(s.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),l=Boolean(a.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return c&&l}else if(o.length==1)return Boolean(i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/));return!1},n.prototype.parseHeader=function(i){var o=[],s={},a=i.split(",");if(a.length>32)return null;for(var c=0,l=a;c<l.length;c++){var u=l[c],f=u.trim();if(f.length!==0){var d=f.split("=");if(d.length!==2||!n.validateKeyChars(d[0])||s[d[0]])return null;s[d[0]]=!0,o.push(f)}}return o},n.strict=!0,n}();t.exports=r}),Ca=L((e,t)=>{"use strict";var r=function(){function n(){}return n}();t.exports=r}),zle=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Ca(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),rV=L((e,t)=>{"use strict";var r=function(){function n(){}return n}();t.exports=r}),Wle=L((e,t)=>{"use strict";var r=function(){function n(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return n}();t.exports=r}),Gle=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=rV(),i=function(o){r(s,o);function s(){return o.call(this)||this}return s}(n);t.exports=i}),nV=L((e,t)=>{"use strict";var r;(function(n){n[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation"})(r||(r={})),t.exports=r}),Kle=L((e,t)=>{"use strict";var r=nV(),n=function(){function i(){this.kind=r.Measurement}return i}();t.exports=n}),Yle=L((e,t)=>{"use strict";var r=function(){function n(){this.ver=1,this.sampleRate=100,this.tags={}}return n}();t.exports=r}),iV=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Ca(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),Jle=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Ca(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.exceptions=[],a.properties={},a.measurements={},a}return s}(n);t.exports=i}),Qle=L((e,t)=>{"use strict";var r=function(){function n(){this.hasFullStack=!0,this.parsedStack=[]}return n}();t.exports=r}),Xle=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Ca(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a}return s}(n);t.exports=i}),Zle=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Ca(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.metrics=[],a.properties={},a}return s}(n);t.exports=i}),eue=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=iV(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),tue=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Ca(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.success=!0,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),rue=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Ca(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),nue=L((e,t)=>{"use strict";var r;(function(n){n[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical"})(r||(r={})),t.exports=r}),iue=L((e,t)=>{"use strict";var r=function(){function n(){}return n}();t.exports=r}),oV=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=zle(),e.Base=rV(),e.ContextTagKeys=Wle(),e.Data=Gle(),e.DataPoint=Kle(),e.DataPointType=nV(),e.Domain=Ca(),e.Envelope=Yle(),e.EventData=iV(),e.ExceptionData=Jle(),e.ExceptionDetails=Qle(),e.MessageData=Xle(),e.MetricData=Zle(),e.PageViewData=eue(),e.RemoteDependencyData=tue(),e.RequestData=rue(),e.SeverityLevel=nue(),e.StackFrame=iue()}),oue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=oV(),r=function(){function i(){}return i.TYPE_HTTP="Http",i.TYPE_AI="Http (tracked component)",i}();e.RemoteDependencyDataConstants=r;function n(i){return"properties"in i||i instanceof t.EventData||i instanceof t.ExceptionData||i instanceof t.MessageData||i instanceof t.MetricData||i instanceof t.PageViewData||i instanceof t.RemoteDependencyData||i instanceof t.RequestData}e.domainSupportsProperties=n}),sue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),aue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),cue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),lue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),uue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),fue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),due=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),pue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),hue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),mue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),gue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),vue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),yue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0;function t(i){switch(i){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}}e.telemetryTypeToBaseType=t;function r(i){switch(i){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}}e.baseTypeToTelemetryType=r,e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var n;(function(i){i[i.Event=0]="Event",i[i.Exception=1]="Exception",i[i.Trace=2]="Trace",i[i.Metric=3]="Metric",i[i.Request=4]="Request",i[i.Dependency=5]="Dependency",i[i.Availability=6]="Availability",i[i.PageView=7]="PageView"})(n=e.TelemetryType||(e.TelemetryType={}))}),wue=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(sue(),e),r(aue(),e),r(cue(),e),r(lue(),e),r(uue(),e),r(fue(),e),r(due(),e),r(pue(),e),r(hue(),e),r(mue(),e),r(gue(),e),r(vue(),e),r(yue(),e)}),Cue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),bue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Eue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),_ue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Sue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),xue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Pue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),kue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Iue=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Cue(),e),r(bue(),e),r(Eue(),e),r(_ue(),e),r(Sue(),e),r(xue(),e),r(Pue(),e),r(kue(),e)}),En=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(oue(),e),r(oV(),e),r(wue(),e),r(Iue(),e)}),sV=L((e,t)=>{"use strict";var r=function(){function n(){}return n.prototype.getUrl=function(){return this.url},n.prototype.RequestParser=function(){this.startTime=+new Date},n.prototype._setStatus=function(i,o){var s=+new Date;this.duration=s-this.startTime,this.statusCode=i;var a=this.properties||{};if(o){if(typeof o=="string")a.error=o;else if(o instanceof Error)a.error=o.message;else if(typeof o=="object")for(var c in o)a[c]=o[c]&&o[c].toString&&o[c].toString()}this.properties=a},n.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},n}();t.exports=r}),aV=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var d=function(p,h){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},d(p,h)};return function(p,h){d(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),n=require("url"),i=En(),o=Ei(),s=Ph(),a=sV(),c=Sf(),l=tV(),u=Gw(),f=function(d){r(p,d);function p(h,m){var g=d.call(this)||this;return h&&(g.method=h.method,g.url=g._getAbsoluteUrl(h),g.startTime=+new Date,g.socketRemoteAddress=h.socket&&h.socket.remoteAddress,g.parseHeaders(h,m),h.connection&&(g.connectionRemoteAddress=h.connection.remoteAddress,g.legacySocketRemoteAddress=h.connection.socket&&h.connection.socket.remoteAddress)),g}return p.prototype.onError=function(h,m){this._setStatus(void 0,h),m&&(this.duration=m)},p.prototype.onResponse=function(h,m){this._setStatus(h.statusCode,void 0),m&&(this.duration=m)},p.prototype.getRequestTelemetry=function(h){var m={id:this.requestId,name:this.method+" "+n.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(h&&h.time?m.time=h.time:this.startTime&&(m.time=new Date(this.startTime)),h){for(var g in h)m[g]||(m[g]=h[g]);if(h.properties)for(var g in h.properties)m.properties[g]=h.properties[g]}return m},p.prototype.getRequestTags=function(h){var m={};for(var g in h)m[g]=h[g];return m[p.keys.locationIp]=h[p.keys.locationIp]||this._getIp(),m[p.keys.sessionId]=h[p.keys.sessionId]||this._getId("ai_session"),m[p.keys.userId]=h[p.keys.userId]||this._getId("ai_user"),m[p.keys.userAuthUserId]=h[p.keys.userAuthUserId]||this._getId("ai_authUser"),m[p.keys.operationName]=this.getOperationName(h),m[p.keys.operationParentId]=this.getOperationParentId(h),m[p.keys.operationId]=this.getOperationId(h),m},p.prototype.getOperationId=function(h){return h[p.keys.operationId]||this.operationId},p.prototype.getOperationParentId=function(h){return h[p.keys.operationParentId]||this.parentId||this.getOperationId(h)},p.prototype.getOperationName=function(h){return h[p.keys.operationName]||this.method+" "+n.parse(this.url).pathname},p.prototype.getRequestId=function(){return this.requestId},p.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},p.prototype.getTraceparent=function(){return this.traceparent},p.prototype.getTracestate=function(){return this.tracestate},p.prototype.getLegacyRootId=function(){return this.legacyRootId},p.prototype._getAbsoluteUrl=function(h){if(!h.headers)return h.url;var m=h.connection?h.connection.encrypted:null,g=n.parse(h.url),v=g.pathname,y=g.search,b=m||h.headers["x-forwarded-proto"]=="https"?"https":"http",C=n.format({protocol:b,host:h.headers.host,pathname:v,search:y});return C},p.prototype._getIp=function(){var h=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,m=function(v){var y=h.exec(v);if(y)return y[0]},g=m(this.rawHeaders["x-forwarded-for"])||m(this.rawHeaders["x-client-ip"])||m(this.rawHeaders["x-real-ip"])||m(this.connectionRemoteAddress)||m(this.socketRemoteAddress)||m(this.legacySocketRemoteAddress);return!g&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(g="127.0.0.1"),g},p.prototype._getId=function(h){var m=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",g=p.parseId(o.getCookie(h,m));return g},p.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},p.prototype.parseHeaders=function(h,m){if(this.rawHeaders=h.headers||h.rawHeaders,this.userAgent=h.headers&&h.headers["user-agent"],this.sourceCorrelationId=o.getCorrelationContextTarget(h,s.requestContextSourceKey),h.headers){var g=h.headers[s.traceStateHeader]?h.headers[s.traceStateHeader].toString():null,v=h.headers[s.traceparentHeader]?h.headers[s.traceparentHeader].toString():null,y=h.headers[s.requestIdHeader]?h.headers[s.requestIdHeader].toString():null,b=h.headers[s.parentIdHeader]?h.headers[s.parentIdHeader].toString():null,C=h.headers[s.rootIdHeader]?h.headers[s.rootIdHeader].toString():null;this.correlationContextHeader=h.headers[s.correlationContextHeader]?h.headers[s.correlationContextHeader].toString():null,c.w3cEnabled&&(v||g)?(this.traceparent=new u(v?v.toString():null),this.tracestate=v&&g&&new l(g?g.toString():null),this.setBackCompatFromThisTraceContext()):y?c.w3cEnabled?(this.traceparent=new u(null,y),this.setBackCompatFromThisTraceContext()):(this.parentId=y,this.requestId=c.generateRequestId(this.parentId),this.operationId=c.getRootId(this.requestId)):c.w3cEnabled?(this.traceparent=new u,this.traceparent.parentId=b,this.traceparent.legacyRootId=C||b,this.setBackCompatFromThisTraceContext()):(this.parentId=b,this.requestId=c.generateRequestId(C||this.parentId),this.correlationContextHeader=null,this.operationId=c.getRootId(this.requestId)),m&&(this.requestId=m,this.operationId=c.getRootId(this.requestId))}},p.parseId=function(h){var m=h.split("|");return m.length>0?m[0]:""},p.keys=new i.ContextTagKeys,p}(a);t.exports=f}),Tue=L((e,t)=>{e=t.exports=ie;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=e.re=[],a=e.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var f=c++;a[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[f]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[f]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var b=c++;a[b]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var C=c++,_="v?"+a[d]+a[g]+"?"+a[b]+"?";a[C]="^"+_+"$";var P="[v=\\s]*"+a[p]+a[v]+"?"+a[b]+"?",S=c++;a[S]="^"+P+"$";var x=c++;a[x]="((?:<|>)?=?)";var I=c++;a[I]=a[u]+"|x|X|\\*";var A=c++;a[A]=a[l]+"|x|X|\\*";var O=c++;a[O]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[g]+")?"+a[b]+"?)?)?";var q=c++;a[q]="[v=\\s]*("+a[I]+")(?:\\.("+a[I]+")(?:\\.("+a[I]+")(?:"+a[v]+")?"+a[b]+"?)?)?";var J=c++;a[J]="^"+a[x]+"\\s*"+a[O]+"$";var K=c++;a[K]="^"+a[x]+"\\s*"+a[q]+"$";var ee=c++;a[ee]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var re=c++;a[re]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[re]+"\\s+",s[j]=new RegExp(a[j],"g");var F="$1~",D=c++;a[D]="^"+a[re]+a[O]+"$";var $=c++;a[$]="^"+a[re]+a[q]+"$";var Y=c++;a[Y]="(?:\\^)";var X=c++;a[X]="(\\s*)"+a[Y]+"\\s+",s[X]=new RegExp(a[X],"g");var Q="$1^",ve=c++;a[ve]="^"+a[Y]+a[O]+"$";var Ae=c++;a[Ae]="^"+a[Y]+a[q]+"$";var Se=c++;a[Se]="^"+a[x]+"\\s*("+P+")$|^$";var Oe=c++;a[Oe]="^"+a[x]+"\\s*("+_+")$|^$";var Ee=c++;a[Ee]="(\\s*)"+a[x]+"\\s*("+P+"|"+a[O]+")",s[Ee]=new RegExp(a[Ee],"g");var _t="$1$2$3",It=c++;a[It]="^\\s*("+a[O]+")\\s+-\\s+("+a[O]+")\\s*$";var Re=c++;a[Re]="^\\s*("+a[q]+")\\s+-\\s+("+a[q]+")\\s*$";var Te=c++;for(a[Te]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;e.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[S]:s[C];if(!k.test(w))return null;try{return new ie(w,E)}catch{return null}}e.valid=Kn;function Kn(w,E){var k=Xe(w,E);return k?k.version:null}e.clean=an;function an(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}e.SemVer=ie;function ie(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ie))return new ie(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[S]:s[C]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(N){if(/^[0-9]+$/.test(N)){var M=+N;if(M>=0&&M<i)return M}return N}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ie.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ie.prototype.toString=function(){return this.version},ie.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ie||(w=new ie(w,this.options)),this.compareMain(w)||this.comparePre(w)},ie.prototype.compareMain=function(w){return w instanceof ie||(w=new ie(w,this.options)),ne(this.major,w.major)||ne(this.minor,w.minor)||ne(this.patch,w.patch)},ie.prototype.comparePre=function(w){if(w instanceof ie||(w=new ie(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],N=w.prerelease[E];if(r("prerelease compare",E,k,N),k===void 0&&N===void 0)return 0;if(N===void 0)return 1;if(k===void 0)return-1;if(k!==N)return ne(k,N)}while(++E)},ie.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},e.inc=Yn;function Yn(w,E,k,N){typeof k=="string"&&(N=k,k=void 0);try{return new ie(w,k).inc(E,N).version}catch{return null}}e.diff=V;function V(w,E){if(be(w,E))return null;var k=Xe(w),N=Xe(E),M="";if(k.prerelease.length||N.prerelease.length){M="pre";var U="prerelease"}for(var z in k)if((z==="major"||z==="minor"||z==="patch")&&k[z]!==N[z])return M+z;return U}e.compareIdentifiers=ne;var ae=/^[0-9]+$/;function ne(w,E){var k=ae.test(w),N=ae.test(E);return k&&N&&(w=+w,E=+E),w===E?0:k&&!N?-1:N&&!k?1:w<E?-1:1}e.rcompareIdentifiers=fe;function fe(w,E){return ne(E,w)}e.major=me;function me(w,E){return new ie(w,E).major}e.minor=Be;function Be(w,E){return new ie(w,E).minor}e.patch=Me;function Me(w,E){return new ie(w,E).patch}e.compare=we;function we(w,E,k){return new ie(w,k).compare(new ie(E,k))}e.compareLoose=qe;function qe(w,E){return we(w,E,!0)}e.rcompare=_e;function _e(w,E,k){return we(E,w,k)}e.sort=W;function W(w,E){return w.sort(function(k,N){return e.compare(k,N,E)})}e.rsort=oe;function oe(w,E){return w.sort(function(k,N){return e.rcompare(k,N,E)})}e.gt=se;function se(w,E,k){return we(w,E,k)>0}e.lt=de;function de(w,E,k){return we(w,E,k)<0}e.eq=be;function be(w,E,k){return we(w,E,k)===0}e.neq=De;function De(w,E,k){return we(w,E,k)!==0}e.gte=nt;function nt(w,E,k){return we(w,E,k)>=0}e.lte=Ze;function Ze(w,E,k){return we(w,E,k)<=0}e.cmp=ct;function ct(w,E,k,N){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return be(w,k,N);case"!=":return De(w,k,N);case">":return se(w,k,N);case">=":return nt(w,k,N);case"<":return de(w,k,N);case"<=":return Ze(w,k,N);default:throw new TypeError("Invalid operator: "+E)}}e.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===qt?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var qt={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[Oe],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ie(k[2],this.options.loose):this.semver=qt},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===qt?!0:(typeof w=="string"&&(w=new ie(w,this.options)),ct(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ye(w.value,E),jr(this.value,k,E);if(w.operator==="")return k=new ye(this.value,E),jr(w.semver,k,E);var N=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),M=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,z=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ct(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ct(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return N||M||U&&z||le||ce},e.Range=ye;function ye(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ye)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ye(w.raw,E);if(w instanceof Ue)return new ye(w.value,E);if(!(this instanceof ye))return new ye(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ye.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ye.prototype.toString=function(){return this.range},ye.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[Re]:s[It];w=w.replace(k,Ua),r("hyphen replace",w),w=w.replace(s[Ee],_t),r("comparator trim",w,s[Ee]),w=w.replace(s[j],F),w=w.replace(s[X],Q),w=w.split(/\s+/).join(" ");var N=E?s[Se]:s[Oe],M=w.split(" ").map(function(U){return Ti(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(M=M.filter(function(U){return!!U.match(N)})),M=M.map(function(U){return new Ue(U,this.options)},this),M},ye.prototype.intersects=function(w,E){if(!(w instanceof ye))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(N){return w.set.some(function(M){return M.every(function(U){return N.intersects(U,E)})})})})},e.toComparators=Ps;function Ps(w,E){return new ye(w,E).set.map(function(k){return k.map(function(N){return N.value}).join(" ").trim().split(" ")})}function Ti(w,E){return r("comp",w,E),w=Ma(w,E),r("caret",w),w=kn(w,E),r("tildes",w),w=ja(w,E),r("xrange",w),w=Jr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function kn(w,E){return w.trim().split(/\s+/).map(function(k){return Fa(k,E)}).join(" ")}function Fa(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(N,M,U,z,le){r("tilde",w,N,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0"):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0",r("tilde return",ce),ce})}function Ma(w,E){return w.trim().split(/\s+/).map(function(k){return qa(k,E)}).join(" ")}function qa(w,E){r("caret",w,E);var k=E.loose?s[Ae]:s[ve];return w.replace(k,function(N,M,U,z,le){r("caret",w,N,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?M==="0"?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+".0 <"+(+M+1)+".0.0":le?(r("replaceCaret pr",le),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+"-"+le+" <"+(+M+1)+".0.0"):(r("no pr"),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+" <"+(+M+1)+".0.0"),r("caret return",ce),ce})}function ja(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return $a(k,E)}).join(" ")}function $a(w,E){w=w.trim();var k=E.loose?s[K]:s[J];return w.replace(k,function(N,M,U,z,le,ce){r("xRange",w,N,M,U,z,le,ce);var lt=He(U),et=lt||He(z),Ye=et||He(le),Ke=Ye;return M==="="&&Ke&&(M=""),lt?M===">"||M==="<"?N="<0.0.0":N="*":M&&Ke?(et&&(z=0),le=0,M===">"?(M=">=",et?(U=+U+1,z=0,le=0):(z=+z+1,le=0)):M==="<="&&(M="<",et?U=+U+1:z=+z+1),N=M+U+"."+z+"."+le):et?N=">="+U+".0.0 <"+(+U+1)+".0.0":Ye&&(N=">="+U+"."+z+".0 <"+U+"."+(+z+1)+".0"),r("xRange return",N),N})}function Jr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Te],"")}function Ua(w,E,k,N,M,U,z,le,ce,lt,et,Ye,Ke){return He(k)?E="":He(N)?E=">="+k+".0.0":He(M)?E=">="+k+"."+N+".0":E=">="+E,He(ce)?le="":He(lt)?le="<"+(+ce+1)+".0.0":He(et)?le="<"+ce+"."+(+lt+1)+".0":Ye?le="<="+ce+"."+lt+"."+et+"-"+Ye:le="<="+le,(E+" "+le).trim()}ye.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ie(w,this.options));for(var E=0;E<this.set.length;E++)if(Ba(this.set[E],w,this.options))return!0;return!1};function Ba(w,E,k){for(var N=0;N<w.length;N++)if(!w[N].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(N=0;N<w.length;N++)if(r(w[N].semver),w[N].semver!==qt&&w[N].semver.prerelease.length>0){var M=w[N].semver;if(M.major===E.major&&M.minor===E.minor&&M.patch===E.patch)return!0}return!1}return!0}e.satisfies=jr;function jr(w,E,k){try{E=new ye(E,k)}catch{return!1}return E.test(w)}e.maxSatisfying=Ha;function Ha(w,E,k){var N=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!N||M.compare(z)===-1)&&(N=z,M=new ie(N,k))}),N}e.minSatisfying=Va;function Va(w,E,k){var N=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!N||M.compare(z)===1)&&(N=z,M=new ie(N,k))}),N}e.minVersion=Jn;function Jn(w,E){w=new ye(w,E);var k=new ie("0.0.0");if(w.test(k)||(k=new ie("0.0.0-0"),w.test(k)))return k;k=null;for(var N=0;N<w.set.length;++N){var M=w.set[N];M.forEach(function(U){var z=new ie(U.semver.version);switch(U.operator){case">":z.prerelease.length===0?z.patch++:z.prerelease.push(0),z.raw=z.format();case"":case">=":(!k||se(k,z))&&(k=z);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}e.validRange=za;function za(w,E){try{return new ye(w,E).range||"*"}catch{return null}}e.ltr=Wa;function Wa(w,E,k){return In(w,E,"<",k)}e.gtr=Ga;function Ga(w,E,k){return In(w,E,">",k)}e.outside=In;function In(w,E,k,N){w=new ie(w,N),E=new ye(E,N);var M,U,z,le,ce;switch(k){case">":M=se,U=Ze,z=de,le=">",ce=">=";break;case"<":M=de,U=nt,z=se,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(w,E,N))return!1;for(var lt=0;lt<E.set.length;++lt){var et=E.set[lt],Ye=null,Ke=null;if(et.forEach(function(Pt){Pt.semver===qt&&(Pt=new Ue(">=0.0.0")),Ye=Ye||Pt,Ke=Ke||Pt,M(Pt.semver,Ye.semver,N)?Ye=Pt:z(Pt.semver,Ke.semver,N)&&(Ke=Pt)}),Ye.operator===le||Ye.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&z(w,Ke.semver))return!1}return!0}e.prerelease=Ka;function Ka(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}e.intersects=Qn;function Qn(w,E,k){return w=new ye(w,k),E=new ye(E,k),w.intersects(E)}e.coerce=Ya;function Ya(w){if(w instanceof ie)return w;if(typeof w!="string")return null;var E=w.match(s[ee]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),zP=L((e,t)=>{"use strict";function r(u){return typeof u=="function"}var n=console.error.bind(console);function i(u,f,d){var p=!!u[f]&&u.propertyIsEnumerable(f);Object.defineProperty(u,f,{configurable:!0,enumerable:p,writable:!0,value:d})}function o(u){u&&u.logger&&(r(u.logger)?n=u.logger:n("new logger isn't a function, not replacing"))}function s(u,f,d){if(!u||!u[f]){n("no original function "+f+" to wrap");return}if(!d){n("no wrapper function"),n(new Error().stack);return}if(!r(u[f])||!r(d)){n("original object and wrapper must be functions");return}var p=u[f],h=d(p,f);return i(h,"__original",p),i(h,"__unwrap",function(){u[f]===h&&i(u,f,p)}),i(h,"__wrapped",!0),i(u,f,h),h}function a(u,f,d){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(f&&Array.isArray(f))){n("must provide one or more functions to wrap on modules");return}u.forEach(function(p){f.forEach(function(h){s(p,h,d)})})}function c(u,f){if(!u||!u[f]){n("no function to unwrap."),n(new Error().stack);return}if(!u[f].__unwrap)n("no original to unwrap to -- has "+f+" already been unwrapped?");else return u[f].__unwrap()}function l(u,f){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(f&&Array.isArray(f))){n("must provide one or more functions to unwrap on modules");return}u.forEach(function(d){f.forEach(function(p){c(d,p)})})}o.wrap=s,o.massWrap=a,o.unwrap=c,o.massUnwrap=l,t.exports=o}),WP=L((e,t)=>{"use strict";var r=zP(),n=r.wrap,i=r.unwrap,o="wrap@before";function s(f,d,p){var h=!!f[d]&&f.propertyIsEnumerable(d);Object.defineProperty(f,d,{configurable:!0,enumerable:h,writable:!0,value:p})}function a(f,d){for(var p=d.length,h=0;h<p;h++){var m=d[h],g=f[o];if(typeof g=="function")g(m);else if(Array.isArray(g))for(var v=g.length,y=0;y<v;y++)g[y](m)}}function c(f,d){var p;return p=f._events&&f._events[d],Array.isArray(p)||(p?p=[p]:p=[]),p}function l(f,d,p){var h=c(f,d),m=h.filter(function(g){return p.indexOf(g)===-1});m.length>0&&a(f,m)}function u(f,d){if(f){var p=f;if(typeof f=="function")p=d(f);else if(Array.isArray(f)){p=[];for(var h=0;h<f.length;h++)p[h]=d(f[h])}return p}}t.exports=function(f,d,p){if(!f||!f.on||!f.addListener||!f.removeListener||!f.emit)throw new Error("can only wrap real EEs");if(!d)throw new Error("must have function to run on listener addition");if(!p)throw new Error("must have function to wrap listeners when emitting");function h(g){return function(v,y){var b=c(this,v).slice();try{var C=g.call(this,v,y);return l(this,v,b),C}finally{this.on.__wrapped||n(this,"on",h),this.addListener.__wrapped||n(this,"addListener",h)}}}function m(g){return function(v){if(!this._events||!this._events[v])return g.apply(this,arguments);var y=this._events[v];function b(C){return function(){this._events[v]=y;try{return C.apply(this,arguments)}finally{y=this._events[v],this._events[v]=u(y,p)}}}n(this,"removeListener",b);try{return this._events[v]=u(y,p),g.apply(this,arguments)}finally{i(this,"removeListener"),this._events[v]=y}}}f[o]?typeof f[o]=="function"?s(f,o,[f[o],d]):Array.isArray(f[o])&&f[o].push(d):s(f,o,d),f.__wrapped||(n(f,"addListener",h),n(f,"on",h),n(f,"emit",m),s(f,"__unwrap",function(){i(f,"addListener"),i(f,"on"),i(f,"emit"),delete f[o],delete f.__wrapped}),s(f,"__wrapped",!0))}}),Aue=L((e,t)=>{"use strict";var r=require("util"),n=require("assert"),i=WP(),o=require("async_hooks"),s="cls@contexts",a="error@context",c=process.env.DEBUG_CLS_HOOKED,l=-1;t.exports={getNamespace:f,createNamespace:d,destroyNamespace:p,reset:h,ERROR_SYMBOL:a};function u(g){this.name=g,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}u.prototype.set=function(g,v){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[g]=v,c){let y=" ".repeat(this._indent<0?0:this._indent);m(y+"CONTEXT-SET KEY:"+g+"="+v+" in ns:"+this.name+" currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return v},u.prototype.get=function(g){if(!this.active){if(c){let v=o.currentId(),y=o.triggerAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${g}=undefined currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length}`)}return}if(c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(b+"CONTEXT-GETTING KEY:"+g+"="+this.active[g]+" ("+this.name+") currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),m(`${b}CONTEXT-GETTING KEY: (${this.name}) ${g}=${this.active[g]} currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[g]},u.prototype.createContext=function(){let g=Object.create(this.active?this.active:Object.prototype);if(g._ns_name=this.name,g.id=l,c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length} context:${r.inspect(g,{showHidden:!0,depth:2,colors:!0})}`)}return g},u.prototype.run=function(g){let v=this.createContext();this.enter(v);try{if(c){let y=o.triggerAsyncId(),b=o.executionAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${b} len:${this._set.length} context:${r.inspect(v)}`)}return g(v),v}catch(y){throw y&&(y[a]=v),y}finally{if(c){let y=o.triggerAsyncId(),b=o.executionAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${b} len:${this._set.length} ${r.inspect(v)}`)}this.exit(v)}},u.prototype.runAndReturn=function(g){let v;return this.run(function(y){v=g(y)}),v},u.prototype.runPromise=function(g){let v=this.createContext();this.enter(v);let y=g(v);if(!y||!y.then||!y.catch)throw new Error("fn must return a promise.");return c&&m("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),y.then(b=>(c&&m("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),b)).catch(b=>{throw b[a]=v,c&&m("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),b})},u.prototype.bind=function(g,v){v||(this.active?v=this.active:v=this.createContext());let y=this;return function(){y.enter(v);try{return g.apply(this,arguments)}catch(b){throw b&&(b[a]=v),b}finally{y.exit(v)}}},u.prototype.enter=function(g){if(n.ok(g,"context must be provided for entering"),c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${v} len:${this._set.length} ${r.inspect(g)}`)}this._set.push(this.active),this.active=g},u.prototype.exit=function(g){if(n.ok(g,"context must be provided for exiting"),c){let y=o.executionAsyncId(),b=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${b} asyncHooksCurrentId:${y} len:${this._set.length} ${r.inspect(g)}`)}if(this.active===g){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let v=this._set.lastIndexOf(g);v<0?(c&&m("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(g)),n.ok(v>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(g))):(n.ok(v,"can't remove top context"),this._set.splice(v,1))},u.prototype.bindEmitter=function(g){n.ok(g.on&&g.addListener&&g.emit,"can only bind real EEs");let v=this,y="context@"+this.name;function b(_){!_||(_[s]||(_[s]=Object.create(null)),_[s][y]={namespace:v,context:v.active})}function C(_){if(!(_&&_[s]))return _;let P=_,S=_[s];return Object.keys(S).forEach(function(x){let I=S[x];P=I.namespace.bind(P,I.context)}),P}i(g,b,C)},u.prototype.fromException=function(g){return g[a]};function f(g){return process.namespaces[g]}function d(g){n.ok(g,"namespace must be given a name."),c&&m(`NS-CREATING NAMESPACE (${g})`);let v=new u(g);return v.id=l,o.createHook({init(y,b,C,_){if(l=o.executionAsyncId(),v.active){if(v._contexts.set(y,v.active),c){let P=" ".repeat(v._indent<0?0:v._indent);m(`${P}INIT [${b}] (${g}) asyncId:${y} currentUid:${l} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}else if(l===0){let P=o.triggerAsyncId(),S=v._contexts.get(P);if(S){if(v._contexts.set(y,S),c){let x=" ".repeat(v._indent<0?0:v._indent);m(`${x}INIT USING CONTEXT FROM TRIGGERID [${b}] (${g}) asyncId:${y} currentUid:${l} triggerId:${P} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}else if(c){let x=" ".repeat(v._indent<0?0:v._indent);m(`${x}INIT MISSING CONTEXT [${b}] (${g}) asyncId:${y} currentUid:${l} triggerId:${P} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}if(c&&b==="PROMISE"){m(r.inspect(_,{showHidden:!0}));let P=_.parentId,S=" ".repeat(v._indent<0?0:v._indent);m(`${S}INIT RESOURCE-PROMISE [${b}] (${g}) parentId:${P} asyncId:${y} currentUid:${l} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}},before(y){l=o.executionAsyncId();let b;if(b=v._contexts.get(y)||v._contexts.get(l),b){if(c){let C=o.triggerAsyncId(),_=" ".repeat(v._indent<0?0:v._indent);m(`${_}BEFORE (${g}) asyncId:${y} currentUid:${l} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(b)}`),v._indent+=2}v.enter(b)}else if(c){let C=o.triggerAsyncId(),_=" ".repeat(v._indent<0?0:v._indent);m(`${_}BEFORE MISSING CONTEXT (${g}) asyncId:${y} currentUid:${l} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(v._contexts,{showHidden:!0,depth:2,colors:!0})}`),v._indent+=2}},after(y){l=o.executionAsyncId();let b;if(b=v._contexts.get(y)||v._contexts.get(l),b){if(c){let C=o.triggerAsyncId();v._indent-=2;let _=" ".repeat(v._indent<0?0:v._indent);m(`${_}AFTER (${g}) asyncId:${y} currentUid:${l} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(b)}`)}v.exit(b)}else if(c){let C=o.triggerAsyncId();v._indent-=2;let _=" ".repeat(v._indent<0?0:v._indent);m(`${_}AFTER MISSING CONTEXT (${g}) asyncId:${y} currentUid:${l} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(b)}`)}},destroy(y){if(l=o.executionAsyncId(),c){let b=o.triggerAsyncId(),C=" ".repeat(v._indent<0?0:v._indent);m(`${C}DESTROY (${g}) currentUid:${l} asyncId:${y} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(v._contexts.get(l))}`)}v._contexts.delete(y)}}).enable(),process.namespaces[g]=v,v}function p(g){let v=f(g);n.ok(v,`can't delete nonexistent namespace! "`+g+'"'),n.ok(v.id,"don't assign to process.namespaces directly! "+r.inspect(v)),process.namespaces[g]=null}function h(){process.namespaces&&Object.keys(process.namespaces).forEach(function(g){p(g)}),process.namespaces=Object.create(null)}process.namespaces={};function m(...g){c&&process._rawDebug(`${r.format(...g)}`)}}),Due=L((e,t)=>{"use strict";function r(){}t.exports=function(){let n=this._hooks,i=this._state,o=process.nextTick;process.nextTick=function(){if(!i.enabled)return o.apply(process,arguments);let s=new Array(arguments.length);for(let u=0;u<arguments.length;u++)s[u]=arguments[u];let a=s[0];if(typeof a!="function")throw new TypeError("callback is not a function");let c=new r,l=--i.counter;return n.init.call(c,l,0,null,null),s[0]=function(){n.pre.call(c,l);let u=!0;try{a.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){n.post.call(c,l,!0),n.destroy.call(null,l)})}n.post.call(c,l,!1),n.destroy.call(null,l)},o.apply(process,s)}}}),Rue=L((e,t)=>{"use strict";function r(){}t.exports=function(){let n=this._hooks,i=this._state,o=global.Promise,s=o.prototype.then;o.prototype.then=u;function a(f,d,p,h){return typeof f!="function"?h?c(p):l(p):function(){n.pre.call(d,p);try{return f.apply(this,arguments)}finally{n.post.call(d,p,!1),n.destroy.call(null,p)}}}function c(f){return function(d){return n.destroy.call(null,f),d}}function l(f){return function(d){throw n.destroy.call(null,f),d}}function u(f,d){if(!i.enabled)return s.call(this,f,d);let p=new r,h=--i.counter;return n.init.call(p,h,0,null,null),s.call(this,a(f,p,h,!0),a(d,p,h,!1))}}}),Oue=L((e,t)=>{"use strict";var r=require("timers");function n(){}function i(){}function o(){}var s=new Map,a=new Map,c=new Map,l=null,u=!1;t.exports=function(){f(this._hooks,this._state,"setTimeout","clearTimeout",n,s,!0),f(this._hooks,this._state,"setInterval","clearInterval",i,a,!1),f(this._hooks,this._state,"setImmediate","clearImmediate",o,c,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate};function f(d,p,h,m,g,v,y){let b=r[h],C=r[m];r[h]=function(){if(!p.enabled)return b.apply(r,arguments);let _=new Array(arguments.length);for(let A=0;A<arguments.length;A++)_[A]=arguments[A];let P=_[0];if(typeof P!="function")throw new TypeError('"callback" argument must be a function');let S=new g,x=--p.counter,I;return d.init.call(S,x,0,null,null),_[0]=function(){l=I,d.pre.call(S,x);let A=!0;try{P.apply(this,arguments),A=!1}finally{A&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){d.post.call(S,x,!0),v.delete(I),d.destroy.call(null,x)})}d.post.call(S,x,!1),l=null,(y||u)&&(u=!1,v.delete(I),d.destroy.call(null,x))},I=b.apply(r,_),v.set(I,x),I},r[m]=function(_){if(l===_&&_!==null)u=!0;else if(v.has(_)){let P=v.get(_);v.delete(_),d.destroy.call(null,P)}C.apply(r,arguments)}}}),cV=L((e,t)=>{t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}}),Nue=L((e,t)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,i={nextTick:Due(),promise:Rue(),timers:Oue()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let u=this.initFns=[],f=this.preFns=[],d=this.postFns=[],p=this.destroyFns=[];this.init=function(h,m,g,v){if(m===n){o.add(h);return}for(let y of u)y(h,this,m,g,v)},this.pre=function(h){if(!o.has(h))for(let m of f)m(h,this)},this.post=function(h,m){if(!o.has(h))for(let g of d)g(h,this,m)},this.destroy=function(h){if(o.has(h)){o.delete(h);return}for(let m of p)m(h)}}a.prototype.add=function(u){u.init&&this.initFns.push(u.init),u.pre&&this.preFns.push(u.pre),u.post&&this.postFns.push(u.post),u.destroy&&this.destroyFns.push(u.destroy)};function c(u,f){let d=u.indexOf(f);d!==-1&&u.splice(d,1)}a.prototype.remove=function(u){u.init&&c(this.initFns,u.init),u.pre&&c(this.preFns,u.pre),u.post&&c(this.postFns,u.post),u.destroy&&c(this.destroyFns,u.destroy)};function l(){this._state=new s,this._hooks=new a,this.version=cV().version,this.providers=r.Providers;for(let u of Object.keys(i))i[u].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}t.exports=l,l.prototype.addHooks=function(u){this._hooks.add(u)},l.prototype.removeHooks=function(u){this._hooks.remove(u)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}}),lV=L((e,t)=>{t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}}),Lue=L((e,t)=>{function r(n){try{return Error.prototype.toString.call(n)}catch(i){try{return"<error: "+i+">"}catch{return"<error>"}}}t.exports=function(n,i){var o=[];o.push(r(n));for(var s=0;s<i.length;s++){var a=i[s],c;try{c=a.toString()}catch(l){try{c="<error: "+l+">"}catch{c="<error>"}}o.push("    at "+c)}return o.join(`
`)}}),Fue=L((e,t)=>{var r=Lue();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=lV().version}var i=!1;n.prototype.callSite=function f(d){d||(d={}),i=!0;var p={};Error.captureStackTrace(p,f);var h=p.stack;return i=!1,h=h.slice(d.slice||0),d.extend&&(h=this.extend._modify(p,h)),d.filter&&(h=this.filter._modify(p,h)),h};var o=new n;function s(){this._modifiers=[]}s.prototype._modify=function(f,d){for(var p=0,h=this._modifiers.length;p<h;p++)d=this._modifiers[p](f,d);return d},s.prototype.attach=function(f){this._modifiers.push(f)},s.prototype.deattach=function(f){var d=this._modifiers.indexOf(f);return d===-1?!1:(this._modifiers.splice(d,1),!0)};function a(){this._formater=r,this._previous=void 0}a.prototype.replace=function(f){f?this._formater=f:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function l(f,d){if(i)return d;if(c)return r(f,d);var p=d.concat();p=o.extend._modify(f,p),p=o.filter._modify(f,p),p=p.slice(0,Error.stackTraceLimit),Object.isExtensible(f)&&Object.getOwnPropertyDescriptor(f,"callSite")===void 0&&(f.callSite={original:d,mutated:p}),c=!0;var h=o.format._formater(f,p);return c=!1,h}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(f){f===l?o.format._roolback():(o.format._backup(),o.format.replace(f))}});function u(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:u,set:function(f){Object.defineProperty(this,"callSite",{value:f,writable:!0,configurable:!0})},configurable:!0}),t.exports=o}),uV=L((e,t)=>{if(global._stackChain)if(global._stackChain.version===lV().version)t.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else t.exports=global._stackChain=Fue()}),Mue=L((e,t)=>{"use strict";var r=Nue();if(global._asyncHook)if(global._asyncHook.version===cV().version)t.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else uV().filter.attach(function(n,i){return i.filter(function(o){let s=o.getFileName();return!(s&&s.slice(0,__dirname.length)===__dirname)})}),t.exports=global._asyncHook=new r}),que=L((e,t)=>{"use strict";var r=require("util"),n=require("assert"),i=WP(),o=Mue(),s="cls@contexts",a="error@context",c=[];for(let C in o.providers)c[o.providers[C]]=C;var l=process.env.DEBUG_CLS_HOOKED,u=-1;t.exports={getNamespace:d,createNamespace:p,destroyNamespace:h,reset:m,ERROR_SYMBOL:a};function f(C){this.name=C,this.active=null,this._set=[],this.id=null,this._contexts=new Map}f.prototype.set=function(C,_){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return l&&g("    SETTING KEY:"+C+"="+_+" in ns:"+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[C]=_,_},f.prototype.get=function(C){if(!this.active){l&&g("    GETTING KEY:"+C+"=undefined "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0));return}return l&&g("    GETTING KEY:"+C+"="+this.active[C]+" "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[C]},f.prototype.createContext=function(){l&&g("   CREATING Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let C=Object.create(this.active?this.active:Object.prototype);return C._ns_name=this.name,C.id=u,l&&g("   CREATED Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  context:"+r.inspect(C,!0,2,!0)),C},f.prototype.run=function(C){let _=this.createContext();this.enter(_);try{return l&&g(" BEFORE RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),C(_),_}catch(P){throw P&&(P[a]=_),P}finally{l&&g(" AFTER RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_)}},f.prototype.runAndReturn=function(C){var _;return this.run(function(P){_=C(P)}),_},f.prototype.runPromise=function(C){let _=this.createContext();this.enter(_);let P=C(_);if(!P||!P.then||!P.catch)throw new Error("fn must return a promise.");return l&&g(" BEFORE runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),P.then(S=>(l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_),S)).catch(S=>{throw S[a]=_,l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_),S})},f.prototype.bind=function(C,_){_||(this.active?_=this.active:_=this.createContext());let P=this;return function(){P.enter(_);try{return C.apply(this,arguments)}catch(S){throw S&&(S[a]=_),S}finally{P.exit(_)}}},f.prototype.enter=function(C){n.ok(C,"context must be provided for entering"),l&&g("  ENTER "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(C)),this._set.push(this.active),this.active=C},f.prototype.exit=function(C){if(n.ok(C,"context must be provided for exiting"),l&&g("  EXIT "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(C)),this.active===C){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let _=this._set.lastIndexOf(C);_<0?(l&&g("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(C)),n.ok(_>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(C))):(n.ok(_,"can't remove top context"),this._set.splice(_,1))},f.prototype.bindEmitter=function(C){n.ok(C.on&&C.addListener&&C.emit,"can only bind real EEs");let _=this,P="context@"+this.name;function S(I){!I||(I[s]||(I[s]=Object.create(null)),I[s][P]={namespace:_,context:_.active})}function x(I){if(!(I&&I[s]))return I;let A=I,O=I[s];return Object.keys(O).forEach(function(q){let J=O[q];A=J.namespace.bind(A,J.context)}),A}i(C,S,x)},f.prototype.fromException=function(C){return C[a]};function d(C){return process.namespaces[C]}function p(C){n.ok(C,"namespace must be given a name."),l&&g("CREATING NAMESPACE "+C);let _=new f(C);return _.id=u,o.addHooks({init(P,S,x,I,A){u=P,I?(_._contexts.set(P,_._contexts.get(I)),l&&g("PARENTID: "+C+" uid:"+P+" parent:"+I+" provider:"+x)):_._contexts.set(u,_.active),l&&g("INIT "+C+" uid:"+P+" parent:"+I+" provider:"+c[x]+" active:"+r.inspect(_.active,!0))},pre(P,S){u=P;let x=_._contexts.get(P);x?(l&&g(" PRE "+C+" uid:"+P+" handle:"+v(S)+" context:"+r.inspect(x)),_.enter(x)):l&&g(" PRE MISSING CONTEXT "+C+" uid:"+P+" handle:"+v(S))},post(P,S){u=P;let x=_._contexts.get(P);x?(l&&g(" POST "+C+" uid:"+P+" handle:"+v(S)+" context:"+r.inspect(x)),_.exit(x)):l&&g(" POST MISSING CONTEXT "+C+" uid:"+P+" handle:"+v(S))},destroy(P){u=P,l&&g("DESTROY "+C+" uid:"+P+" context:"+r.inspect(_._contexts.get(u))+" active:"+r.inspect(_.active,!0)),_._contexts.delete(P)}}),process.namespaces[C]=_,_}function h(C){let _=d(C);n.ok(_,`can't delete nonexistent namespace! "`+C+'"'),n.ok(_.id,"don't assign to process.namespaces directly! "+r.inspect(_)),process.namespaces[C]=null}function m(){process.namespaces&&Object.keys(process.namespaces).forEach(function(C){h(C)}),process.namespaces=Object.create(null)}process.namespaces={},o._state&&!o._state.enabled&&o.enable();function g(C){process.env.DEBUG&&process._rawDebug(C)}function v(C){if(!C)return C;if(typeof C=="function")return C.name?C.name:(C.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(C.constructor&&C.constructor.name)return C.constructor.name}if(l){y=uV();for(b in y.filter._modifiers)y.filter.deattach(b)}var y,b}),jue=L((e,t)=>{"use strict";var r=Tue();process&&r.gte(process.versions.node,"8.0.0")?t.exports=Aue():t.exports=que()}),$ue=L((e,t)=>{e=t.exports=ie;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=e.re=[],a=e.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var f=c++;a[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[f]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[f]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var b=c++;a[b]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var C=c++,_="v?"+a[d]+a[g]+"?"+a[b]+"?";a[C]="^"+_+"$";var P="[v=\\s]*"+a[p]+a[v]+"?"+a[b]+"?",S=c++;a[S]="^"+P+"$";var x=c++;a[x]="((?:<|>)?=?)";var I=c++;a[I]=a[u]+"|x|X|\\*";var A=c++;a[A]=a[l]+"|x|X|\\*";var O=c++;a[O]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[g]+")?"+a[b]+"?)?)?";var q=c++;a[q]="[v=\\s]*("+a[I]+")(?:\\.("+a[I]+")(?:\\.("+a[I]+")(?:"+a[v]+")?"+a[b]+"?)?)?";var J=c++;a[J]="^"+a[x]+"\\s*"+a[O]+"$";var K=c++;a[K]="^"+a[x]+"\\s*"+a[q]+"$";var ee=c++;a[ee]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var re=c++;a[re]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[re]+"\\s+",s[j]=new RegExp(a[j],"g");var F="$1~",D=c++;a[D]="^"+a[re]+a[O]+"$";var $=c++;a[$]="^"+a[re]+a[q]+"$";var Y=c++;a[Y]="(?:\\^)";var X=c++;a[X]="(\\s*)"+a[Y]+"\\s+",s[X]=new RegExp(a[X],"g");var Q="$1^",ve=c++;a[ve]="^"+a[Y]+a[O]+"$";var Ae=c++;a[Ae]="^"+a[Y]+a[q]+"$";var Se=c++;a[Se]="^"+a[x]+"\\s*("+P+")$|^$";var Oe=c++;a[Oe]="^"+a[x]+"\\s*("+_+")$|^$";var Ee=c++;a[Ee]="(\\s*)"+a[x]+"\\s*("+P+"|"+a[O]+")",s[Ee]=new RegExp(a[Ee],"g");var _t="$1$2$3",It=c++;a[It]="^\\s*("+a[O]+")\\s+-\\s+("+a[O]+")\\s*$";var Re=c++;a[Re]="^\\s*("+a[q]+")\\s+-\\s+("+a[q]+")\\s*$";var Te=c++;for(a[Te]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;e.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[S]:s[C];if(!k.test(w))return null;try{return new ie(w,E)}catch{return null}}e.valid=Kn;function Kn(w,E){var k=Xe(w,E);return k?k.version:null}e.clean=an;function an(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}e.SemVer=ie;function ie(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ie))return new ie(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[S]:s[C]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(N){if(/^[0-9]+$/.test(N)){var M=+N;if(M>=0&&M<i)return M}return N}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ie.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ie.prototype.toString=function(){return this.version},ie.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ie||(w=new ie(w,this.options)),this.compareMain(w)||this.comparePre(w)},ie.prototype.compareMain=function(w){return w instanceof ie||(w=new ie(w,this.options)),ne(this.major,w.major)||ne(this.minor,w.minor)||ne(this.patch,w.patch)},ie.prototype.comparePre=function(w){if(w instanceof ie||(w=new ie(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],N=w.prerelease[E];if(r("prerelease compare",E,k,N),k===void 0&&N===void 0)return 0;if(N===void 0)return 1;if(k===void 0)return-1;if(k!==N)return ne(k,N)}while(++E)},ie.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},e.inc=Yn;function Yn(w,E,k,N){typeof k=="string"&&(N=k,k=void 0);try{return new ie(w,k).inc(E,N).version}catch{return null}}e.diff=V;function V(w,E){if(be(w,E))return null;var k=Xe(w),N=Xe(E),M="";if(k.prerelease.length||N.prerelease.length){M="pre";var U="prerelease"}for(var z in k)if((z==="major"||z==="minor"||z==="patch")&&k[z]!==N[z])return M+z;return U}e.compareIdentifiers=ne;var ae=/^[0-9]+$/;function ne(w,E){var k=ae.test(w),N=ae.test(E);return k&&N&&(w=+w,E=+E),w===E?0:k&&!N?-1:N&&!k?1:w<E?-1:1}e.rcompareIdentifiers=fe;function fe(w,E){return ne(E,w)}e.major=me;function me(w,E){return new ie(w,E).major}e.minor=Be;function Be(w,E){return new ie(w,E).minor}e.patch=Me;function Me(w,E){return new ie(w,E).patch}e.compare=we;function we(w,E,k){return new ie(w,k).compare(new ie(E,k))}e.compareLoose=qe;function qe(w,E){return we(w,E,!0)}e.rcompare=_e;function _e(w,E,k){return we(E,w,k)}e.sort=W;function W(w,E){return w.sort(function(k,N){return e.compare(k,N,E)})}e.rsort=oe;function oe(w,E){return w.sort(function(k,N){return e.rcompare(k,N,E)})}e.gt=se;function se(w,E,k){return we(w,E,k)>0}e.lt=de;function de(w,E,k){return we(w,E,k)<0}e.eq=be;function be(w,E,k){return we(w,E,k)===0}e.neq=De;function De(w,E,k){return we(w,E,k)!==0}e.gte=nt;function nt(w,E,k){return we(w,E,k)>=0}e.lte=Ze;function Ze(w,E,k){return we(w,E,k)<=0}e.cmp=ct;function ct(w,E,k,N){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return be(w,k,N);case"!=":return De(w,k,N);case">":return se(w,k,N);case">=":return nt(w,k,N);case"<":return de(w,k,N);case"<=":return Ze(w,k,N);default:throw new TypeError("Invalid operator: "+E)}}e.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===qt?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var qt={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[Oe],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ie(k[2],this.options.loose):this.semver=qt},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===qt?!0:(typeof w=="string"&&(w=new ie(w,this.options)),ct(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ye(w.value,E),jr(this.value,k,E);if(w.operator==="")return k=new ye(this.value,E),jr(w.semver,k,E);var N=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),M=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,z=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ct(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ct(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return N||M||U&&z||le||ce},e.Range=ye;function ye(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ye)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ye(w.raw,E);if(w instanceof Ue)return new ye(w.value,E);if(!(this instanceof ye))return new ye(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ye.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ye.prototype.toString=function(){return this.range},ye.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[Re]:s[It];w=w.replace(k,Ua),r("hyphen replace",w),w=w.replace(s[Ee],_t),r("comparator trim",w,s[Ee]),w=w.replace(s[j],F),w=w.replace(s[X],Q),w=w.split(/\s+/).join(" ");var N=E?s[Se]:s[Oe],M=w.split(" ").map(function(U){return Ti(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(M=M.filter(function(U){return!!U.match(N)})),M=M.map(function(U){return new Ue(U,this.options)},this),M},ye.prototype.intersects=function(w,E){if(!(w instanceof ye))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(N){return w.set.some(function(M){return M.every(function(U){return N.intersects(U,E)})})})})},e.toComparators=Ps;function Ps(w,E){return new ye(w,E).set.map(function(k){return k.map(function(N){return N.value}).join(" ").trim().split(" ")})}function Ti(w,E){return r("comp",w,E),w=Ma(w,E),r("caret",w),w=kn(w,E),r("tildes",w),w=ja(w,E),r("xrange",w),w=Jr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function kn(w,E){return w.trim().split(/\s+/).map(function(k){return Fa(k,E)}).join(" ")}function Fa(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(N,M,U,z,le){r("tilde",w,N,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0"):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0",r("tilde return",ce),ce})}function Ma(w,E){return w.trim().split(/\s+/).map(function(k){return qa(k,E)}).join(" ")}function qa(w,E){r("caret",w,E);var k=E.loose?s[Ae]:s[ve];return w.replace(k,function(N,M,U,z,le){r("caret",w,N,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?M==="0"?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+".0 <"+(+M+1)+".0.0":le?(r("replaceCaret pr",le),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+"-"+le+" <"+(+M+1)+".0.0"):(r("no pr"),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+" <"+(+M+1)+".0.0"),r("caret return",ce),ce})}function ja(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return $a(k,E)}).join(" ")}function $a(w,E){w=w.trim();var k=E.loose?s[K]:s[J];return w.replace(k,function(N,M,U,z,le,ce){r("xRange",w,N,M,U,z,le,ce);var lt=He(U),et=lt||He(z),Ye=et||He(le),Ke=Ye;return M==="="&&Ke&&(M=""),lt?M===">"||M==="<"?N="<0.0.0":N="*":M&&Ke?(et&&(z=0),le=0,M===">"?(M=">=",et?(U=+U+1,z=0,le=0):(z=+z+1,le=0)):M==="<="&&(M="<",et?U=+U+1:z=+z+1),N=M+U+"."+z+"."+le):et?N=">="+U+".0.0 <"+(+U+1)+".0.0":Ye&&(N=">="+U+"."+z+".0 <"+U+"."+(+z+1)+".0"),r("xRange return",N),N})}function Jr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Te],"")}function Ua(w,E,k,N,M,U,z,le,ce,lt,et,Ye,Ke){return He(k)?E="":He(N)?E=">="+k+".0.0":He(M)?E=">="+k+"."+N+".0":E=">="+E,He(ce)?le="":He(lt)?le="<"+(+ce+1)+".0.0":He(et)?le="<"+ce+"."+(+lt+1)+".0":Ye?le="<="+ce+"."+lt+"."+et+"-"+Ye:le="<="+le,(E+" "+le).trim()}ye.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ie(w,this.options));for(var E=0;E<this.set.length;E++)if(Ba(this.set[E],w,this.options))return!0;return!1};function Ba(w,E,k){for(var N=0;N<w.length;N++)if(!w[N].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(N=0;N<w.length;N++)if(r(w[N].semver),w[N].semver!==qt&&w[N].semver.prerelease.length>0){var M=w[N].semver;if(M.major===E.major&&M.minor===E.minor&&M.patch===E.patch)return!0}return!1}return!0}e.satisfies=jr;function jr(w,E,k){try{E=new ye(E,k)}catch{return!1}return E.test(w)}e.maxSatisfying=Ha;function Ha(w,E,k){var N=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!N||M.compare(z)===-1)&&(N=z,M=new ie(N,k))}),N}e.minSatisfying=Va;function Va(w,E,k){var N=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!N||M.compare(z)===1)&&(N=z,M=new ie(N,k))}),N}e.minVersion=Jn;function Jn(w,E){w=new ye(w,E);var k=new ie("0.0.0");if(w.test(k)||(k=new ie("0.0.0-0"),w.test(k)))return k;k=null;for(var N=0;N<w.set.length;++N){var M=w.set[N];M.forEach(function(U){var z=new ie(U.semver.version);switch(U.operator){case">":z.prerelease.length===0?z.patch++:z.prerelease.push(0),z.raw=z.format();case"":case">=":(!k||se(k,z))&&(k=z);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}e.validRange=za;function za(w,E){try{return new ye(w,E).range||"*"}catch{return null}}e.ltr=Wa;function Wa(w,E,k){return In(w,E,"<",k)}e.gtr=Ga;function Ga(w,E,k){return In(w,E,">",k)}e.outside=In;function In(w,E,k,N){w=new ie(w,N),E=new ye(E,N);var M,U,z,le,ce;switch(k){case">":M=se,U=Ze,z=de,le=">",ce=">=";break;case"<":M=de,U=nt,z=se,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(w,E,N))return!1;for(var lt=0;lt<E.set.length;++lt){var et=E.set[lt],Ye=null,Ke=null;if(et.forEach(function(Pt){Pt.semver===qt&&(Pt=new Ue(">=0.0.0")),Ye=Ye||Pt,Ke=Ke||Pt,M(Pt.semver,Ye.semver,N)?Ye=Pt:z(Pt.semver,Ke.semver,N)&&(Ke=Pt)}),Ye.operator===le||Ye.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&z(w,Ke.semver))return!1}return!0}e.prerelease=Ka;function Ka(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}e.intersects=Qn;function Qn(w,E,k){return w=new ye(w,k),E=new ye(E,k),w.intersects(E)}e.coerce=Ya;function Ya(w){if(w instanceof ie)return w;if(typeof w!="string")return null;var E=w.match(s[ee]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),Uue=L((e,t)=>{var r=zP().wrap,n=1<<0,i=1<<1,o=1<<2,s=1<<3,a=[],c=0,l=!1,u=[],f,d;function p(S,x){var I=S.length,A=x.length,O=[];if(I===0&&A===0)return O;for(var q=0;q<I;q++)O[q]=S[q];if(A===0)return O;for(var J=0;J<A;J++){var K=!0;for(q=0;q<I;q++)if(S[q].uid===x[J].uid){K=!1;break}K&&O.push(x[J])}return O}process._fatalException?(h=!1,f=function(S){var x=a.length;if(h||x===0)return!1;var I=!1;h=!0;for(var A=0;A<x;++A){var O=a[A];if((O.flags&s)!=0){var q=m&&m[O.uid];I=O.error(q,S)||I}}return h=!1,u.length>0&&(a=u.pop()),m=void 0,I&&!l},d=function(S,x,I){var A=[];l=!0;for(var O=0;O<I;++O){var q=x[O];if(A[q.uid]=q.data,(q.flags&n)!=0){var J=q.create(q.data);J!==void 0&&(A[q.uid]=J)}}return l=!1,function(){m=A,u.push(a),a=p(x,a),l=!0;for(var K=0;K<I;++K)(x[K].flags&i)>0&&x[K].before(this,A[x[K].uid]);l=!1;var ee=S.apply(this,arguments);for(l=!0,K=0;K<I;++K)(x[K].flags&o)>0&&x[K].after(this,A[x[K].uid]);return l=!1,a=u.pop(),m=void 0,ee}},r(process,"_fatalException",function(S){return function(x){return f(x)||S(x)}})):(g=!1,f=function(S){if(g)throw S;for(var x=!1,I=a.length,A=0;A<I;++A){var O=a[A];(O.flags&s)!=0&&(x=O.error(null,S)||x)}if(!x&&l)throw S},d=function(S,x,I){var A=[];l=!0;for(var O=0;O<I;++O){var q=x[O];if(A[q.uid]=q.data,(q.flags&n)!=0){var J=q.create(q.data);J!==void 0&&(A[q.uid]=J)}}return l=!1,function(){var K=!1,ee=!1;u.push(a),a=p(x,a),l=!0;for(var re=0;re<I;++re)(x[re].flags&i)>0&&x[re].before(this,A[x[re].uid]);l=!1;var j;try{j=S.apply(this,arguments)}catch(F){K=!0;for(var re=0;re<I;++re)if((a[re].flags&s)!=0)try{ee=a[re].error(A[x[re].uid],F)||ee}catch($){throw g=!0,$}if(!ee)throw process.removeListener("uncaughtException",f),process._originalNextTick(function(){process.addListener("uncaughtException",f)}),F}finally{if(!K||ee){for(l=!0,re=0;re<I;++re)(x[re].flags&o)>0&&x[re].after(this,A[x[re].uid]);l=!1}a=u.pop()}return j}},process.addListener("uncaughtException",f));var h,m,g;function v(S,x,I){l=!0;for(var A=0;A<I;++A){var O=x[A];O.create&&O.create(O.data)}return l=!1,function(){u.push(a),a=p(x,a);var q=S.apply(this,arguments);return a=u.pop(),q}}function y(S){var x=a.length;if(x===0)return S;for(var I=a.slice(),A=0;A<x;++A)if(I[A].flags>0)return d(S,I,x);return v(S,I,x)}function b(S,x){typeof S.create=="function"&&(this.create=S.create,this.flags|=n),typeof S.before=="function"&&(this.before=S.before,this.flags|=i),typeof S.after=="function"&&(this.after=S.after,this.flags|=o),typeof S.error=="function"&&(this.error=S.error,this.flags|=s),this.uid=++c,this.data=x===void 0?null:x}b.prototype.create=void 0,b.prototype.before=void 0,b.prototype.after=void 0,b.prototype.error=void 0,b.prototype.data=void 0,b.prototype.uid=0,b.prototype.flags=0;function C(S,x){if(typeof S!="object"||!S)throw new TypeError("callbacks argument must be an object");return S instanceof b?S:new b(S,x)}function _(S,x){var I;S instanceof b?I=S:I=C(S,x);for(var A=!1,O=0;O<a.length;O++)if(I===a[O]){A=!0;break}return A||a.push(I),I}function P(S){for(var x=0;x<a.length;x++)if(S===a[x]){a.splice(x,1);break}}process.createAsyncListener=C,process.addAsyncListener=_,process.removeAsyncListener=P,t.exports=y}),Bue=L((e,t)=>{"use strict";t.exports=(r,n)=>class extends r{constructor(i){var o,s;super(c);var a=this;try{i.apply(o,s)}catch(l){s[1](l)}return a;function c(l,u){o=this,s=[f,d];function f(p){return n(a,!1),l(p)}function d(p){return n(a,!1),u(p)}}}}}),Hue=L(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=zP(),t=$ue(),r=e.wrap,n=e.massWrap,i=Uue(),o=require("util"),s=t.gte(process.version,"6.0.0"),a=t.gte(process.version,"7.0.0"),c=t.gte(process.version,"8.0.0"),l=t.gte(process.version,"11.0.0"),u=require("net");a&&!u._normalizeArgs?u._normalizeArgs=function(j){if(j.length===0)return[{},null];var F=j[0],D={};typeof F=="object"&&F!==null?D=F:re(F)?D.path=F:(D.port=F,j.length>1&&typeof j[1]=="string"&&(D.host=j[1]));var $=j[j.length-1];return typeof $!="function"?[D,null]:[D,$]}:!a&&!u._normalizeConnectArgs&&(u._normalizeConnectArgs=function(j){var F={};function D(Y){return(Y=Number(Y))>=0?Y:!1}typeof j[0]=="object"&&j[0]!==null?F=j[0]:typeof j[0]=="string"&&D(j[0])===!1?F.path=j[0]:(F.port=j[0],typeof j[1]=="string"&&(F.host=j[1]));var $=j[j.length-1];return typeof $=="function"?[F,$]:[F]}),"_setUpListenHandle"in u.Server.prototype?r(u.Server.prototype,"_setUpListenHandle",f):r(u.Server.prototype,"_listen2",f);function f(j){return function(){this.on("connection",function(F){F._handle&&(F._handle.onread=i(F._handle.onread))});try{return j.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function d(j){if(j&&j._handle){var F=j._handle;F._originalOnread||(F._originalOnread=F.onread),F.onread=i(F._originalOnread)}}r(u.Socket.prototype,"connect",function(j){return function(){var F;c&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?F=arguments[0]:F=a?u._normalizeArgs(arguments):u._normalizeConnectArgs(arguments),F[1]&&(F[1]=i(F[1]));var D=j.apply(this,F);return d(this),D}});var p=require("http");r(p.Agent.prototype,"addRequest",function(j){return function(F){var D=F.onSocket;return F.onSocket=i(function($){return d($),D.apply(this,arguments)}),j.apply(this,arguments)}});var h=require("child_process");function m(j){Array.isArray(j.stdio)&&j.stdio.forEach(function(F){F&&F._handle&&(F._handle.onread=i(F._handle.onread),r(F._handle,"close",K))}),j._handle&&(j._handle.onexit=i(j._handle.onexit))}h.ChildProcess?r(h.ChildProcess.prototype,"spawn",function(j){return function(){var F=j.apply(this,arguments);return m(this),F}}):n(h,["execFile","fork","spawn"],function(j){return function(){var F=j.apply(this,arguments);return m(F),F}}),process._fatalException||(process._originalNextTick=process.nextTick);var g=[];process._nextDomainTick&&g.push("_nextDomainTick"),process._tickDomainCallback&&g.push("_tickDomainCallback"),n(process,g,J),r(process,"nextTick",K);var v=["setTimeout","setInterval"];global.setImmediate&&v.push("setImmediate");var y=require("timers"),b=global.setTimeout===y.setTimeout;n(y,v,K),b&&n(global,v,K);var C=require("dns");n(C,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],J),C.resolveNaptr&&r(C,"resolveNaptr",J);var _=require("fs");n(_,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],J),_.lchown&&r(_,"lchown",J),_.lchmod&&r(_,"lchmod",J),_.ftruncate&&r(_,"ftruncate",J);var P;try{P=require("zlib")}catch{}P&&P.Deflate&&P.Deflate.prototype&&(S=Object.getPrototypeOf(P.Deflate.prototype),S._transform?r(S,"_transform",J):S.write&&S.flush&&S.end&&n(S,["write","flush","end"],J));var S,x;try{x=require("crypto")}catch{}x&&(I=["pbkdf2","randomBytes"],l||I.push("pseudoRandomBytes"),n(x,I,J));var I,A=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";A&&(O=process.addAsyncListener({create:function(){A=!1}}),global.Promise.resolve(!0).then(function(){A=!1}),process.removeAsyncListener(O));var O;A&&q();function q(){var j=global.Promise;function F(Q){if(!(this instanceof F))return j(Q);if(typeof Q!="function")return new j(Q);var ve,Ae,Se=new j(Oe);Se.__proto__=F.prototype;try{Q.apply(ve,Ae)}catch(Ee){Ae[1](Ee)}return Se;function Oe(Ee,_t){ve=this,Ae=[It,Re];function It(Te){return $(Se,!1),Ee(Te)}function Re(Te){return $(Se,!1),_t(Te)}}}if(o.inherits(F,j),r(j.prototype,"then",X),j.prototype.chain&&r(j.prototype,"chain",X),s)global.Promise=Bue()(j,$);else{var D=["all","race","reject","resolve","accept","defer"];D.forEach(function(Q){typeof j[Q]=="function"&&(F[Q]=j[Q])}),global.Promise=F}function $(Q,ve){(!Q.__asl_wrapper||ve)&&(Q.__asl_wrapper=i(Y))}function Y(Q,ve,Ae,Se){var Oe;try{return Oe=ve.call(Q,Ae),{returnVal:Oe,error:!1}}catch(Ee){return{errorVal:Ee,error:!0}}finally{Oe instanceof j?Se.__asl_wrapper=function(){var Ee=Oe.__asl_wrapper||Y;return Ee.apply(this,arguments)}:$(Se,!0)}}function X(Q){return function(){var ve=this,Ae=Q.apply(ve,Array.prototype.map.call(arguments,Se));return Ae.__asl_wrapper=function(Oe,Ee,_t,It){return ve.__asl_wrapper?(ve.__asl_wrapper(Oe,function(){},null,Ae),Ae.__asl_wrapper(Oe,Ee,_t,It)):Y(Oe,Ee,_t,It)},Ae;function Se(Oe){return typeof Oe!="function"?Oe:i(function(Ee){var _t=(ve.__asl_wrapper||Y)(this,Oe,Ee,Ae);if(_t.error)throw _t.errorVal;return _t.returnVal})}}}}function J(j){var F=function(){var D,$=arguments.length-1;if(typeof arguments[$]=="function"){D=Array(arguments.length);for(var Y=0;Y<arguments.length-1;Y++)D[Y]=arguments[Y];D[$]=i(arguments[$])}return j.apply(this,D||arguments)};switch(j.length){case 1:return function(D){return arguments.length!==1?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D))};case 2:return function(D,$){return arguments.length!==2?F.apply(this,arguments):(typeof $=="function"&&($=i($)),j.call(this,D,$))};case 3:return function(D,$,Y){return arguments.length!==3?F.apply(this,arguments):(typeof Y=="function"&&(Y=i(Y)),j.call(this,D,$,Y))};case 4:return function(D,$,Y,X){return arguments.length!==4?F.apply(this,arguments):(typeof X=="function"&&(X=i(X)),j.call(this,D,$,Y,X))};case 5:return function(D,$,Y,X,Q){return arguments.length!==5?F.apply(this,arguments):(typeof Q=="function"&&(Q=i(Q)),j.call(this,D,$,Y,X,Q))};case 6:return function(D,$,Y,X,Q,ve){return arguments.length!==6?F.apply(this,arguments):(typeof ve=="function"&&(ve=i(ve)),j.call(this,D,$,Y,X,Q,ve))};default:return F}}function K(j){var F=function(){var D;if(typeof arguments[0]=="function"){D=Array(arguments.length),D[0]=i(arguments[0]);for(var $=1;$<arguments.length;$++)D[$]=arguments[$]}return j.apply(this,D||arguments)};switch(j.length){case 1:return function(D){return arguments.length!==1?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D))};case 2:return function(D,$){return arguments.length!==2?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$))};case 3:return function(D,$,Y){return arguments.length!==3?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,Y))};case 4:return function(D,$,Y,X){return arguments.length!==4?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,Y,X))};case 5:return function(D,$,Y,X,Q){return arguments.length!==5?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,Y,X,Q))};case 6:return function(D,$,Y,X,Q,ve){return arguments.length!==6?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,Y,X,Q,ve))};default:return F}}function ee(j){return(j=Number(j))>=0?j:!1}function re(j){return typeof j=="string"&&ee(j)===!1}}),Vue=L((e,t)=>{"use strict";var r=require("assert"),n=WP(),i="cls@contexts",o="error@context";process.addAsyncListener||Hue();function s(f){this.name=f,this.active=null,this._set=[],this.id=null}s.prototype.set=function(f,d){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[f]=d,d},s.prototype.get=function(f){if(this.active)return this.active[f]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(f){var d=this.createContext();this.enter(d);try{return f(d),d}catch(p){throw p&&(p[o]=d),p}finally{this.exit(d)}},s.prototype.runAndReturn=function(f){var d;return this.run(function(p){d=f(p)}),d},s.prototype.bind=function(f,d){d||(this.active?d=this.active:d=this.createContext());var p=this;return function(){p.enter(d);try{return f.apply(this,arguments)}catch(h){throw h&&(h[o]=d),h}finally{p.exit(d)}}},s.prototype.enter=function(f){r.ok(f,"context must be provided for entering"),this._set.push(this.active),this.active=f},s.prototype.exit=function(f){if(r.ok(f,"context must be provided for exiting"),this.active===f){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var d=this._set.lastIndexOf(f);r.ok(d>=0,"context not currently entered; can't exit"),r.ok(d,"can't remove top context"),this._set.splice(d,1)},s.prototype.bindEmitter=function(f){r.ok(f.on&&f.addListener&&f.emit,"can only bind real EEs");var d=this,p="context@"+this.name;function h(g){!g||(g[i]||(g[i]=Object.create(null)),g[i][p]={namespace:d,context:d.active})}function m(g){if(!(g&&g[i]))return g;var v=g,y=g[i];return Object.keys(y).forEach(function(b){var C=y[b];v=C.namespace.bind(v,C.context)}),v}n(f,h,m)},s.prototype.fromException=function(f){return f[o]};function a(f){return process.namespaces[f]}function c(f){r.ok(f,"namespace must be given a name!");var d=new s(f);return d.id=process.addAsyncListener({create:function(){return d.active},before:function(p,h){h&&d.enter(h)},after:function(p,h){h&&d.exit(h)},error:function(p){p&&d.exit(p)}}),process.namespaces[f]=d,d}function l(f){var d=a(f);r.ok(d,"can't delete nonexistent namespace!"),r.ok(d.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(d.id),process.namespaces[f]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach(function(f){l(f)}),process.namespaces=Object.create(null)}process.namespaces||u(),t.exports={getNamespace:a,createNamespace:c,destroyNamespace:l,reset:u}}),xf=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=Lr(),r=VP(),n=Gw(),i=tV(),o=aV(),s=function(){function c(){}return c.getCurrentContext=function(){if(!c.enabled)return null;var l=c.session.get(c.CONTEXT_NAME);return l===void 0?null:l},c.generateContextObject=function(l,u,f,d,p,h){return u=u||l,this.enabled?{operation:{name:f,id:l,parentId:u,traceparent:p,tracestate:h},customProperties:new a(d)}:null},c.spanToContextObject=function(l,u,f){var d=new n;return d.traceId=l.traceId,d.spanId=l.spanId,d.traceFlag=n.formatOpenTelemetryTraceFlags(l.traceFlags)||n.DEFAULT_TRACE_FLAG,d.parentId=u,c.generateContextObject(d.traceId,d.parentId,f,null,d)},c.runWithContext=function(l,u){var f;return c.enabled?c.session.bind(u,(f={},f[c.CONTEXT_NAME]=l,f))():u()},c.wrapEmitter=function(l){c.enabled&&c.session.bindEmitter(l)},c.wrapCallback=function(l,u){var f;return c.enabled?c.session.bind(l,u?(f={},f[c.CONTEXT_NAME]=u,f):void 0):l},c.enable=function(l){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}c.hasEverEnabled||(this.forceClsHooked=l,this.hasEverEnabled=!0,typeof this.cls>"u"&&(c.forceClsHooked===!0||c.forceClsHooked===void 0&&c.shouldUseClsHooked()?this.cls=jue():this.cls=Vue()),c.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation(function(u){return c.session.bind(u)})),this.enabled=!0}},c.startOperation=function(l,u){var f=l&&l.traceContext||null,d=l&&l.traceId?l:null,p=l&&l.headers;if(d){var h=new n("00-"+d.traceId+"-"+d.spanId+"-01"),m=new i(d.traceState?d.traceState.serialize():null),g=c.generateContextObject(d.traceId,"|"+d.traceId+"."+d.spanId+".",typeof u=="string"?u:"",void 0,h,m);return g}if(f){var h=new n(f.traceparent),m=new i(f.tracestate),v=typeof u=="object"?new o(u):null,g=c.generateContextObject(h.traceId,h.parentId,typeof u=="string"?u:v.getOperationName({}),v&&v.getCorrelationContextHeader()||void 0,h,m);return g}if(p){var h=new n(p.traceparent?p.traceparent.toString():null),m=new i(p.tracestate?p.tracestate.toString():null),v=new o(l),g=c.generateContextObject(h.traceId,h.parentId,v.getOperationName({}),v.getCorrelationContextHeader(),h,m);return g}return t.warn("startOperation was called with invalid arguments",arguments),null},c.disable=function(){this.enabled=!1},c.reset=function(){c.hasEverEnabled&&(c.session=null,c.session=this.cls.createNamespace("AI-CLS-Session"))},c.isNodeVersionCompatible=function(){var l=process.versions.node.split(".");return parseInt(l[0])>3||parseInt(l[0])>2&&parseInt(l[1])>2},c.shouldUseClsHooked=function(){var l=process.versions.node.split(".");return parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=2},c.canUseClsHooked=function(){var l=process.versions.node.split("."),u=parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=0,f=parseInt(l[0])<8||parseInt(l[0])<=8&&parseInt(l[1])<2,d=parseInt(l[0])>4||parseInt(l[0])>=4&&parseInt(l[1])>=7;return!(u&&f)&&d},c.enabled=!1,c.hasEverEnabled=!1,c.forceClsHooked=void 0,c.CONTEXT_NAME="ApplicationInsights-Context",c}();e.CorrelationContextManager=s;var a=function(){function c(l){this.props=[],this.addHeaderData(l)}return c.prototype.addHeaderData=function(l){var u=l?l.split(", "):[];this.props=u.map(function(f){var d=f.split("=");return{key:d[0],value:d[1]}}).concat(this.props)},c.prototype.serializeToHeader=function(){return this.props.map(function(l){return l.key+"="+l.value}).join(", ")},c.prototype.getProperty=function(l){for(var u=0;u<this.props.length;++u){var f=this.props[u];if(f.key===l)return f.value}},c.prototype.setProperty=function(l,u){if(c.bannedCharacters.test(l)||c.bannedCharacters.test(u)){t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+l+" and value: "+u);return}for(var f=0;f<this.props.length;++f){var d=this.props[f];if(d.key===l){d.value=u;return}}this.props.push({key:l,value:u})},c.bannedCharacters=/[,=]/,c}()}),zue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=En(),r=lr(),n=[],i=function(a){var c=a.data.message;n.forEach(function(l){c instanceof Error?l.trackException({exception:c}):(c.lastIndexOf(`
`)==c.length-1&&(c=c.substring(0,c.length-1)),l.trackTrace({message:c,severity:a.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))})};function o(a,c){a?(n.length===0&&r.channel.subscribe("console",i),n.push(c)):(n=n.filter(function(l){return l!=c}),n.length===0&&r.channel.unsubscribe("console",i))}e.enable=o;function s(){r.channel.unsubscribe("console",i),n=[]}e.dispose=s}),Wue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=En(),r=lr(),n=[],i={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},o=function(c){var l=c.data.result;n.forEach(function(u){var f=i[c.data.level];l instanceof Error?u.trackException({exception:l}):u.trackTrace({message:l,severity:f})})};function s(c,l){c?(n.length===0&&r.channel.subscribe("bunyan",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("bunyan",o))}e.enable=s;function a(){r.channel.unsubscribe("bunyan",o),n=[]}e.dispose=a}),Gue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=En(),r=lr(),n=[],i={syslog:function(c){var l={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return l[c]===void 0?t.SeverityLevel.Information:l[c]},npm:function(c){var l={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return l[c]===void 0?t.SeverityLevel.Information:l[c]},unknown:function(c){return t.SeverityLevel.Information}},o=function(c){var l=c.data.message;n.forEach(function(u){if(l instanceof Error)u.trackException({exception:l,properties:c.data.meta});else{var f=i[c.data.levelKind](c.data.level);u.trackTrace({message:l,severity:f,properties:c.data.meta})}})};function s(c,l){c?(n.length===0&&r.channel.subscribe("winston",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("winston",o))}e.enable=s;function a(){r.channel.unsubscribe("winston",o),n=[]}e.dispose=a}),Kue=L((e,t)=>{"use strict";var r=VP(),n=function(){function i(o){if(i.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=o,i.INSTANCE=this}return i.prototype.enable=function(o,s){r.IsInitialized&&(zue().enable(o&&s,this._client),Wue().enable(o,this._client),Gue().enable(o,this._client))},i.prototype.isInitialized=function(){return this._isInitialized},i.prototype.dispose=function(){i.INSTANCE=null,this.enable(!1,!1)},i._methodNames=["debug","info","log","warn","error"],i}();t.exports=n}),Yue=L((e,t)=>{"use strict";var r=function(){function n(i){if(n.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");n.INSTANCE=this,this._client=i;var o=process.versions.node.split(".");n._canUseUncaughtExceptionMonitor=parseInt(o[0])>13||parseInt(o[0])===13&&parseInt(o[1])>=7}return n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.enable=function(i){var o=this;if(i){this._isInitialized=!0;var s=this;if(!this._exceptionListenerHandle){var a=function(c,l,u){u===void 0&&(u=new Error(n._FALLBACK_ERROR_MESSAGE)),o._client.trackException({exception:u}),o._client.flush({isAppCrashing:!0}),c&&l&&process.listeners(l).length===1&&(console.error(u),process.exit(1))};n._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=a.bind(this,!0,n.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(n._canUseUncaughtExceptionMonitor?process.removeListener(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},n.prototype.dispose=function(){n.INSTANCE=null,this.enable(!1),this._isInitialized=!1},n.INSTANCE=null,n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",n.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",n.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",n._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",n._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",n._canUseUncaughtExceptionMonitor=!1,n}();t.exports=r}),ba=L(e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var r;(function(o){o.COMMITTED_BYTES="\\Memory\\Committed Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",o.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",o.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",o.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",o.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",o.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",o.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(r=e.QuickPulseCounter||(e.QuickPulseCounter={}));var n;(function(o){o.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",o.AVAILABLE_BYTES="\\Memory\\Available Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",o.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",o.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(n=e.PerformanceCounter||(e.PerformanceCounter={}));var i;(function(o){o.REQUESTS_DURATION="requests/duration",o.DEPENDENCIES_DURATION="dependencies/duration",o.EXCEPTIONS_COUNT="exceptions/count",o.TRACES_COUNT="traces/count"})(i=e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=(t={},t[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,t[n.REQUEST_RATE]=r.REQUEST_RATE,t[n.REQUEST_DURATION]=r.REQUEST_DURATION,t[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,t[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,t[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,t[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,t[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,t[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"}),GP=L((e,t)=>{"use strict";var r=require("os"),n=ba(),i=function(){function o(s,a,c){a===void 0&&(a=6e4),c===void 0&&(c=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,o.INSTANCE||(o.INSTANCE=this),this._isInitialized=!1,this._client=s,this._collectionInterval=a,this._enableLiveMetricsCounters=c}return o.prototype.enable=function(s,a){var c=this;this._isEnabled=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),s?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:o._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=a||this._collectionInterval,this._handle=setInterval(function(){return c.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},o.countRequest=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalRequestExecutionTime+=c,a===!1&&o._totalFailedRequestCount++,o._totalRequestCount++}},o.countException=function(){o._totalExceptionCount++},o.countDependency=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalDependencyExecutionTime+=c,a===!1&&o._totalFailedDependencyCount++,o._totalDependencyCount++}},o.prototype.isInitialized=function(){return this._isInitialized},o.isEnabled=function(){return o.INSTANCE&&o.INSTANCE._isEnabled},o.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},o.prototype._trackCpu=function(){var s=r.cpus();if(s&&s.length&&this._lastCpus&&s.length===this._lastCpus.length){for(var a=0,c=0,l=0,u=0,f=0,d=0;!!s&&d<s.length;d++){var p=s[d],h=this._lastCpus[d],m="% cpu("+d+") ",g=p.model,v=p.speed,y=p.times,b=h.times,C=y.user-b.user||0;a+=C;var _=y.sys-b.sys||0;c+=_;var P=y.nice-b.nice||0;l+=P;var S=y.idle-b.idle||0;u+=S;var x=y.irq-b.irq||0;f+=x}var I=void 0;if(typeof process.cpuUsage=="function"){var A=process.cpuUsage(),O=process.hrtime(),q=A.user-this._lastAppCpuUsage.user+(A.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var J=(O[0]-this._lastHrtime[0])*1e6+(O[1]-this._lastHrtime[1])/1e3||0;I=100*q/(J*s.length)}this._lastAppCpuUsage=A,this._lastHrtime=O}var K=a+c+l+u+f||1;this._client.trackMetric({name:n.PerformanceCounter.PROCESSOR_TIME,value:(K-u)/K*100}),this._client.trackMetric({name:n.PerformanceCounter.PROCESS_TIME,value:I||a/K*100})}this._lastCpus=s},o.prototype._trackMemory=function(){var s=r.freemem(),a=process.memoryUsage().rss,c=r.totalmem()-s;this._client.trackMetric({name:n.PerformanceCounter.PRIVATE_BYTES,value:a}),this._client.trackMetric({name:n.PerformanceCounter.AVAILABLE_BYTES,value:s}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.COMMITTED_BYTES,value:c})},o.prototype._trackNetwork=function(){var s=this._lastRequests,a={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},c=a.totalRequestCount-s.totalRequestCount||0,l=a.totalFailedRequestCount-s.totalFailedRequestCount||0,u=a.time-s.time,f=u/1e3,d=(o._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/c||0;if(this._lastIntervalRequestExecutionTime=o._intervalRequestExecutionTime,u>0){var p=c/f,h=l/f;this._client.trackMetric({name:n.PerformanceCounter.REQUEST_RATE,value:p}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.PerformanceCounter.REQUEST_DURATION,value:d}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.REQUEST_FAILURE_RATE,value:h})}this._lastRequests=a},o.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastDependencies,a={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},c=a.totalDependencyCount-s.totalDependencyCount||0,l=a.totalFailedDependencyCount-s.totalFailedDependencyCount||0,u=a.time-s.time,f=u/1e3,d=(o._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/c||0;if(this._lastIntervalDependencyExecutionTime=o._intervalDependencyExecutionTime,u>0){var p=c/f,h=l/f;this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_RATE,value:p}),this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:h}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_DURATION,value:d})}this._lastDependencies=a}},o.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastExceptions,a={totalExceptionCount:o._totalExceptionCount,time:+new Date},c=a.totalExceptionCount-s.totalExceptionCount||0,l=a.time-s.time,u=l/1e3;if(l>0){var f=c/u;this._client.trackMetric({name:n.QuickPulseCounter.EXCEPTION_RATE,value:f})}this._lastExceptions=a}},o.prototype.dispose=function(){o.INSTANCE=null,this.enable(!1),this._isInitialized=!1},o._totalRequestCount=0,o._totalFailedRequestCount=0,o._totalDependencyCount=0,o._totalFailedDependencyCount=0,o._totalExceptionCount=0,o._intervalDependencyExecutionTime=0,o._intervalRequestExecutionTime=0,o}();t.exports=i}),Jue=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;var t=function(){function r(n){this.dimensions=n,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return r}();e.AggregatedMetricCounter=t}),Que=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}}),fV=L((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(a){for(var c,l=1,u=arguments.length;l<u;l++){c=arguments[l];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])}return a},r.apply(this,arguments)},n=ba(),i=Jue(),o=Que(),s=function(){function a(c,l){l===void 0&&(l=6e4),a.INSTANCE||(a.INSTANCE=this),this._isInitialized=!1,a._dependencyCountersCollection=[],a._requestCountersCollection=[],a._exceptionCountersCollection=[],a._traceCountersCollection=[],this._client=c,this._collectionInterval=l}return a.prototype.enable=function(c,l){var u=this;this._isEnabled=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),c?this._handle||(this._collectionInterval=l||this._collectionInterval,this._handle=setInterval(function(){return u.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},a.countException=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._exceptionCountersCollection);l.totalCount++}},a.countTrace=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._traceCountersCollection);l.totalCount++}},a.countRequest=function(c,l){if(a.isEnabled()){var u,f=a._getAggregatedCounter(l,this._requestCountersCollection);if(typeof c=="string")u=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")u=c;else return;f.intervalExecutionTime+=u,f.totalCount++}},a.countDependency=function(c,l){if(a.isEnabled()){var u=a._getAggregatedCounter(l,this._dependencyCountersCollection),f;if(typeof c=="string")f=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")f=c;else return;u.intervalExecutionTime+=f,u.totalCount++}},a.prototype.isInitialized=function(){return this._isInitialized},a.isEnabled=function(){return a.INSTANCE&&a.INSTANCE._isEnabled},a.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},a._getAggregatedCounter=function(c,l){for(var u=!1,f=0;f<l.length;f++){if(c===l[f].dimensions)return l[f];if(Object.keys(c).length===Object.keys(l[f].dimensions).length){for(var d in c)if(c[d]!=l[f].dimensions[d]){u=!0;break}if(!u)return l[f];u=!1}}var p=new i.AggregatedMetricCounter(c);return l.push(p),p},a.prototype._trackRequestMetrics=function(){for(var c=0;c<a._requestCountersCollection.length;c++){var l=a._requestCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime,d=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,f>0&&u>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:l.dimensions,value:d,count:u,aggregationInterval:f,metricType:n.MetricId.REQUESTS_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackDependencyMetrics=function(){for(var c=0;c<a._dependencyCountersCollection.length;c++){var l=a._dependencyCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime,d=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,f>0&&u>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:l.dimensions,value:d,count:u,aggregationInterval:f,metricType:n.MetricId.DEPENDENCIES_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackExceptionMetrics=function(){for(var c=0;c<a._exceptionCountersCollection.length;c++){var l=a._exceptionCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:l.dimensions,value:u,count:u,aggregationInterval:f,metricType:n.MetricId.EXCEPTIONS_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackTraceMetrics=function(){for(var c=0;c<a._traceCountersCollection.length;c++){var l=a._traceCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:l.dimensions,value:u,count:u,aggregationInterval:f,metricType:n.MetricId.TRACES_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackPreAggregatedMetric=function(c){var l={};for(var u in c.dimensions)l[o.PreaggregatedMetricPropertyNames[u]]=c.dimensions[u];l=r(r({},l),{"_MS.MetricId":c.metricType,"_MS.AggregationIntervalMs":String(c.aggregationInterval),"_MS.IsAutocollected":"True"});var f={name:c.name,value:c.value,count:c.count,properties:l,kind:"Aggregation"};this._client.trackMetric(f)},a.prototype.dispose=function(){a.INSTANCE=null,this.enable(!1),this._isInitialized=!1},a}();t.exports=s}),Kw=L((e,t)=>{"use strict";var r=require("os"),n=require("fs"),i=require("path"),o=En(),s=Lr(),a=function(){function c(l){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(l),this._loadDeviceContext(),this._loadInternalContext()}return c.prototype._loadApplicationContext=function(l){if(l=l||i.resolve(__dirname,"../../../../package.json"),!c.appVersion[l]){c.appVersion[l]="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.appVersion[l]=u.version)}catch(f){s.info("unable to read app version: ",f)}}this.tags[this.keys.applicationVersion]=c.appVersion[l]},c.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=c.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},c.prototype._loadInternalContext=function(){var l=i.resolve(__dirname,"../../package.json");if(!c.sdkVersion){c.sdkVersion="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.sdkVersion=u.version)}catch(f){s.info("unable to read app version: ",f)}}this.tags[this.keys.internalSdkVersion]="node:"+c.sdkVersion},c.DefaultRoleName="Web",c.appVersion={},c.sdkVersion=null,c}();t.exports=a}),Xue=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var u=function(f,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},u(f,d)};return function(f,d){u(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}(),n=require("url"),i=En(),o=Ei(),s=Ph(),a=sV(),c=Sf(),l=function(u){r(f,u);function f(d,p){var h=u.call(this)||this;return p&&p.method&&d&&(h.method=p.method,h.url=f._getUrlFromRequestOptions(d,p),h.startTime=+new Date),h}return f.prototype.onError=function(d){this._setStatus(void 0,d)},f.prototype.onResponse=function(d){this._setStatus(d.statusCode,void 0),this.correlationId=o.getCorrelationContextTarget(d,s.requestContextTargetKey)},f.prototype.getDependencyTelemetry=function(d,p){var h=n.parse(this.url);h.search=void 0,h.hash=void 0;var m=this.method.toUpperCase()+" "+h.pathname,g=i.RemoteDependencyDataConstants.TYPE_HTTP,v=h.hostname;h.port&&(v+=":"+h.port),this.correlationId?(g=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==c.correlationIdPrefix&&(v+=" | "+this.correlationId)):g=i.RemoteDependencyDataConstants.TYPE_HTTP;var y={id:p,name:m,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:g,target:v};if(d&&d.time?y.time=d.time:this.startTime&&(y.time=new Date(this.startTime)),d){for(var b in d)y[b]||(y[b]=d[b]);if(d.properties)for(var b in d.properties)y.properties[b]=d.properties[b]}return y},f._getUrlFromRequestOptions=function(d,p){if(typeof d=="string")if(d.indexOf("http://")===0||d.indexOf("https://")===0)d=n.parse(d);else{var h=n.parse(d);h.host==="443"?d=n.parse("https://"+d):d=n.parse("http://"+d)}else{if(d&&typeof n.URL=="function"&&d instanceof n.URL)return n.format(d);var m=d;d={},m&&Object.keys(m).forEach(function(y){d[y]=m[y]})}if(d.path){var g=n.parse(d.path);d.pathname=g.pathname,d.search=g.search}if(d.host&&d.port){var v=n.parse("http://"+d.host);!v.port&&d.port&&(d.hostname=d.host,delete d.host)}return d.protocol=d.protocol||p.agent&&p.agent.protocol||p.protocol||void 0,d.hostname=d.hostname||"localhost",n.format(d)},f}(a);t.exports=l}),Zue=L(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var r=Ht(),n=ba();function i(s){var a=t({},s);return Object.keys(n.SpanAttribute).forEach(function(c){delete a[c]}),a}function o(s){var a="|"+s.spanContext().traceId+"."+s.spanContext().spanId+".",c=Math.round(s._duration[0]*1e3+s._duration[1]/1e6),l=s.attributes["peer.address"]?s.attributes["peer.address"].toString():"",u=s.attributes.component?s.attributes.component.toString():"",f=u.toUpperCase()===n.DependencyTypeName.Http||!!s.attributes[n.SpanAttribute.HttpUrl],d=u.toLowerCase()===n.DependencyTypeName.Grpc;if(f){var p=s.attributes[n.SpanAttribute.HttpMethod]||"GET",h=new URL(s.attributes[n.SpanAttribute.HttpUrl].toString()),m=s.attributes[n.SpanAttribute.HttpHost]||h.host,g=s.attributes[n.SpanAttribute.HttpPort]||h.port||null,v=h.pathname||"/",y=p+" "+v,b=n.DependencyTypeName.Http,C=g?(m+":"+g).toString():m.toString(),_=h.toString(),P=s.attributes[n.SpanAttribute.HttpStatusCode]||s.status.code||0,S=P<400;return{id:a,name:y,dependencyTypeName:b,target:C,data:_,success:S,duration:c,url:_,resultCode:String(P),properties:i(s.attributes)}}else if(d){var p=s.attributes[n.SpanAttribute.GrpcMethod]||"rpc",x=s.attributes[n.SpanAttribute.GrpcService],I=x?p+" "+x:s.name;return{id:a,duration:c,name:I,target:x.toString(),data:x.toString()||I,url:x.toString()||I,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(s.status.code||0),success:s.status.code===0,properties:i(s.attributes)}}else{var A=s.name,O=s.links&&s.links.map(function(q){return{operation_Id:q.context.traceId,id:q.context.spanId}});return{id:a,duration:c,name:A,target:l,data:l||A,url:l||A,dependencyTypeName:s.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:u||s.name,resultCode:String(s.status.code||0),success:s.status.code===0,properties:t(t({},i(s.attributes)),{"_MS.links":O||void 0})}}}e.spanToTelemetryContract=o}),efe=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=Ht(),r=lr(),n=Gw(),i=Zue(),o=kH(),s=[],a=function(l){var u=l.data,f=i.spanToTelemetryContract(u),d=u.spanContext(),p=new n;p.traceId=d.traceId,p.spanId=d.spanId,p.traceFlag=n.formatOpenTelemetryTraceFlags(d.traceFlags),p.parentId=u.parentSpanId?"|"+d.traceId+"."+u.parentSpanId+".":null,o.AsyncScopeManager.with(u,function(){s.forEach(function(h){u.kind===t.SpanKind.SERVER?h.trackRequest(f):(u.kind===t.SpanKind.CLIENT||u.kind===t.SpanKind.INTERNAL)&&h.trackDependency(f)})})};e.subscriber=a;function c(l,u){l?(s.length===0&&r.channel.subscribe("azure-coretracing",e.subscriber),s.push(u)):(s=s.filter(function(f){return f!=u}),s.length===0&&r.channel.unsubscribe("azure-coretracing",e.subscriber))}e.enable=c}),tfe=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=lr(),r=[],n=function(o){o.data.event.commandName!=="ismaster"&&r.forEach(function(s){var a=o.data.startedData&&o.data.startedData.databaseName||"Unknown database";s.trackDependency({target:a,data:o.data.event.commandName,name:o.data.event.commandName,duration:o.data.event.duration,success:o.data.succeeded,resultCode:o.data.succeeded?"0":"1",time:o.data.startedData.time,dependencyTypeName:"mongodb"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("mongodb",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("mongodb",e.subscriber))}e.enable=i}),rfe=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=lr(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query||{},c=a.sql||"Unknown query",l=!o.data.err,u=a._connection||{},f=u.config||{},d=f.socketPath?f.socketPath:(f.host||"localhost")+":"+f.port;s.trackDependency({target:d,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"mysql"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("mysql",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("mysql",e.subscriber))}e.enable=i}),nfe=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=lr(),r=[],n=function(o){r.forEach(function(s){o.data.commandObj.command!=="info"&&s.trackDependency({target:o.data.address,name:o.data.commandObj.command,data:o.data.commandObj.command,duration:o.data.duration,success:!o.data.err,resultCode:o.data.err?"1":"0",time:o.data.time,dependencyTypeName:"redis"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("redis",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("redis",e.subscriber))}e.enable=i}),ife=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=lr(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query,c=a.preparable&&a.preparable.text||a.plan||a.text||"unknown query",l=!o.data.error,u=o.data.database.host+":"+o.data.database.port;s.trackDependency({target:u,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"postgres"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("postgres",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("postgres",e.subscriber))}e.enable=i}),kh=L((e,t)=>{"use strict";var r=e&&e.__spreadArrays||function(){for(var h=0,m=0,g=arguments.length;m<g;m++)h+=arguments[m].length;for(var v=Array(h),y=0,m=0;m<g;m++)for(var b=arguments[m],C=0,_=b.length;C<_;C++,y++)v[y]=b[C];return v},n=require("http"),i=require("https"),o=Lr(),s=Ei(),a=Ph(),c=Xue(),l=xf(),u=Sf(),f=Gw(),d=VP(),p=function(){function h(m){if(h.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");h.INSTANCE=this,this._client=m}return h.prototype.enable=function(m){this._isEnabled=m,this._isEnabled&&!this._isInitialized&&this._initialize(),d.IsInitialized&&(efe().enable(!0,this._client),tfe().enable(m,this._client),rfe().enable(m,this._client),nfe().enable(m,this._client),ife().enable(m,this._client))},h.prototype.isInitialized=function(){return this._isInitialized},h.prototype._initialize=function(){var m=this;this._isInitialized=!0;var g=n.request,v=i.request,y=function(b,C){var _=!C[h.disableCollectionRequestOption]&&!b[h.alreadyAutoCollectedFlag];C.headers&&C.headers["user-agent"]&&C.headers["user-agent"].toString().indexOf("azsdk-js")!==-1&&(_=!1),b[h.alreadyAutoCollectedFlag]=!0,b&&C&&_&&(l.CorrelationContextManager.wrapEmitter(b),h.trackRequest(m._client,{options:C,request:b}))};n.request=function(b){for(var C=[],_=1;_<arguments.length;_++)C[_-1]=arguments[_];var P=g.call.apply(g,r([n,b],C));return y(P,b),P},i.request=function(b){for(var C=[],_=1;_<arguments.length;_++)C[_-1]=arguments[_];var P=v.call.apply(v,r([i,b],C));return y(P,b),P},n.get=function(b){for(var C,_=[],P=1;P<arguments.length;P++)_[P-1]=arguments[P];var S=(C=n.request).call.apply(C,r([n,b],_));return S.end(),S},i.get=function(b){for(var C,_=[],P=1;P<arguments.length;P++)_[P-1]=arguments[P];var S=(C=i.request).call.apply(C,r([i,b],_));return S.end(),S}},h.trackRequest=function(m,g){if(!g.options||!g.request||!m){o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!g.options,!g.request,!m);return}var v=new c(g.options,g.request),y=l.CorrelationContextManager.getCurrentContext(),b,C;if(y&&y.operation&&y.operation.traceparent&&f.isValidTraceId(y.operation.traceparent.traceId))y.operation.traceparent.updateSpanId(),b=y.operation.traceparent.getBackCompatRequestId();else if(u.w3cEnabled){var _=new f;C=_.toString(),b=_.getBackCompatRequestId()}else b=y&&y.operation&&y.operation.parentId+h.requestNumber+++".";if(s.canIncludeCorrelationHeader(m,v.getUrl())&&g.request.getHeader&&g.request.setHeader&&m.config&&m.config.correlationId){var P=g.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(m,g.request,P)}catch(I){o.warn("Request-Context header could not be set. Correlation of requests may be lost",I)}if(y&&y.operation)try{if(g.request.setHeader(a.requestIdHeader,b),m.config.ignoreLegacyHeaders||(g.request.setHeader(a.parentIdHeader,y.operation.id),g.request.setHeader(a.rootIdHeader,b)),C||y.operation.traceparent)g.request.setHeader(a.traceparentHeader,C||y.operation.traceparent.toString());else if(u.w3cEnabled){var _=new f().toString();g.request.setHeader(a.traceparentHeader,_)}if(y.operation.tracestate){var S=y.operation.tracestate.toString();S&&g.request.setHeader(a.traceStateHeader,S)}var x=y.customProperties.serializeToHeader();x&&g.request.setHeader(a.correlationContextHeader,x)}catch(I){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",I)}}g.request.on&&(g.request.on("response",function(I){v.onResponse(I);var A=v.getDependencyTelemetry(g,b);A.contextObjects=A.contextObjects||{},A.contextObjects["http.RequestOptions"]=g.options,A.contextObjects["http.ClientRequest"]=g.request,A.contextObjects["http.ClientResponse"]=I,m.trackDependency(A)}),g.request.on("error",function(I){v.onError(I);var A=v.getDependencyTelemetry(g,b);A.contextObjects=A.contextObjects||{},A.contextObjects["http.RequestOptions"]=g.options,A.contextObjects["http.ClientRequest"]=g.request,A.contextObjects.Error=I,m.trackDependency(A)}),g.request.on("abort",function(){v.onError(new Error);var I=v.getDependencyTelemetry(g,b);I.contextObjects=I.contextObjects||{},I.contextObjects["http.RequestOptions"]=g.options,I.contextObjects["http.ClientRequest"]=g.request,m.trackDependency(I)}))},h.prototype.dispose=function(){h.INSTANCE=null,this.enable(!1),this._isInitialized=!1},h.disableCollectionRequestOption="disableAppInsightsAutoCollection",h.requestNumber=1,h.alreadyAutoCollectedFlag="_appInsightsAutoCollected",h}();t.exports=p}),ofe=L((e,t)=>{"use strict";var r=require("os"),n=ba(),i=Ei(),o=Kw(),s=kh(),a="http://169.254.169.254/metadata/instance/compute",c="api-version=2017-12-01",l="format=json",u="ENETUNREACH",f=function(){function d(p){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",d.INSTANCE||(d.INSTANCE=this),this._isInitialized=!1,this._client=p}return d.prototype.enable=function(p,h){var m=this;this._isEnabled=p,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),p?this._handle||(this._handle=setInterval(function(){return m.trackHeartBeat(h,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},d.prototype.isInitialized=function(){return this._isInitialized},d.isEnabled=function(){return d.INSTANCE&&d.INSTANCE._isEnabled},d.prototype.trackHeartBeat=function(p,h){var m=this,g=!1,v={},y=o.sdkVersion;v.sdk=y,v.osType=r.type(),process.env.WEBSITE_SITE_NAME?(v.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",v.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",v.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?v.azfunction_appId=process.env.WEBSITE_HOSTNAME:p&&(this._isVM===void 0?(g=!0,this._getAzureComputeMetadata(p,function(){m._isVM&&Object.keys(m._vmData).length>0&&(v.azInst_vmId=m._vmData.vmId||"",v.azInst_subscriptionId=m._vmData.subscriptionId||"",v.azInst_osType=m._vmData.osType||"",m._azInst_vmId=m._vmData.vmId||"",m._azInst_subscriptionId=m._vmData.subscriptionId||"",m._azInst_osType=m._vmData.osType||""),m._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h()})):this._isVM&&(v.azInst_vmId=this._azInst_vmId,v.azInst_subscriptionId=this._azInst_subscriptionId,v.azInst_osType=this._azInst_osType)),g||(this._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h())},d.prototype.dispose=function(){d.INSTANCE=null,this.enable(!1),this._isInitialized=!1},d.prototype._getAzureComputeMetadata=function(p,h){var m,g=this,v=a+"?"+c+"&"+l,y=(m={method:"GET"},m[s.disableCollectionRequestOption]=!0,m.headers={Metadata:"True"},m),b=i.makeRequest(p,v,y,function(C){if(C.statusCode===200){g._isVM=!0;var _="";C.on("data",function(P){_+=P}),C.on("end",function(){g._vmData=g._isJSON(_)?JSON.parse(_):{},h()})}else h()});b&&(b.on("error",function(C){C&&C.message&&C.message.indexOf(u)>-1&&(g._isVM=!1),h()}),b.end())},d.prototype._isJSON=function(p){try{return JSON.parse(p)&&!!p}catch{return!1}},d}();t.exports=f}),dV=L((e,t)=>{"use strict";var r=require("http"),n=require("https"),i=Lr(),o=Ei(),s=Ph(),a=aV(),c=xf(),l=GP(),u=function(){function f(d){if(f.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");f.INSTANCE=this,this._client=d}return f.prototype.enable=function(d){this._isEnabled=d,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},f.prototype.useAutoCorrelation=function(d,p){d&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(p):!d&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=d},f.prototype.isInitialized=function(){return this._isInitialized},f.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},f.prototype._generateCorrelationContext=function(d){if(this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(d.getOperationId(this._client.context.tags),d.getRequestId(),d.getOperationName(this._client.context.tags),d.getCorrelationContextHeader(),d.getTraceparent(),d.getTracestate())},f.prototype._initialize=function(){var d=this;this._isInitialized=!0;var p=function(v){if(v){if(typeof v!="function")throw new Error("onRequest handler must be a function");return function(y,b){c.CorrelationContextManager.wrapEmitter(y),c.CorrelationContextManager.wrapEmitter(b);var C=y&&!y[f.alreadyAutoCollectedFlag];if(y&&C){var _=new a(y),P=d._generateCorrelationContext(_);c.CorrelationContextManager.runWithContext(P,function(){d._isEnabled&&(y[f.alreadyAutoCollectedFlag]=!0,f.trackRequest(d._client,{request:y,response:b},_)),typeof v=="function"&&v(y,b)})}else typeof v=="function"&&v(y,b)}}},h=function(v){var y=v.addListener.bind(v);v.addListener=function(b,C){switch(b){case"request":case"checkContinue":return y(b,p(C));default:return y(b,C)}},v.on=v.addListener},m=r.createServer;r.createServer=function(v,y){if(y&&typeof y=="function"){var b=m(v,p(y));return h(b),b}else{var b=m(p(v));return h(b),b}};var g=n.createServer;n.createServer=function(v,y){var b=g(v,p(y));return h(b),b}},f.trackRequestSync=function(d,p){if(!p.request||!p.response||!d){i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!p.request,!p.response,!d);return}f.addResponseCorrelationIdHeader(d,p.response);var h=c.CorrelationContextManager.getCurrentContext(),m=new a(p.request,h&&h.operation.parentId);h&&(h.operation.id=m.getOperationId(d.context.tags)||h.operation.id,h.operation.name=m.getOperationName(d.context.tags)||h.operation.name,h.operation.parentId=m.getRequestId()||h.operation.parentId,h.customProperties.addHeaderData(m.getCorrelationContextHeader())),f.endRequest(d,m,p,p.duration,p.error)},f.trackRequest=function(d,p,h){if(!p.request||!p.response||!d){i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!p.request,!p.response,!d);return}var m=c.CorrelationContextManager.getCurrentContext(),g=h||new a(p.request,m&&m.operation.parentId);o.canIncludeCorrelationHeader(d,g.getUrl())&&f.addResponseCorrelationIdHeader(d,p.response),m&&!h&&(m.operation.id=g.getOperationId(d.context.tags)||m.operation.id,m.operation.name=g.getOperationName(d.context.tags)||m.operation.name,m.operation.parentId=g.getOperationParentId(d.context.tags)||m.operation.parentId,m.customProperties.addHeaderData(g.getCorrelationContextHeader())),p.response.once&&p.response.once("finish",function(){f.endRequest(d,g,p,null,null)}),p.request.on&&p.request.on("error",function(v){f.endRequest(d,g,p,null,v)}),p.request.on&&p.request.on("aborted",function(){var v="The request has been aborted and the network socket has closed.";f.endRequest(d,g,p,null,v)})},f.addResponseCorrelationIdHeader=function(d,p){if(d.config&&d.config.correlationId&&p.getHeader&&p.setHeader&&!p.headersSent){var h=p.getHeader(s.requestContextHeader);o.safeIncludeCorrelationHeader(d,p,h)}},f.endRequest=function(d,p,h,m,g){g?p.onError(g,m):p.onResponse(h.response,m);var v=p.getRequestTelemetry(h);if(v.tagOverrides=p.getRequestTags(d.context.tags),h.tagOverrides)for(var y in h.tagOverrides)v.tagOverrides[y]=h.tagOverrides[y];var b=p.getLegacyRootId();b&&(v.properties.ai_legacyRootId=b),v.contextObjects=v.contextObjects||{},v.contextObjects["http.ServerRequest"]=h.request,v.contextObjects["http.ServerResponse"]=h.response,d.trackRequest(v)},f.prototype.dispose=function(){f.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},f.alreadyAutoCollectedFlag="_appInsightsAutoCollected",f}();t.exports=u}),sfe=L((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(u){for(var f,d=1,p=arguments.length;d<p;d++){f=arguments[d];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}return u},r.apply(this,arguments)},n=require("os"),i=En(),o=ba(),s=Ei(),a=Lr(),c=s.w3cTraceId(),l=function(){function u(){}return u.createQuickPulseEnvelope=function(f,d,p,h){var m=n&&typeof n.hostname=="function"&&n.hostname()||"Unknown",g=h.tags&&h.keys&&h.keys.cloudRoleInstance&&h.tags[h.keys.cloudRoleInstance]||m,v=h.tags&&h.keys&&h.keys.cloudRole&&h.tags[h.keys.cloudRole]||null,y={Documents:d.length>0?d:null,InstrumentationKey:p.instrumentationKey||"",Metrics:f.length>0?f:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:h.tags[h.keys.internalSdkVersion],StreamId:c,MachineName:m,Instance:g,RoleName:v};return y},u.createQuickPulseMetric=function(f){var d;return d={Name:f.name,Value:f.value,Weight:f.count||1},d},u.telemetryEnvelopeToQuickPulseDocument=function(f){switch(f.data.baseType){case i.TelemetryTypeString.Event:return u.createQuickPulseEventDocument(f);case i.TelemetryTypeString.Exception:return u.createQuickPulseExceptionDocument(f);case i.TelemetryTypeString.Trace:return u.createQuickPulseTraceDocument(f);case i.TelemetryTypeString.Dependency:return u.createQuickPulseDependencyDocument(f);case i.TelemetryTypeString.Request:return u.createQuickPulseRequestDocument(f)}return null},u.createQuickPulseEventDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData.name,h=r(r({},d),{Name:p});return h},u.createQuickPulseTraceDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData.severityLevel||0,h=r(r({},d),{Message:f.data.baseData.message,SeverityLevel:i.SeverityLevel[p]});return h},u.createQuickPulseExceptionDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData.exceptions,h="",m="",g="";p&&p.length>0&&(p[0].parsedStack&&p[0].parsedStack.length>0?p[0].parsedStack.forEach(function(y){h+=y.assembly+`
`}):p[0].stack&&p[0].stack.length>0&&(h=p[0].stack),m=p[0].message,g=p[0].typeName);var v=r(r({},d),{Exception:h,ExceptionMessage:m,ExceptionType:g});return v},u.createQuickPulseRequestDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData,h=r(r({},d),{Name:p.name,Success:p.success,Duration:p.duration,ResponseCode:p.responseCode,OperationName:p.name});return h},u.createQuickPulseDependencyDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData,h=r(r({},d),{Name:p.name,Target:p.target,Success:p.success,Duration:p.duration,ResultCode:p.resultCode,CommandName:p.data,OperationName:d.OperationId,DependencyTypeName:p.type});return h},u.createQuickPulseDocument=function(f){var d,p,h,m;f.data.baseType?(p=o.TelemetryTypeStringToQuickPulseType[f.data.baseType],d=o.TelemetryTypeStringToQuickPulseDocumentType[f.data.baseType]):a.warn("Document type invalid; not sending live metric document",f.data.baseType),h=f.tags[u.keys.operationId],m=u.aggregateProperties(f);var g={DocumentType:d,__type:p,OperationId:h,Version:"1.0",Properties:m};return g},u.aggregateProperties=function(f){var d=[],p=f.data.baseData.measurements||{};for(var h in p)if(p.hasOwnProperty(h)){var m=p[h],g={key:h,value:m};d.push(g)}var v=f.data.baseData.properties||{};for(var h in v)if(v.hasOwnProperty(h)){var m=v[h],g={key:h,value:m};d.push(g)}return d},u.keys=new i.ContextTagKeys,u}();t.exports=l}),afe=L((e,t)=>{"use strict";var r=function(){return(Date.now()+621355968e5)*1e4};t.exports={getTransmissionTime:r}}),cfe=L((e,t)=>{"use strict";var r=e&&e.__awaiter||function(f,d,p,h){function m(g){return g instanceof p?g:new p(function(v){v(g)})}return new(p||(p=Promise))(function(g,v){function y(_){try{C(h.next(_))}catch(P){v(P)}}function b(_){try{C(h.throw(_))}catch(P){v(P)}}function C(_){_.done?g(_.value):m(_.value).then(y,b)}C((h=h.apply(f,d||[])).next())})},n=e&&e.__generator||function(f,d){var p={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,m,g,v;return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(C){return function(_){return b([C,_])}}function b(C){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,m&&(g=C[0]&2?m.return:C[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,C[1])).done)return g;switch(m=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return p.label++,{value:C[1],done:!1};case 5:p.label++,m=C[1],C=[0];continue;case 7:C=p.ops.pop(),p.trys.pop();continue;default:if(g=p.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){p=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){p.label=C[1];break}if(C[0]===6&&p.label<g[1]){p.label=g[1],g=C;break}if(g&&p.label<g[2]){p.label=g[2],p.ops.push(C);break}g[2]&&p.ops.pop(),p.trys.pop();continue}C=d.call(f,p)}catch(_){C=[6,_],m=0}finally{h=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},i=require("https"),o=kh(),s=Lr(),a=afe(),c=Ei(),l={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},u=function(){function f(d){this._config=d,this._consecutiveErrors=0}return f.prototype.ping=function(d,p,h){var m=[{name:l.streamId,value:d.StreamId},{name:l.machineName,value:d.MachineName},{name:l.roleName,value:d.RoleName},{name:l.instanceName,value:d.Instance},{name:l.invariantVersion,value:d.InvariantVersion.toString()}];this._submitData(d,p,h,"ping",m)},f.prototype.post=function(d,p,h){return r(this,void 0,void 0,function(){return n(this,function(m){switch(m.label){case 0:return[4,this._submitData([d],p,h,"post")];case 1:return m.sent(),[2]}})})},f.prototype._submitData=function(d,p,h,m,g){return r(this,void 0,void 0,function(){var v,y,b,C,_,P=this;return n(this,function(S){return v=JSON.stringify(d),y=(C={},C[o.disableCollectionRequestOption]=!0,C.host=p&&p.length>0?p:this._config.quickPulseHost,C.method=l.method,C.path="/QuickPulseService.svc/"+m+"?ikey="+this._config.instrumentationKey,C.headers=(_={Expect:"100-continue"},_[l.time]=a.getTransmissionTime(),_["Content-Type"]="application/json",_["Content-Length"]=Buffer.byteLength(v),_),C),g&&g.length>0&&g.forEach(function(x){return y.headers[x.name]=x.value}),this._config.httpsAgent?y.agent=this._config.httpsAgent:y.agent=c.tlsRestrictedAgent,b=i.request(y,function(x){if(x.statusCode==200){var I=x.headers[l.subscribed]==="true",A=x.headers[l.endpointRedirect]?x.headers[l.endpointRedirect].toString():null,O=x.headers[l.pollingIntervalHint]?parseInt(x.headers[l.pollingIntervalHint].toString()):null;P._consecutiveErrors=0,h(I,x,A,O)}else P._onError("StatusCode:"+x.statusCode+" StatusMessage:"+x.statusMessage),h()}),b.on("error",function(x){P._onError(x),h()}),b.write(v),b.end(),[2]})})},f.prototype._onError=function(d){this._consecutiveErrors++;var p="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%f.MAX_QPS_FAILURES_BEFORE_WARN==0?(p="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(f.TAG,p,d)):s.info(f.TAG,p,d)},f.TAG="QuickPulseSender",f.MAX_QPS_FAILURES_BEFORE_WARN=25,f}();t.exports=u}),lfe=L((e,t)=>{"use strict";var r=e&&e.__awaiter||function(u,f,d,p){function h(m){return m instanceof d?m:new d(function(g){g(m)})}return new(d||(d=Promise))(function(m,g){function v(C){try{b(p.next(C))}catch(_){g(_)}}function y(C){try{b(p.throw(C))}catch(_){g(_)}}function b(C){C.done?m(C.value):h(C.value).then(v,y)}b((p=p.apply(u,f||[])).next())})},n=e&&e.__generator||function(u,f){var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},p,h,m,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(b){return function(C){return y([b,C])}}function y(b){if(p)throw new TypeError("Generator is already executing.");for(;d;)try{if(p=1,h&&(m=b[0]&2?h.return:b[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,b[1])).done)return m;switch(h=0,m&&(b=[b[0]&2,m.value]),b[0]){case 0:case 1:m=b;break;case 4:return d.label++,{value:b[1],done:!1};case 5:d.label++,h=b[1],b=[0];continue;case 7:b=d.ops.pop(),d.trys.pop();continue;default:if(m=d.trys,!(m=m.length>0&&m[m.length-1])&&(b[0]===6||b[0]===2)){d=0;continue}if(b[0]===3&&(!m||b[1]>m[0]&&b[1]<m[3])){d.label=b[1];break}if(b[0]===6&&d.label<m[1]){d.label=m[1],m=b;break}if(m&&d.label<m[2]){d.label=m[2],d.ops.push(b);break}m[2]&&d.ops.pop(),d.trys.pop();continue}b=f.call(u,d)}catch(C){b=[6,C],h=0}finally{p=m=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},i=Lr(),o=sfe(),s=cfe(),a=ba(),c=Kw(),l=function(){function u(f,d){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=f,this.context=d||new c,this._sender=new s(this.config),this._isEnabled=!1}return u.prototype.addCollector=function(f){this._collectors.push(f)},u.prototype.trackMetric=function(f){this._addMetric(f)},u.prototype.addDocument=function(f){var d=o.telemetryEnvelopeToQuickPulseDocument(f);d&&this._documents.push(d)},u.prototype.enable=function(f){f&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!f&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},u.prototype.enableCollectors=function(f){this._collectors.forEach(function(d){d.enable(f)})},u.prototype._addMetric=function(f){var d=f.value,p=f.count||1,h=a.PerformanceToQuickPulseCounter[f.name];h&&(this._metrics[h]?(this._metrics[h].Value=(this._metrics[h].Value*this._metrics[h].Weight+d*p)/(this._metrics[h].Weight+p),this._metrics[h].Weight+=p):(this._metrics[h]=o.createQuickPulseMetric(f),this._metrics[h].Name=h,this._metrics[h].Weight=1))},u.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},u.prototype._goQuickPulse=function(){return r(this,void 0,void 0,function(){var f,d,p,h,m=this;return n(this,function(g){switch(g.label){case 0:return f=Object.keys(this._metrics).map(function(v){return m._metrics[v]}),d=o.createQuickPulseEnvelope(f,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(d)]:[3,2];case 1:return g.sent(),[3,3];case 2:this._ping(d),g.label=3;case 3:return p=this._pollingIntervalHint>0?this._pollingIntervalHint:u.PING_INTERVAL,h=this._isCollectingData?u.POST_INTERVAL:p,this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,h=u.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(h=u.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),h),this._handle.unref(),[2]}})})},u.prototype._ping=function(f){this._sender.ping(f,this._redirectedHost,this._quickPulseDone.bind(this))},u.prototype._post=function(f){return r(this,void 0,void 0,function(){return n(this,function(d){switch(d.label){case 0:return[4,this._sender.post(f,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return d.sent(),[2]}})})},u.prototype._quickPulseDone=function(f,d,p,h){f!=null?(this._isCollectingData!==f&&(i.info("Live Metrics sending data",f),this.enableCollectors(f)),this._isCollectingData=f,p&&p.length>0&&(this._redirectedHost=p,i.info("Redirecting endpoint to: ",p)),h&&h>0&&(this._pollingIntervalHint=h),d&&d.statusCode<300&&d.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},u.MAX_POST_WAIT_TIME=2e4,u.MAX_PING_WAIT_TIME=6e4,u.FALLBACK_INTERVAL=6e4,u.PING_INTERVAL=5e3,u.POST_INTERVAL=1e3,u}();t.exports=l}),ufe=L((e,t)=>{"use strict";var r=ba(),n=function(){function i(){}return i.parse=function(o){if(!o)return{};var s=o.split(i._FIELDS_SEPARATOR),a=s.reduce(function(l,u){var f=u.split(i._FIELD_KEY_VALUE_SEPARATOR);if(f.length===2){var d=f[0].toLowerCase(),p=f[1];l[d]=p}return l},{});if(Object.keys(a).length>0){if(a.endpointsuffix){var c=a.location?a.location+".":"";a.ingestionendpoint=a.ingestionendpoint||"https://"+c+"dc."+a.endpointsuffix,a.liveendpoint=a.liveendpoint||"https://"+c+"live."+a.endpointsuffix}a.ingestionendpoint=a.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,a.liveendpoint=a.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return a},i._FIELDS_SEPARATOR=";",i._FIELD_KEY_VALUE_SEPARATOR="=",i}();t.exports=n}),pV=L((e,t)=>{"use strict";var r=Sf(),n=ufe(),i=Lr(),o=ba(),s=require("url"),a=function(){function c(l){var u=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var f=process.env[c.ENV_connectionString],d=n.parse(l),p=n.parse(f),h=!d.instrumentationkey&&Object.keys(d).length>0?null:l;this.instrumentationKey=d.instrumentationkey||h||p.instrumentationkey||c._getInstrumentationKey(),c._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(d.ingestionendpoint||p.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=30*1e3,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(m){return u.correlationId=m},this.proxyHttpUrl=process.env[c.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[c.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=d.ingestionendpoint||p.ingestionendpoint||process.env[c.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=d.liveendpoint||p.liveendpoint||process.env[c.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(c.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(l){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=l,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(l){this._quickPulseHost=l},enumerable:!1,configurable:!0}),c._getInstrumentationKey=function(){var l=process.env[c.ENV_iKey]||process.env[c.ENV_azurePrefix+c.ENV_iKey]||process.env[c.legacy_ENV_iKey]||process.env[c.ENV_azurePrefix+c.legacy_ENV_iKey];if(!l||l=="")throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return l},c._validateInstrumentationKey=function(l){var u="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",f=new RegExp(u);return f.test(l)},c.ENV_azurePrefix="APPSETTING_",c.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",c.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",c.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",c.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",c.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",c.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",c.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",c.ENV_http_proxy="http_proxy",c.ENV_https_proxy="https_proxy",c}();t.exports=a}),ffe=L(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var r=pV(),n=Kw(),i=Lr(),o=function(){function s(a){this._disabledMetrics={},s.INSTANCE&&s.INSTANCE.dispose(),s.INSTANCE=this,this._client=a}return s.isNodeVersionCompatible=function(){var a=process.versions.node.split(".");return parseInt(a[0])>=6},s.prototype.enable=function(a,c,l){var u=this;if(c===void 0&&(c={}),l===void 0&&(l=6e4),!!s.isNodeVersionCompatible()){if(s._metricsAvailable==null&&a&&!this._isInitialized)try{var f=require("applicationinsights-native-metrics");s._emitter=new f,s._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch{s._metricsAvailable=!1;return}this._isEnabled=a,this._disabledMetrics=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&s._emitter?(s._emitter.enable(!0,l),this._handle||(this._handle=setInterval(function(){return u._trackNativeMetrics()},l),this._handle.unref())):s._emitter&&(s._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},s.prototype.dispose=function(){this.enable(!1)},s.parseEnabled=function(a){var c=process.env[r.ENV_nativeMetricsDisableAll],l=process.env[r.ENV_nativeMetricsDisablers];if(c)return{isEnabled:!1,disabledMetrics:{}};if(l){var u=l.split(","),f={};if(u.length>0)for(var d=0,p=u;d<p.length;d++){var h=p[d];f[h]=!0}return typeof a=="object"?{isEnabled:!0,disabledMetrics:t(t({},a),f)}:{isEnabled:a,disabledMetrics:f}}return typeof a=="boolean"?{isEnabled:a,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:a}},s.prototype._trackNativeMetrics=function(){var a=!0;typeof this._isEnabled!="object"&&(a=this._isEnabled),a&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},s.prototype._trackGarbageCollection=function(){var a;if(!this._disabledMetrics.gc){var c=s._emitter.getGCData();for(var l in c){var u=c[l].metrics,f=l+" Garbage Collection Duration",d=Math.sqrt(u.sumSquares/u.count-Math.pow(u.total/u.count,2))||0;this._client.trackMetric({name:f,value:u.total,count:u.count,max:u.max,min:u.min,stdDev:d,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackEventLoop=function(){var a;if(!this._disabledMetrics.loop){var c=s._emitter.getLoopData(),l=c.loopUsage;if(l.count!=0){var u="Event Loop CPU Time",f=Math.sqrt(l.sumSquares/l.count-Math.pow(l.total/l.count,2))||0;this._client.trackMetric({name:u,value:l.total,count:l.count,min:l.min,max:l.max,stdDev:f,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackHeapUsage=function(){var a,c,l;if(!this._disabledMetrics.heap){var u=process.memoryUsage(),f=u.heapUsed,d=u.heapTotal,p=u.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:f,count:1,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)}),this._client.trackMetric({name:"Memory Total (Heap)",value:d,count:1,tagOverrides:(c={},c[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,c)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:p-d,count:1,tagOverrides:(l={},l[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,l)})}},s}();e.AutoCollectNativePerformance=o}),dfe=L((e,t)=>{"use strict";var r=Lr(),n=function(){function i(o,s,a,c){this._buffer=[],this._lastSend=0,this._isDisabled=o,this._getBatchSize=s,this._getBatchIntervalMs=a,this._sender=c}return i.prototype.setUseDiskRetryCaching=function(o,s,a){this._sender.setDiskRetryMode(o,s,a)},i.prototype.send=function(o){var s=this;if(!this._isDisabled()){if(!o){r.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(o),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){s._timeoutHandle=null,s.triggerSend(!1)},this._getBatchIntervalMs()))}},i.prototype.triggerSend=function(o,s){var a=this._buffer.length<1;a||(o?(this._sender.saveOnCrash(this._buffer),typeof s=="function"&&s("data saved on crash")):this._sender.send(this._buffer,s)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,a&&typeof s=="function"&&s("no data to send")},i}();t.exports=n}),pfe=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0;function t(r,n){process.env.WEBSITE_SITE_NAME&&(r.tags[n.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}e.azureRoleEnvironmentTelemetryProcessor=t}),hfe=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=En();function r(i,o){var s=i.sampleRate,a=!1;return s==null||s>=100||i.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(i.data.baseType)?!0:(o.correlationContext&&o.correlationContext.operation?a=n(o.correlationContext.operation.id)<s:a=Math.random()*100<s,a)}e.samplingTelemetryProcessor=r;function n(i){var o=-2147483648,s=2147483647,a=5381;if(!i)return 0;for(;i.length<8;)i=i+i;for(var c=0;c<i.length;c++)a=((a<<5)+a|0)+i.charCodeAt(c)|0;return a=a<=o?s:Math.abs(a),a/s*100}e.getSamplingHashCode=n}),mfe=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=GP(),r=En();function n(i,o){switch(o&&o.addDocument(i),i.data.baseType){case r.TelemetryTypeString.Exception:t.countException();break;case r.TelemetryTypeString.Request:var s=i.data.baseData;t.countRequest(s.duration,s.success);break;case r.TelemetryTypeString.Dependency:var a=i.data.baseData;t.countDependency(a.duration,a.success);break}return!0}e.performanceMetricsTelemetryProcessor=n}),gfe=L(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var r=En(),n=fV(),i=En();function o(s,a){if(n.isEnabled())switch(s.data.baseType){case i.TelemetryTypeString.Exception:var c=s.data.baseData;c.properties=t(t({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var l={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole]};n.countException(l);break;case i.TelemetryTypeString.Trace:var u=s.data.baseData;u.properties=t(t({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var f={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[u.severity]};n.countTrace(f);break;case i.TelemetryTypeString.Request:var d=s.data.baseData;d.properties=t(t({},d.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],requestSuccess:d.success,requestResultCode:d.responseCode};n.countRequest(d.duration,p);break;case i.TelemetryTypeString.Dependency:var h=s.data.baseData;h.properties=t(t({},h.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var m={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],dependencySuccess:h.success,dependencyType:h.type,dependencyTarget:h.target,dependencyResultCode:h.resultCode};n.countDependency(h.duration,m);break}return!0}e.preAggregatedMetricsTelemetryProcessor=o}),vfe=L(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(pfe(),e),r(hfe(),e),r(mfe(),e),r(gfe(),e)}),yfe=L((e,t)=>{"use strict";var r=e&&e.__awaiter||function(p,h,m,g){function v(y){return y instanceof m?y:new m(function(b){b(y)})}return new(m||(m=Promise))(function(y,b){function C(S){try{P(g.next(S))}catch(x){b(x)}}function _(S){try{P(g.throw(S))}catch(x){b(x)}}function P(S){S.done?y(S.value):v(S.value).then(C,_)}P((g=g.apply(p,h||[])).next())})},n=e&&e.__generator||function(p,h){var m={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},g,v,y,b;return b={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function C(P){return function(S){return _([P,S])}}function _(P){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,v&&(y=P[0]&2?v.return:P[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,P[1])).done)return y;switch(v=0,y&&(P=[P[0]&2,y.value]),P[0]){case 0:case 1:y=P;break;case 4:return m.label++,{value:P[1],done:!1};case 5:m.label++,v=P[1],P=[0];continue;case 7:P=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!(y=y.length>0&&y[y.length-1])&&(P[0]===6||P[0]===2)){m=0;continue}if(P[0]===3&&(!y||P[1]>y[0]&&P[1]<y[3])){m.label=P[1];break}if(P[0]===6&&m.label<y[1]){m.label=y[1],y=P;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(P);break}y[2]&&m.ops.pop(),m.trys.pop();continue}P=h.call(p,m)}catch(S){P=[6,S],v=0}finally{g=y=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},i=require("fs"),o=require("os"),s=require("path"),a=require("zlib"),c=require("child_process"),l=Lr(),u=kh(),f=Ei(),d=function(){function p(h,m,g){if(this._redirectedHost=null,this._config=h,this._onSuccess=m,this._onError=g,this._enableDiskRetryMode=!1,this._resendInterval=p.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=p.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(o.tmpdir(),p.TEMPDIR_PREFIX+this._config.instrumentationKey),!p.OS_PROVIDES_FILE_PROTECTION)if(p.USE_ICACLS){try{p.OS_PROVIDES_FILE_PROTECTION=i.existsSync(p.ICACLS_PATH)}catch{}p.OS_PROVIDES_FILE_PROTECTION||l.warn(p.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else p.OS_PROVIDES_FILE_PROTECTION=!0}return p.prototype.setDiskRetryMode=function(h,m,g){var v=this;this._enableDiskRetryMode=p.OS_PROVIDES_FILE_PROTECTION&&h,typeof m=="number"&&m>=0&&(this._resendInterval=Math.floor(m)),typeof g=="number"&&g>=0&&(this._maxBytesOnDisk=Math.floor(g)),h&&!p.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(p.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){v._fileCleanupTask()},p.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},p.prototype.send=function(h,m){return r(this,void 0,void 0,function(){var g,v,y,b,C=this;return n(this,function(_){return h&&(g=this._redirectedHost||this._config.endpointUrl,v={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},y="",h.forEach(function(P){var S=C._stringify(P);typeof S=="string"&&(y+=S+`
`)}),y.length>0&&(y=y.substring(0,y.length-1)),b=Buffer.from?Buffer.from(y):new Buffer(y),a.gzip(b,function(P,S){var x=S;P?(l.warn(P),x=b,v.headers["Content-Length"]=b.length.toString()):(v.headers["Content-Encoding"]="gzip",v.headers["Content-Length"]=S.length.toString()),l.info(p.TAG,v),v[u.disableCollectionRequestOption]=!0;var I=function(O){O.setEncoding("utf-8");var q="";O.on("data",function(J){q+=J}),O.on("end",function(){if(C._numConsecutiveFailures=0,C._enableDiskRetryMode){if(O.statusCode===200)C._resendTimer||(C._resendTimer=setTimeout(function(){C._resendTimer=null,C._sendFirstFileOnDisk()},C._resendInterval),C._resendTimer.unref());else if(C._isRetriable(O.statusCode))try{var J=JSON.parse(q),K=[];J.errors.forEach(function(re){C._isRetriable(re.statusCode)&&K.push(h[re.index])}),K.length>0&&C._storeToDisk(K)}catch{C._storeToDisk(h)}}if(O.statusCode===307||O.statusCode===308)if(C._numConsecutiveRedirects++,C._numConsecutiveRedirects<10){var ee=O.headers.location?O.headers.location.toString():null;ee&&(C._redirectedHost=ee,C.send(h,m))}else typeof m=="function"&&m("Error sending telemetry because of circular redirects.");else C._numConsecutiveRedirects=0,typeof m=="function"&&m(q),l.info(p.TAG,q),typeof C._onSuccess=="function"&&C._onSuccess(q)})},A=f.makeRequest(C._config,g,v,I);A.on("error",function(O){if(C._numConsecutiveFailures++,!C._enableDiskRetryMode||C._numConsecutiveFailures>0&&C._numConsecutiveFailures%p.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var q="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";C._enableDiskRetryMode&&(q="Ingestion endpoint could not be reached "+C._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(p.TAG,q,f.dumpObj(O))}else{var q="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";l.info(p.TAG,q,f.dumpObj(O))}C._onErrorHelper(O),typeof m=="function"&&(O&&m(f.dumpObj(O)),m("Error sending telemetry")),C._enableDiskRetryMode&&C._storeToDisk(h)}),A.write(x),A.end()})),[2]})})},p.prototype.saveOnCrash=function(h){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(h))},p.prototype._isRetriable=function(h){return h===206||h===408||h===429||h===439||h===500||h===503},p.prototype._runICACLS=function(h,m){var g=c.spawn(p.ICACLS_PATH,h,{windowsHide:!0});g.on("error",function(v){return m(v)}),g.on("close",function(v,y){return m(v===0?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+v+")"))})},p.prototype._runICACLSSync=function(h){if(c.spawnSync){var m=c.spawnSync(p.ICACLS_PATH,h,{windowsHide:!0});if(m.error)throw m.error;if(m.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+m.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},p.prototype._getACLIdentity=function(h){if(p.ACL_IDENTITY)return h(null,p.ACL_IDENTITY);var m=c.spawn(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),g="";m.stdout.on("data",function(v){return g+=v}),m.on("error",function(v){return h(v,null)}),m.on("close",function(v,y){return p.ACL_IDENTITY=g&&g.trim(),h(v===0?null:new Error("Getting ACL identity did not succeed (PS returned code "+v+")"),p.ACL_IDENTITY)})},p.prototype._getACLIdentitySync=function(){if(p.ACL_IDENTITY)return p.ACL_IDENTITY;if(c.spawnSync){var h=c.spawnSync(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(h.error)throw h.error;if(h.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+h.status+")");return p.ACL_IDENTITY=h.stdout&&h.stdout.toString().trim(),p.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},p.prototype._getACLArguments=function(h,m){return[h,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",m+":(OI)(CI)F","/inheritance:r"]},p.prototype._applyACLRules=function(h,m){var g=this;if(!p.USE_ICACLS)return m(null);if(p.ACLED_DIRECTORIES[h]===void 0)p.ACLED_DIRECTORIES[h]=!1,this._getACLIdentity(function(v,y){if(v)return p.ACLED_DIRECTORIES[h]=!1,m(v);g._runICACLS(g._getACLArguments(h,y),function(b){return p.ACLED_DIRECTORIES[h]=!b,m(b)})});else return m(p.ACLED_DIRECTORIES[h]?null:new Error("Setting ACL restrictions did not succeed (cached result)"))},p.prototype._applyACLRulesSync=function(h){if(p.USE_ICACLS){if(p.ACLED_DIRECTORIES[h]===void 0){this._runICACLSSync(this._getACLArguments(h,this._getACLIdentitySync())),p.ACLED_DIRECTORIES[h]=!0;return}else if(!p.ACLED_DIRECTORIES[h])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},p.prototype._confirmDirExists=function(h,m){var g=this;i.lstat(h,function(v,y){v&&v.code==="ENOENT"?i.mkdir(h,function(b){b&&b.code!=="EEXIST"?m(b):g._applyACLRules(h,m)}):!v&&y.isDirectory()?g._applyACLRules(h,m):m(v||new Error("Path existed but was not a directory"))})},p.prototype._getShallowDirectorySize=function(h,m){i.readdir(h,function(g,v){if(g)return m(g,-1);var y=null,b=0,C=0;if(v.length===0){m(null,0);return}for(var _=0;_<v.length;_++)i.stat(s.join(h,v[_]),function(P,S){C++,P?y=P:S.isFile()&&(b+=S.size),C===v.length&&(y?m(y,-1):m(y,b))})})},p.prototype._getShallowDirectorySizeSync=function(h){for(var m=i.readdirSync(h),g=0,v=0;v<m.length;v++)g+=i.statSync(s.join(h,m[v])).size;return g},p.prototype._storeToDisk=function(h){var m=this;l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,function(g){if(g){l.warn(p.TAG,"Error while checking/creating directory: "+(g&&g.message)),m._onErrorHelper(g);return}m._getShallowDirectorySize(m._tempDir,function(v,y){if(v||y<0){l.warn(p.TAG,"Error while checking directory size: "+(v&&v.message)),m._onErrorHelper(v);return}else if(y>m._maxBytesOnDisk){l.warn(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+y);return}var b=new Date().getTime()+".ai.json",C=s.join(m._tempDir,b);l.info(p.TAG,"saving data to disk at: "+C),i.writeFile(C,m._stringify(h),{mode:384},function(_){return m._onErrorHelper(_)})})})},p.prototype._storeToDiskSync=function(h){try{l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var m=this._getShallowDirectorySizeSync(this._tempDir);if(m>this._maxBytesOnDisk){l.info(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+m);return}var g=new Date().getTime()+".ai.json",v=s.join(this._tempDir,g);l.info(p.TAG,"saving data before crash to disk at: "+v),i.writeFileSync(v,h,{mode:384})}catch(y){l.warn(p.TAG,"Error while saving data to disk: "+(y&&y.message)),this._onErrorHelper(y)}},p.prototype._sendFirstFileOnDisk=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){if(g)h._onErrorHelper(g);else if(v=v.filter(function(C){return s.basename(C).indexOf(".ai.json")>-1}),v.length>0){var y=v[0],b=s.join(h._tempDir,y);i.readFile(b,function(C,_){C?h._onErrorHelper(C):i.unlink(b,function(P){if(P)h._onErrorHelper(P);else try{var S=JSON.parse(_.toString());h.send(S)}catch(x){l.warn("Failed to read persisted file",x)}})})}})})},p.prototype._onErrorHelper=function(h){typeof this._onError=="function"&&this._onError(h)},p.prototype._stringify=function(h){try{return JSON.stringify(h)}catch(m){l.warn("Failed to serialize payload",m,h)}},p.prototype._fileCleanupTask=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){g?h._onErrorHelper(g):(v=v.filter(function(y){return s.basename(y).indexOf(".ai.json")>-1}),v.length>0&&v.forEach(function(y){var b=new Date(parseInt(y.split(".ai.json")[0])),C=new Date(+new Date-p.FILE_RETEMPTION_PERIOD)>b;if(C){var _=s.join(h._tempDir,y);i.unlink(_,function(P){P&&h._onErrorHelper(P)})}}))})})},p.TAG="Sender",p.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",p.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",p.ACLED_DIRECTORIES={},p.ACL_IDENTITY=null,p.WAIT_BETWEEN_RESEND=60*1e3,p.MAX_BYTES_ON_DISK=50*1024*1024,p.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,p.CLEANUP_TIMEOUT=60*60*1e3,p.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,p.TEMPDIR_PREFIX="appInsights-node",p.OS_PROVIDES_FILE_PROTECTION=!1,p.USE_ICACLS=o.type()==="Windows_NT",p}();t.exports=d}),wfe=L((e,t)=>{"use strict";var r=En(),n=Ei(),i=xf(),o=function(){function a(){}return a.createEnvelope=function(c,l,u,f,d){var p=null;switch(l){case r.TelemetryType.Trace:p=a.createTraceData(c);break;case r.TelemetryType.Dependency:p=a.createDependencyData(c);break;case r.TelemetryType.Event:p=a.createEventData(c);break;case r.TelemetryType.Exception:p=a.createExceptionData(c);break;case r.TelemetryType.Request:p=a.createRequestData(c);break;case r.TelemetryType.Metric:p=a.createMetricData(c);break;case r.TelemetryType.Availability:p=a.createAvailabilityData(c);break;case r.TelemetryType.PageView:p=a.createPageViewData(c);break}if(u&&r.domainSupportsProperties(p.baseData)){if(p&&p.baseData)if(!p.baseData.properties)p.baseData.properties=u;else for(var h in u)p.baseData.properties[h]||(p.baseData.properties[h]=u[h]);p.baseData.properties=n.validateStringMap(p.baseData.properties)}var m=d&&d.instrumentationKey||"",g=new r.Envelope;return g.data=p,g.iKey=m,g.name="Microsoft.ApplicationInsights."+m.replace(/-/g,"")+"."+p.baseType.substr(0,p.baseType.length-4),g.tags=this.getTags(f,c.tagOverrides),g.time=new Date().toISOString(),g.ver=1,g.sampleRate=d?d.samplingPercentage:100,l===r.TelemetryType.Metric&&(g.sampleRate=100),g},a.createTraceData=function(c){var l=new r.MessageData;l.message=c.message,l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Information:l.severityLevel=c.severity;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),u.baseData=l,u},a.createDependencyData=function(c){var l=new r.RemoteDependencyData;typeof c.name=="string"&&(l.name=c.name.length>1024?c.name.slice(0,1021)+"...":c.name),l.data=c.data,l.target=c.target,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.type=c.dependencyTypeName,l.properties=c.properties,l.resultCode=c.resultCode?c.resultCode+"":"",c.id?l.id=c.id:l.id=n.w3cTraceId();var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),u.baseData=l,u},a.createEventData=function(c){var l=new r.EventData;l.name=c.name,l.properties=c.properties,l.measurements=c.measurements;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),u.baseData=l,u},a.createExceptionData=function(c){var l=new r.ExceptionData;l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Error:l.severityLevel=c.severity,l.measurements=c.measurements,l.exceptions=[];var u=c.exception.stack,f=new r.ExceptionDetails;f.message=c.exception.message,f.typeName=c.exception.name,f.parsedStack=this.parseStack(u),f.hasFullStack=n.isArray(f.parsedStack)&&f.parsedStack.length>0,l.exceptions.push(f);var d=new r.Data;return d.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),d.baseData=l,d},a.createRequestData=function(c){var l=new r.RequestData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.url=c.url,l.source=c.source,l.duration=n.msToTimeSpan(c.duration),l.responseCode=c.resultCode?c.resultCode+"":"",l.success=c.success,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),u.baseData=l,u},a.createMetricData=function(c){var l=new r.MetricData;l.metrics=[];var u=new r.DataPoint;u.count=isNaN(c.count)?1:c.count,u.kind=r.DataPointType.Aggregation,u.max=isNaN(c.max)?c.value:c.max,u.min=isNaN(c.min)?c.value:c.min,u.name=c.name,u.stdDev=isNaN(c.stdDev)?0:c.stdDev,u.value=c.value,l.metrics.push(u),l.properties=c.properties;var f=new r.Data;return f.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),f.baseData=l,f},a.createAvailabilityData=function(c){var l=new r.AvailabilityData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.runLocation=c.runLocation,l.message=c.message,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),u.baseData=l,u},a.createPageViewData=function(c){var l=new r.PageViewData;l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.url=c.url,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),u.baseData=l,u},a.getTags=function(c,l){var u=i.CorrelationContextManager.getCurrentContext(),f={};if(c&&c.tags)for(var d in c.tags)f[d]=c.tags[d];if(l)for(var d in l)f[d]=l[d];return u&&(f[c.keys.operationId]=f[c.keys.operationId]||u.operation.id,f[c.keys.operationName]=f[c.keys.operationName]||u.operation.name,f[c.keys.operationParentId]=f[c.keys.operationParentId]||u.operation.parentId),f},a.parseStack=function(c){var l=void 0;if(typeof c=="string"){var u=c.split(`
`);l=[];for(var f=0,d=0,p=0;p<=u.length;p++){var h=u[p];if(s.regex.test(h)){var m=new s(u[p],f++);d+=m.sizeInBytes,l.push(m)}}var g=32*1024;if(d>g)for(var v=0,y=l.length-1,b=0,C=v,_=y;v<y;){var P=l[v].sizeInBytes,S=l[y].sizeInBytes;if(b+=P+S,b>g){var x=_-C+1;l.splice(C,x);break}C=v,_=y,v++,y--}}return l},a}(),s=function(){function a(c,l){this.sizeInBytes=0,this.level=l,this.method="<no_method>",this.assembly=n.trim(c);var u=c.match(a.regex);u&&u.length>=5&&(this.method=n.trim(u[2])||this.method,this.fileName=n.trim(u[4])||"<no_filename>",this.line=parseInt(u[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=a.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return a.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,a.baseSize=58,a}();t.exports=o}),Cfe=L((e,t)=>{"use strict";var r=require("url"),n=pV(),i=Kw(),o=En(),s=dfe(),a=vfe(),c=xf(),l=yfe(),u=Ei(),f=Lr(),d=wfe(),p=function(){function h(m){this._telemetryProcessors=[],this._enableAzureProperties=!1;var g=new n(m);this.config=g,this.context=new i,this.commonProperties={};var v=new l(this.config);this.channel=new s(function(){return g.disableAppInsights},function(){return g.maxBatchSize},function(){return g.maxBatchIntervalMs},v)}return h.prototype.trackAvailability=function(m){this.track(m,o.TelemetryType.Availability)},h.prototype.trackPageView=function(m){this.track(m,o.TelemetryType.PageView)},h.prototype.trackTrace=function(m){this.track(m,o.TelemetryType.Trace)},h.prototype.trackMetric=function(m){this.track(m,o.TelemetryType.Metric)},h.prototype.trackException=function(m){m&&m.exception&&!u.isError(m.exception)&&(m.exception=new Error(m.exception.toString())),this.track(m,o.TelemetryType.Exception)},h.prototype.trackEvent=function(m){this.track(m,o.TelemetryType.Event)},h.prototype.trackRequest=function(m){this.track(m,o.TelemetryType.Request)},h.prototype.trackDependency=function(m){m&&!m.target&&m.data&&(m.target=r.parse(m.data).host),this.track(m,o.TelemetryType.Dependency)},h.prototype.flush=function(m){this.channel.triggerSend(m?!!m.isAppCrashing:!1,m?m.callback:void 0)},h.prototype.track=function(m,g){if(m&&o.telemetryTypeToBaseType(g)){var v=d.createEnvelope(m,g,this.commonProperties,this.context,this.config);m.time&&(v.time=m.time.toISOString()),this._enableAzureProperties&&a.azureRoleEnvironmentTelemetryProcessor(v,this.context);var y=this.runTelemetryProcessors(v,m.contextObjects);y=y&&a.samplingTelemetryProcessor(v,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),a.preAggregatedMetricsTelemetryProcessor(v,this.context),y&&(a.performanceMetricsTelemetryProcessor(v,this.quickPulseClient),this.channel.send(v))}else f.warn("track() requires telemetry object and telemetryType to be specified.")},h.prototype.setAutoPopulateAzureProperties=function(m){this._enableAzureProperties=m},h.prototype.addTelemetryProcessor=function(m){this._telemetryProcessors.push(m)},h.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},h.prototype.runTelemetryProcessors=function(m,g){var v=!0,y=this._telemetryProcessors.length;if(y===0)return v;g=g||{},g.correlationContext=c.CorrelationContextManager.getCurrentContext();for(var b=0;b<y;++b)try{var C=this._telemetryProcessors[b];if(C&&C.apply(null,[m,g])===!1){v=!1;break}}catch(_){v=!0,f.warn("One of telemetry processors failed, telemetry item will be sent.",_,m)}return v&&(m&&m.tags&&(m.tags=u.validateStringMap(m.tags)),m&&m.data&&m.data.baseData&&m.data.baseData.properties&&(m.data.baseData.properties=u.validateStringMap(m.data.baseData.properties))),v},h}();t.exports=p}),bfe=L((e,t)=>{"use strict";var r=e&&e.__extends||function(){var c=function(l,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(f[p]=d[p])},c(l,u)};return function(l,u){c(l,u);function f(){this.constructor=l}l.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}(),n=Cfe(),i=dV(),o=kh(),s=Lr(),a=function(c){r(l,c);function l(){return c!==null&&c.apply(this,arguments)||this}return l.prototype.trackNodeHttpRequestSync=function(u){u&&u.request&&u.response&&u.duration?i.trackRequestSync(this,u):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},l.prototype.trackNodeHttpRequest=function(u){(u.duration||u.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),u&&u.request&&u.response?i.trackRequest(this,u):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},l.prototype.trackNodeHttpDependency=function(u){u&&u.request?o.trackRequest(this,u):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},l}(n);t.exports=a}),Efe=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),_fe=L(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t=xf(),r=Kue(),n=Yue(),i=GP(),o=fV(),s=ofe(),a=kh(),c=dV(),l=Sf(),u=Lr(),f=lfe(),d=ffe();e.TelemetryClient=bfe(),e.Contracts=En(),e.azureFunctionsTypes=Efe();var p;(function(Re){Re[Re.AI=0]="AI",Re[Re.AI_AND_W3C=1]="AI_AND_W3C"})(p=e.DistributedTracingModes||(e.DistributedTracingModes={}));var h=!0,m=!1,g=!0,v=!0,y=!0,b=!1,C=!0,_=!0,P=!0,S=!0,x,I=!1,A=!0,O,q=void 0,J=void 0,K,ee,re,j,F,D,$,Y,X=!1,Q;function ve(Re){return e.defaultClient?u.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(Re),K=new r(e.defaultClient),ee=new n(e.defaultClient),re=new i(e.defaultClient),j=new o(e.defaultClient),F=new s(e.defaultClient),$=new c(e.defaultClient),Y=new a(e.defaultClient),D||(D=new d.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(P,q,J),_t}e.setup=ve;function Ae(){return e.defaultClient?(X=!0,K.enable(h,m),ee.enable(g),re.enable(v),j.enable(y),F.enable(b,e.defaultClient.config),D.enable(A,O),$.useAutoCorrelation(S,x),$.enable(C),Y.enable(_),e.liveMetricsClient&&I&&e.liveMetricsClient.enable(I)):u.warn("Start cannot be called before setup"),_t}e.start=Ae;function Se(){return S?t.CorrelationContextManager.getCurrentContext():null}e.getCorrelationContext=Se;function Oe(Re,Te){return t.CorrelationContextManager.startOperation(Re,Te)}e.startOperation=Oe;function Ee(Re,Te){return t.CorrelationContextManager.wrapCallback(Re,Te)}e.wrapWithCorrelationContext=Ee;var _t=function(){function Re(){}return Re.setDistributedTracingMode=function(Te){return l.w3cEnabled=Te===p.AI_AND_W3C,Re},Re.setAutoCollectConsole=function(Te,Fe){return Fe===void 0&&(Fe=!1),h=Te,m=Fe,X&&K.enable(Te,Fe),Re},Re.setAutoCollectExceptions=function(Te){return g=Te,X&&ee.enable(Te),Re},Re.setAutoCollectPerformance=function(Te,Fe){Fe===void 0&&(Fe=!0),v=Te;var Xe=d.AutoCollectNativePerformance.parseEnabled(Fe);return A=Xe.isEnabled,O=Xe.disabledMetrics,X&&(re.enable(Te),D.enable(Xe.isEnabled,Xe.disabledMetrics)),Re},Re.setAutoCollectPreAggregatedMetrics=function(Te){return y=Te,X&&j.enable(Te),Re},Re.setAutoCollectHeartbeat=function(Te){return b=Te,X&&F.enable(Te,e.defaultClient.config),Re},Re.setAutoCollectRequests=function(Te){return C=Te,X&&$.enable(Te),Re},Re.setAutoCollectDependencies=function(Te){return _=Te,X&&Y.enable(Te),Re},Re.setAutoDependencyCorrelation=function(Te,Fe){return S=Te,x=Fe,X&&$.useAutoCorrelation(Te,Fe),Re},Re.setUseDiskRetryCaching=function(Te,Fe,Xe){return P=Te,q=Fe,J=Xe,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(Te,Fe,Xe),Re},Re.setInternalLogging=function(Te,Fe){return Te===void 0&&(Te=!1),Fe===void 0&&(Fe=!0),u.enableDebug=Te,u.disableWarnings=!Fe,Re},Re.setSendLiveMetrics=function(Te){return Te===void 0&&(Te=!1),e.defaultClient?(!e.liveMetricsClient&&Te?(e.liveMetricsClient=new f(e.defaultClient.config,null),Q=new i(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(Q),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(Te),I=Te,Re):(u.warn("Live metrics client cannot be setup without the default client"),Re)},Re.start=Ae,Re}();e.Configuration=_t;function It(){l.w3cEnabled=!0,e.defaultClient=null,X=!1,K&&K.dispose(),ee&&ee.dispose(),re&&re.dispose(),j&&j.dispose(),F&&F.dispose(),D&&D.dispose(),$&&$.dispose(),Y&&Y.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),I=!1,e.liveMetricsClient=void 0)}e.dispose=It}),hV={};tce(hV,{default:()=>Rfe});mV.exports=rce(hV);var KP=zw(require("os")),Ea=zw(require("vscode")),Sfe=zw(require("https")),Ji=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",t="enableTelemetry";try{let r=this.vscodeAPI.env.telemetryConfiguration;return r.isUsageEnabled&&r.isErrorsEnabled&&r.isCrashEnabled?"on":r.isErrorsEnabled&&r.isCrashEnabled?"error":"off"}catch{return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(t)?"on":"off"}}static applyReplacements(e,t){for(let r of Object.keys(e))for(let n of t)n.lookup.test(r)&&(n.replacementString!==void 0?e[r]=n.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(e){return Ji._instance||(Ji._instance=new Ji(e)),Ji._instance}},xfe=class{constructor(e,t,r,n,i,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=r,this.osShim=n,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),i.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(i.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=Ji.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(r=>{e.indexOf(`${r}`)===0&&(t=r)}),t}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(e===null||typeof e!="object"||typeof t!="function")return e;let r={};for(let n in e)r[n]=t(n,e[n]);return r}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let r;if(e==null)return"";let n=[];this.vscodeAPI.env.appRoot!==""&&n.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let o=[];for(let l of n)for(;(r=l.exec(e))&&r;)o.push([r.index,l.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(r=a.exec(e))&&r;)r[0]&&!s.test(r[0])&&o.every(([l,u])=>r.index<l||r.index>=u)&&(i+=e.substring(c,r.index)+"<REDACTED: user-file-path>",c=a.lastIndex);c<e.length&&(i+=e.substr(c))}for(let o of n)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let t={};for(let r of Object.keys(e)){let n=e[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,s=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(n.toLowerCase())?t[r]="<REDACTED: secret>":i.test(n)?t[r]="<REDACTED: email>":s.test(n)?t[r]="<REDACTED: token>":t[r]=n}return t}get telemetryLevel(){switch(Ji.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,r,n,i){if((this.userOptIn||i)&&e!==""){if(t=fl(fl({},t),this.getCommonProperties()),n){let o=this.cloneAndChange(t,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t!=null?t:{},r=r!=null?r:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!0,!1)}sendRawTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1,!1)}sendDangerousTelemetryEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,r,n,!0)}internalSendTelemetryErrorEvent(e,t,r,n,i){if((this.shouldSendErrorTelemetry()||i)&&e!==""){if(t=fl(fl({},t),this.getCommonProperties()),n){let o=this.cloneAndChange(t,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t!=null?t:{},r=r!=null?r:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,r,n,!0)}internalSendTelemetryException(e,t,r,n,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=fl(fl({},t),this.getCommonProperties()),n){let o=this.cloneAndChange(t,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(o)}t=t!=null?t:{},r=r!=null?r:{},this.telemetryAppender.logException(e,{properties:t,measurements:r})}}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!0,!1)}sendDangerousTelemetryException(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,r,n,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}},Pfe=class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}logException(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:t});return}this._telemetryClient.logException(e,t)}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.logEvent(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.logException(e,t)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}},kfe=async(e,t,r)=>{let n=await Promise.resolve().then(()=>(sl(),qB)),i=await Promise.resolve().then(()=>(EH(),bH)),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(r){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:r};a.extensionConfig[s.identifier]=l}let c=t.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{var u,f;!c||(l.ext=(u=l.ext)!=null?u:{},l.ext.utc=(f=l.ext.utc)!=null?f:{},l.ext.utc.flags=8462029)}),o},Ife=async(e,t,r)=>{let n=await kfe(e,t,r);return{logEvent:(i,o)=>{try{n==null||n.track({name:i,baseData:{name:i,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(s){throw new Error(`Failed to log event to app insights!
`+s.message)}},logException:(i,o)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{n==null||n.unload()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}}}},Tfe=async(e,t)=>{let r;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let n=await Promise.resolve().then(()=>zw(_fe()));n.defaultClient?(r=new n.TelemetryClient(e),r.channel.setUseDiskRetryCaching(!0)):(n.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),r=n.defaultClient),Ea&&Ea.env&&(r.context.tags[r.context.keys.userId]=Ea.env.machineId,r.context.tags[r.context.keys.sessionId]=Ea.env.sessionId,r.context.tags[r.context.keys.cloudRole]=Ea.env.appName,r.context.tags[r.context.keys.cloudRoleInstance]=Ea.env.appName),e&&e.indexOf("AIF-")===0&&(r.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(n){return Promise.reject(`Failed to initialize app insights!
`+n.message)}return t!=null&&t.length&&Afe(r,t),{logEvent:(n,i)=>{try{r==null||r.trackEvent({name:n,properties:i==null?void 0:i.properties,measurements:i==null?void 0:i.measurements})}catch(o){throw new Error(`Failed to log event to app insights!
`+o.message)}},logException:(n,i)=>{try{r==null||r.trackException({exception:n,properties:i==null?void 0:i.properties,measurements:i==null?void 0:i.measurements})}catch(o){throw new Error(`Failed to log exception to app insights!
`+o.message)}},flush:async()=>{try{r==null||r.flush()}catch(n){throw new Error(`Failed to flush app insights!
`+n.message)}}}};function Afe(e,t){e.addTelemetryProcessor(r=>(Array.isArray(r.tags)?r.tags.forEach(n=>Ji.applyReplacements(n,t)):r.tags&&Ji.applyReplacements(r.tags,t),r.data.baseData&&Ji.applyReplacements(r.data.baseData,t),!0))}function Dfe(){return{sendPOST:(e,t)=>{let r={method:"POST",headers:ece(fl({},e.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)})};try{let n=Sfe.request(e.urlString,r,i=>{i.on("data",function(o){var s;t((s=i.statusCode)!=null?s:200,i.headers,o.toString())}),i.on("error",function(){t(0,{})})});n.write(e.data),n.end()}catch{t(0,{})}}}}var Rfe=class extends xfe{constructor(e,t,r,n,i){let o=a=>Tfe(a,i);Ji.shouldUseOneDataSystemSDK(r)&&(o=a=>Ife(a,Ea,Dfe()));let s=new Pfe(r,o);r&&(r.indexOf("AIF-")===0||Ji.shouldUseOneDataSystemSDK(r))&&(n=!0),super(e,t,s,{release:KP.release(),platform:KP.platform(),architecture:KP.arch()},Ea,n)}}});var YP=T(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});var Yw=require("vscode"),Ih=class{constructor(t,r,n){this.extensionName=t,this.extensionVersion=r,this.targetPopulation=n}static trimVersionSuffix(t){let r=/\-[a-zA-Z0-9]+$/;return t.split(r)[0]}getFilterValue(t){switch(t){case Cs.ApplicationVersion:return Ih.trimVersionSuffix(Yw.version);case Cs.Build:return Yw.env.appName;case Cs.ClientId:return Yw.env.machineId;case Cs.ExtensionName:return this.extensionName;case Cs.ExtensionVersion:return Ih.trimVersionSuffix(this.extensionVersion);case Cs.Language:return Yw.env.language;case Cs.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let t=new Map,r=Object.values(Cs);for(let n of r)t.set(n,this.getFilterValue(n));return t}};dl.VSCodeFilterProvider=Ih;var Cs;(function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"})(Cs=dl.Filters||(dl.Filters={}));var Ofe;(function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"})(Ofe=dl.TargetPopulation||(dl.TargetPopulation={}))});var yV=T(JP=>{"use strict";Object.defineProperty(JP,"__esModule",{value:!0});var vV=class{constructor(t){this.telemetry=t,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let t=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,t}};JP.BaseFeatureProvider=vV});var CV=T(QP=>{"use strict";Object.defineProperty(QP,"__esModule",{value:!0});var Nfe=yV(),wV=class extends Nfe.BaseFeatureProvider{constructor(t,r){super(t);this.telemetry=t,this.filterProviders=r,this.cachedTelemetryEvents=[]}getFilters(){let t=new Map;for(let r of this.filterProviders){let n=r.getFilters();for(let i of n.keys()){let o=n.get(i);t.set(i,o)}}return t}PostEventToTelemetry(t){if(this.cachedTelemetryEvents.includes(t))return;let r=JSON.stringify(t);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",r]])),this.cachedTelemetryEvents.push(t)}};QP.FilteredFeatureProvider=wV});var EV=T(XP=>{"use strict";Object.defineProperty(XP,"__esModule",{value:!0});var Lfe=CV(),bV=class extends Lfe.FilteredFeatureProvider{constructor(t,r,n){super(r,n);this.httpClient=t,this.telemetry=r,this.filterProviders=n}async fetch(){let t=this.getFilters(),r={};for(let a of t.keys()){let c=t.get(a);r[a]=c}let n=await this.httpClient.get({headers:r});t.keys.length>0&&this.PostEventToTelemetry(r);let i=n.data,o=i.Configs,s=[];for(let a of o)if(!!a.Parameters)for(let c of Object.keys(a.Parameters)){let l=c+(a.Parameters[c]?"":"cf");s.includes(l)||s.push(l)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};XP.TasApiFeatureProvider=bV});var ZP=T((U1e,_V)=>{"use strict";_V.exports=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}}});var nn=T((B1e,PV)=>{"use strict";var Ffe=ZP(),pl=Object.prototype.toString;function ek(e){return pl.call(e)==="[object Array]"}function tk(e){return typeof e=="undefined"}function Mfe(e){return e!==null&&!tk(e)&&e.constructor!==null&&!tk(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function qfe(e){return pl.call(e)==="[object ArrayBuffer]"}function jfe(e){return typeof FormData!="undefined"&&e instanceof FormData}function $fe(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function Ufe(e){return typeof e=="string"}function Bfe(e){return typeof e=="number"}function SV(e){return e!==null&&typeof e=="object"}function Jw(e){if(pl.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Hfe(e){return pl.call(e)==="[object Date]"}function Vfe(e){return pl.call(e)==="[object File]"}function zfe(e){return pl.call(e)==="[object Blob]"}function xV(e){return pl.call(e)==="[object Function]"}function Wfe(e){return SV(e)&&xV(e.pipe)}function Gfe(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function Kfe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Yfe(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function rk(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),ek(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function nk(){var e={};function t(i,o){Jw(e[o])&&Jw(i)?e[o]=nk(e[o],i):Jw(i)?e[o]=nk({},i):ek(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)rk(arguments[r],t);return e}function Jfe(e,t,r){return rk(t,function(i,o){r&&typeof i=="function"?e[o]=Ffe(i,r):e[o]=i}),e}function Qfe(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}PV.exports={isArray:ek,isArrayBuffer:qfe,isBuffer:Mfe,isFormData:jfe,isArrayBufferView:$fe,isString:Ufe,isNumber:Bfe,isObject:SV,isPlainObject:Jw,isUndefined:tk,isDate:Hfe,isFile:Vfe,isBlob:zfe,isFunction:xV,isStream:Wfe,isURLSearchParams:Gfe,isStandardBrowserEnv:Yfe,forEach:rk,merge:nk,extend:Jfe,trim:Kfe,stripBOM:Qfe}});var Qw=T((H1e,IV)=>{"use strict";var Pf=nn();function kV(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}IV.exports=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Pf.isURLSearchParams(r))i=r.toString();else{var o=[];Pf.forEach(r,function(c,l){c===null||typeof c=="undefined"||(Pf.isArray(c)?l=l+"[]":c=[c],Pf.forEach(c,function(f){Pf.isDate(f)?f=f.toISOString():Pf.isObject(f)&&(f=JSON.stringify(f)),o.push(kV(l)+"="+kV(f))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var AV=T((V1e,TV)=>{"use strict";var Xfe=nn();function Xw(){this.handlers=[]}Xw.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Xw.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Xw.prototype.forEach=function(t){Xfe.forEach(this.handlers,function(n){n!==null&&t(n)})};TV.exports=Xw});var RV=T((z1e,DV)=>{"use strict";var Zfe=nn();DV.exports=function(t,r){Zfe.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})}});var Zw=T((W1e,OV)=>{"use strict";OV.exports=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var eC=T((G1e,NV)=>{"use strict";var ede=Zw();NV.exports=function(t,r,n,i,o){var s=new Error(t);return ede(s,r,n,i,o)}});var ik=T((K1e,LV)=>{"use strict";var tde=eC();LV.exports=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(tde("Request failed with status code "+n.status,n.config,null,n.request,n))}});var MV=T((Y1e,FV)=>{"use strict";var tC=nn();FV.exports=tC.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,s,a){var c=[];c.push(r+"="+encodeURIComponent(n)),tC.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),tC.isString(o)&&c.push("path="+o),tC.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var jV=T((J1e,qV)=>{"use strict";qV.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var UV=T((Q1e,$V)=>{"use strict";$V.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var ok=T((X1e,BV)=>{"use strict";var rde=jV(),nde=UV();BV.exports=function(t,r){return t&&!rde(r)?nde(t,r):r}});var VV=T((Z1e,HV)=>{"use strict";var sk=nn(),ide=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];HV.exports=function(t){var r={},n,i,o;return t&&sk.forEach(t.split(`
`),function(a){if(o=a.indexOf(":"),n=sk.trim(a.substr(0,o)).toLowerCase(),i=sk.trim(a.substr(o+1)),n){if(r[n]&&ide.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var GV=T((eFe,WV)=>{"use strict";var zV=nn();WV.exports=zV.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var s=o;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){var a=zV.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}()});var kf=T((tFe,KV)=>{"use strict";function ak(e){this.message=e}ak.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};ak.prototype.__CANCEL__=!0;KV.exports=ak});var JV=T((rFe,YV)=>{"use strict";var rC=nn(),ode=ik(),sde=MV(),ade=Qw(),cde=ok(),lde=VV(),ude=GV(),ck=eC(),fde=If(),dde=kf();YV.exports=function(t){return new Promise(function(n,i){var o=t.data,s=t.headers,a=t.responseType,c;function l(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}rC.isFormData(o)&&delete s["Content-Type"];var u=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",d=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(f+":"+d)}var p=cde(t.baseURL,t.url);u.open(t.method.toUpperCase(),ade(p,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function h(){if(!!u){var g="getAllResponseHeaders"in u?lde(u.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?u.responseText:u.response,y={data:v,status:u.status,statusText:u.statusText,headers:g,config:t,request:u};ode(function(C){n(C),l()},function(C){i(C),l()},y),u=null}}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){!u||(i(ck("Request aborted",t,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(ck("Network Error",t,null,u)),u=null},u.ontimeout=function(){var v="timeout of "+t.timeout+"ms exceeded",y=t.transitional||fde.transitional;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),i(ck(v,t,y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},rC.isStandardBrowserEnv()){var m=(t.withCredentials||ude(p))&&t.xsrfCookieName?sde.read(t.xsrfCookieName):void 0;m&&(s[t.xsrfHeaderName]=m)}"setRequestHeader"in u&&rC.forEach(s,function(v,y){typeof o=="undefined"&&y.toLowerCase()==="content-type"?delete s[y]:u.setRequestHeader(y,v)}),rC.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),a&&a!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(c=function(g){!u||(i(!g||g&&g.type?new dde("canceled"):g),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c))),o||(o=null),u.send(o)})}});var nC=T((nFe,QV)=>{QV.exports={version:"0.22.0"}});var n3=T((iFe,r3)=>{"use strict";var Th=nn(),XV=ik(),pde=ok(),hde=Qw(),mde=require("http"),gde=require("https"),vde=tu().http,yde=tu().https,ZV=require("url"),wde=require("zlib"),Cde=nC().version,iC=eC(),lk=Zw(),bde=If(),Ede=kf(),e3=/https:?/;function t3(e,t,r){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=r,t.auth){var n=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+n}e.beforeRedirect=function(o){o.headers.host=o.host,t3(o,t,o.href)}}r3.exports=function(t){return new Promise(function(n,i){var o;function s(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}var a=function(Y){s(),n(Y)},c=function(Y){s(),i(Y)},l=t.data,u=t.headers,f={};if(Object.keys(u).forEach(function(Y){f[Y.toLowerCase()]=Y}),"user-agent"in f?u[f["user-agent"]]||delete u[f["user-agent"]]:u["User-Agent"]="axios/"+Cde,l&&!Th.isStream(l)){if(!Buffer.isBuffer(l))if(Th.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else if(Th.isString(l))l=Buffer.from(l,"utf-8");else return c(iC("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));f["content-length"]||(u["Content-Length"]=l.length)}var d=void 0;if(t.auth){var p=t.auth.username||"",h=t.auth.password||"";d=p+":"+h}var m=pde(t.baseURL,t.url),g=ZV.parse(m),v=g.protocol||"http:";if(!d&&g.auth){var y=g.auth.split(":"),b=y[0]||"",C=y[1]||"";d=b+":"+C}d&&f.authorization&&delete u[f.authorization];var _=e3.test(v),P=_?t.httpsAgent:t.httpAgent,S={path:hde(g.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:u,agent:P,agents:{http:t.httpAgent,https:t.httpsAgent},auth:d};t.socketPath?S.socketPath=t.socketPath:(S.hostname=g.hostname,S.port=g.port);var x=t.proxy;if(!x&&x!==!1){var I=v.slice(0,-1)+"_proxy",A=process.env[I]||process.env[I.toUpperCase()];if(A){var O=ZV.parse(A),q=process.env.no_proxy||process.env.NO_PROXY,J=!0;if(q){var K=q.split(",").map(function(Y){return Y.trim()});J=!K.some(function(Y){return Y?Y==="*"||Y[0]==="."&&g.hostname.substr(g.hostname.length-Y.length)===Y?!0:g.hostname===Y:!1})}if(J&&(x={host:O.hostname,port:O.port,protocol:O.protocol},O.auth)){var ee=O.auth.split(":");x.auth={username:ee[0],password:ee[1]}}}}x&&(S.headers.host=g.hostname+(g.port?":"+g.port:""),t3(S,x,v+"//"+g.hostname+(g.port?":"+g.port:"")+S.path));var re,j=_&&(x?e3.test(x.protocol):!0);t.transport?re=t.transport:t.maxRedirects===0?re=j?gde:mde:(t.maxRedirects&&(S.maxRedirects=t.maxRedirects),re=j?yde:vde),t.maxBodyLength>-1&&(S.maxBodyLength=t.maxBodyLength),t.insecureHTTPParser&&(S.insecureHTTPParser=t.insecureHTTPParser);var F=re.request(S,function(Y){if(!F.aborted){var X=Y,Q=Y.req||F;if(Y.statusCode!==204&&Q.method!=="HEAD"&&t.decompress!==!1)switch(Y.headers["content-encoding"]){case"gzip":case"compress":case"deflate":X=X.pipe(wde.createUnzip()),delete Y.headers["content-encoding"];break}var ve={status:Y.statusCode,statusText:Y.statusMessage,headers:Y.headers,config:t,request:Q};if(t.responseType==="stream")ve.data=X,XV(a,c,ve);else{var Ae=[],Se=0;X.on("data",function(Ee){Ae.push(Ee),Se+=Ee.length,t.maxContentLength>-1&&Se>t.maxContentLength&&(X.destroy(),c(iC("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,Q)))}),X.on("error",function(Ee){F.aborted||c(lk(Ee,t,null,Q))}),X.on("end",function(){var Ee=Buffer.concat(Ae);t.responseType!=="arraybuffer"&&(Ee=Ee.toString(t.responseEncoding),(!t.responseEncoding||t.responseEncoding==="utf8")&&(Ee=Th.stripBOM(Ee))),ve.data=Ee,XV(a,c,ve)})}}});if(F.on("error",function(Y){F.aborted&&Y.code!=="ERR_FR_TOO_MANY_REDIRECTS"||c(lk(Y,t,null,F))}),t.timeout){var D=parseInt(t.timeout,10);if(isNaN(D)){c(iC("error trying to parse `config.timeout` to int",t,"ERR_PARSE_TIMEOUT",F));return}F.setTimeout(D,function(){F.abort();var Y=t.transitional||bde.transitional;c(iC("timeout of "+D+"ms exceeded",t,Y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",F))})}(t.cancelToken||t.signal)&&(o=function($){F.aborted||(F.abort(),c(!$||$&&$.type?new Ede("canceled"):$))},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o))),Th.isStream(l)?l.on("error",function(Y){c(lk(Y,t,null,F))}).pipe(F):F.end(l)})}});var If=T((oFe,s3)=>{"use strict";var Fr=nn(),i3=RV(),_de=Zw(),Sde={"Content-Type":"application/x-www-form-urlencoded"};function o3(e,t){!Fr.isUndefined(e)&&Fr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function xde(){var e;return typeof XMLHttpRequest!="undefined"?e=JV():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=n3()),e}function Pde(e,t,r){if(Fr.isString(e))try{return(t||JSON.parse)(e),Fr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var oC={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:xde(),transformRequest:[function(t,r){return i3(r,"Accept"),i3(r,"Content-Type"),Fr.isFormData(t)||Fr.isArrayBuffer(t)||Fr.isBuffer(t)||Fr.isStream(t)||Fr.isFile(t)||Fr.isBlob(t)?t:Fr.isArrayBufferView(t)?t.buffer:Fr.isURLSearchParams(t)?(o3(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Fr.isObject(t)||r&&r["Content-Type"]==="application/json"?(o3(r,"application/json"),Pde(t)):t}],transformResponse:[function(t){var r=this.transitional||oC.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Fr.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?_de(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Fr.forEach(["delete","get","head"],function(t){oC.headers[t]={}});Fr.forEach(["post","put","patch"],function(t){oC.headers[t]=Fr.merge(Sde)});s3.exports=oC});var c3=T((sFe,a3)=>{"use strict";var kde=nn(),Ide=If();a3.exports=function(t,r,n){var i=this||Ide;return kde.forEach(n,function(s){t=s.call(i,t,r)}),t}});var uk=T((aFe,l3)=>{"use strict";l3.exports=function(t){return!!(t&&t.__CANCEL__)}});var d3=T((cFe,f3)=>{"use strict";var u3=nn(),fk=c3(),Tde=uk(),Ade=If(),Dde=kf();function dk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dde("canceled")}f3.exports=function(t){dk(t),t.headers=t.headers||{},t.data=fk.call(t,t.data,t.headers,t.transformRequest),t.headers=u3.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),u3.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||Ade.adapter;return r(t).then(function(i){return dk(t),i.data=fk.call(t,i.data,i.headers,t.transformResponse),i},function(i){return Tde(i)||(dk(t),i&&i.response&&(i.response.data=fk.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var pk=T((lFe,p3)=>{"use strict";var Wn=nn();p3.exports=function(t,r){r=r||{};var n={};function i(u,f){return Wn.isPlainObject(u)&&Wn.isPlainObject(f)?Wn.merge(u,f):Wn.isPlainObject(f)?Wn.merge({},f):Wn.isArray(f)?f.slice():f}function o(u){if(Wn.isUndefined(r[u])){if(!Wn.isUndefined(t[u]))return i(void 0,t[u])}else return i(t[u],r[u])}function s(u){if(!Wn.isUndefined(r[u]))return i(void 0,r[u])}function a(u){if(Wn.isUndefined(r[u])){if(!Wn.isUndefined(t[u]))return i(void 0,t[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(t[u],r[u]);if(u in t)return i(void 0,t[u])}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Wn.forEach(Object.keys(t).concat(Object.keys(r)),function(f){var d=l[f]||o,p=d(f);Wn.isUndefined(p)&&d!==c||(n[f]=p)}),n}});var g3=T((uFe,m3)=>{"use strict";var Rde=nC().version,hk={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){hk[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var h3={};hk.transitional=function(t,r,n){function i(o,s){return"[Axios v"+Rde+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(t===!1)throw new Error(i(s," has been removed"+(r?" in "+r:"")));return r&&!h3[s]&&(h3[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,s,a):!0}};function Ode(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],c=a===void 0||s(a,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}m3.exports={assertOptions:Ode,validators:hk}});var E3=T((fFe,b3)=>{"use strict";var v3=nn(),Nde=Qw(),y3=AV(),w3=d3(),sC=pk(),C3=g3(),Tf=C3.validators;function Ah(e){this.defaults=e,this.interceptors={request:new y3,response:new y3}}Ah.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=sC(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&C3.assertOptions(r,{silentJSONParsing:Tf.transitional(Tf.boolean),forcedJSONParsing:Tf.transitional(Tf.boolean),clarifyTimeoutError:Tf.transitional(Tf.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(i=i&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var o=[];this.interceptors.response.forEach(function(d){o.push(d.fulfilled,d.rejected)});var s;if(!i){var a=[w3,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(o),s=Promise.resolve(t);a.length;)s=s.then(a.shift(),a.shift());return s}for(var c=t;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{s=w3(c)}catch(f){return Promise.reject(f)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};Ah.prototype.getUri=function(t){return t=sC(this.defaults,t),Nde(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};v3.forEach(["delete","get","head","options"],function(t){Ah.prototype[t]=function(r,n){return this.request(sC(n||{},{method:t,url:r,data:(n||{}).data}))}});v3.forEach(["post","put","patch"],function(t){Ah.prototype[t]=function(r,n,i){return this.request(sC(i||{},{method:t,url:r,data:n}))}});b3.exports=Ah});var S3=T((dFe,_3)=>{"use strict";var Lde=kf();function Af(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(s){r.subscribe(s),i=s}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new Lde(i),t(r.reason))})}Af.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Af.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Af.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};Af.source=function(){var t,r=new Af(function(i){t=i});return{token:r,cancel:t}};_3.exports=Af});var P3=T((pFe,x3)=>{"use strict";x3.exports=function(t){return function(n){return t.apply(null,n)}}});var I3=T((hFe,k3)=>{"use strict";k3.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var D3=T((mFe,mk)=>{"use strict";var T3=nn(),Fde=ZP(),aC=E3(),Mde=pk(),qde=If();function A3(e){var t=new aC(e),r=Fde(aC.prototype.request,t);return T3.extend(r,aC.prototype,t),T3.extend(r,t),r.create=function(i){return A3(Mde(e,i))},r}var Io=A3(qde);Io.Axios=aC;Io.Cancel=kf();Io.CancelToken=S3();Io.isCancel=uk();Io.VERSION=nC().version;Io.all=function(t){return Promise.all(t)};Io.spread=P3();Io.isAxiosError=I3();mk.exports=Io;mk.exports.default=Io});var O3=T((gFe,R3)=>{R3.exports=D3()});var L3=T(gk=>{"use strict";Object.defineProperty(gk,"__esModule",{value:!0});var jde=O3(),N3=class{constructor(t){this.endpoint=t}get(t){return jde.default.get(this.endpoint,Object.assign(Object.assign({},t),{proxy:!1}))}};gk.AxiosHttpClient=N3});var M3=T(vk=>{"use strict";Object.defineProperty(vk,"__esModule",{value:!0});var F3=class{constructor(){this.storage=new Map}async getValue(t,r){return this.storage.has(t)?await Promise.resolve(this.storage.get(t)):await Promise.resolve(r||void 0)}setValue(t,r){this.storage.set(t,r)}};vk.MemoryKeyValueStorage=F3});var j3=T(yk=>{"use strict";Object.defineProperty(yk,"__esModule",{value:!0});var $de=M3(),q3=class{constructor(t,r,n,i,o,s){this.telemetry=t,this.featuresTelemetryPropertyName=r,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=i,this.storageKey=o,this.storage=s,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(s=new $de.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((a,c)=>{this.resolveInitialFetchPromise=a})}get features(){return this._features}set features(t){this._features=t,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(t=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));try{let r=await this.fetchPromise;this.updateFeatures(r,t)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(t,r=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of t){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(r||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let t;this.storage&&(t=await this.storage.getValue(this.storageKey),t!==void 0&&t.configs===void 0&&(t.configs=[])),this.features.features.length===0&&(this.features=t||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(t){return this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isCachedFlightEnabled(t){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isFlightEnabledAsync(t){let r=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(t),r.features.includes(t)}getTreatmentVariable(t,r){var n;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${t}.${r}`),(n=this.features.configs.find(o=>o.Id===t))===null||n===void 0?void 0:n.Parameters[r]}async getTreatmentVariableAsync(t,r,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(t,r);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(t,r)}PostEventToTelemetry(t){this.cachedTelemetryEvents.includes(t)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",t]])),this.cachedTelemetryEvents.push(t))}invokeInit(){this.init()}addFeatureProvider(...t){if(!(t==null||this.featureProviders==null))for(let r of t)this.featureProviders.push(r)}};yk.ExperimentationServiceBase=q3});var U3=T(wk=>{"use strict";Object.defineProperty(wk,"__esModule",{value:!0});var $3=class{constructor(t){this.fetchInterval=t}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(t){this.onTick=t}StartPolling(t=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(t&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};wk.PollingService=$3});var H3=T(Ck=>{"use strict";Object.defineProperty(Ck,"__esModule",{value:!0});var Ude=j3(),Bde=U3(),B3=class extends Ude.ExperimentationServiceBase{constructor(t,r,n,i,o,s,a,c){super(t,i,o,s,a,c);if(this.telemetry=t,this.filterProviders=r,this.refreshRateMs=n,this.featuresTelemetryPropertyName=i,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=s,this.storageKey=a,this.storage=c,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new Bde.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(t=!1){if(this.pollingService){this.pollingService.StopPolling();let r=await super.getFeaturesAsync(t);return this.pollingService.StartPolling(),r}else return await super.getFeaturesAsync(t)}};Ck.ExperimentationServiceAutoPolling=B3});var V3=T(Ek=>{"use strict";Object.defineProperty(Ek,"__esModule",{value:!0});var Hde=EV(),Vde=L3(),zde=H3(),bk=class extends zde.ExperimentationServiceAutoPolling{constructor(t){super(t.telemetry,t.filterProviders||[],t.refetchInterval!=null?t.refetchInterval:0,t.featuresTelemetryPropertyName,t.assignmentContextTelemetryPropertyName,t.telemetryEventName,t.storageKey,t.keyValueStorage);this.options=t,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new Hde.TasApiFeatureProvider(new Vde.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};Ek.ExperimentationService=bk;bk.REFRESH_RATE_IN_MINUTES=30});var z3=T(_k=>{"use strict";Object.defineProperty(_k,"__esModule",{value:!0});var Wde=V3();_k.ExperimentationService=Wde.ExperimentationService});var G3=T(Sk=>{"use strict";Object.defineProperty(Sk,"__esModule",{value:!0});var W3=class{constructor(t){this.mementoGlobalStorage=t}async getValue(t,r){return await this.mementoGlobalStorage.get(t)||r}setValue(t,r){this.mementoGlobalStorage.update(t,r)}};Sk.MementoKeyValueStorage=W3});var Y3=T(xk=>{"use strict";Object.defineProperty(xk,"__esModule",{value:!0});var K3=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(t){return!1}isCachedFlightEnabled(t){return Promise.resolve(!1)}isFlightEnabledAsync(t){return Promise.resolve(!1)}getTreatmentVariable(t,r){}getTreatmentVariableAsync(t,r){return Promise.resolve(void 0)}};xk.default=K3});var Q3=T(cC=>{"use strict";Object.defineProperty(cC,"__esModule",{value:!0});var Gde=YP(),Kde=z3(),Pk=require("vscode"),Yde=G3(),Jde=Y3(),Qde="https://default.exp-tas.com/vscode/ab",Xde="query-expfeature",Zde="VSCode.ABExp.Features",epe="abexp.assignmentcontext",tpe="VSCode.ABExp.FeatureData",rpe=1e3*60*30;function J3(e,t,r,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=Pk.workspace.getConfiguration("telemetry");if(!(Pk.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):Pk.env.isTelemetryEnabled))return new Jde.default;let l=[new Gde.VSCodeFilterProvider(e,t,r),...o],u=new Yde.MementoKeyValueStorage(i);return new Kde.ExperimentationService({filterProviders:l,telemetry:n,storageKey:tpe,keyValueStorage:u,featuresTelemetryPropertyName:Zde,assignmentContextTelemetryPropertyName:epe,telemetryEventName:Xde,endpoint:Qde,refetchInterval:rpe})}cC.getExperimentationService=J3;async function npe(e,t,r,n,i,...o){let s=J3(e,t,r,n,i,...o);return await s.initializePromise,s}cC.getExperimentationServiceAsync=npe});var Z3=T(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});var X3=Q3();Dh.getExperimentationService=X3.getExperimentationService;Dh.getExperimentationServiceAsync=X3.getExperimentationServiceAsync;var ipe=YP();Dh.TargetPopulation=ipe.TargetPopulation});var bt=T(Sr=>{"use strict";var $k=Symbol.for("yaml.alias"),Sz=Symbol.for("yaml.document"),CC=Symbol.for("yaml.map"),xz=Symbol.for("yaml.pair"),Uk=Symbol.for("yaml.scalar"),bC=Symbol.for("yaml.seq"),Oo=Symbol.for("yaml.node.type"),kpe=e=>!!e&&typeof e=="object"&&e[Oo]===$k,Ipe=e=>!!e&&typeof e=="object"&&e[Oo]===Sz,Tpe=e=>!!e&&typeof e=="object"&&e[Oo]===CC,Ape=e=>!!e&&typeof e=="object"&&e[Oo]===xz,Pz=e=>!!e&&typeof e=="object"&&e[Oo]===Uk,Dpe=e=>!!e&&typeof e=="object"&&e[Oo]===bC;function kz(e){if(e&&typeof e=="object")switch(e[Oo]){case CC:case bC:return!0}return!1}function Rpe(e){if(e&&typeof e=="object")switch(e[Oo]){case $k:case CC:case Uk:case bC:return!0}return!1}var Ope=e=>(Pz(e)||kz(e))&&!!e.anchor,Iz=class{constructor(t){Object.defineProperty(this,Oo,{value:t})}clone(){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}};Sr.ALIAS=$k;Sr.DOC=Sz;Sr.MAP=CC;Sr.NODE_TYPE=Oo;Sr.NodeBase=Iz;Sr.PAIR=xz;Sr.SCALAR=Uk;Sr.SEQ=bC;Sr.hasAnchor=Ope;Sr.isAlias=kpe;Sr.isCollection=kz;Sr.isDocument=Ipe;Sr.isMap=Tpe;Sr.isNode=Rpe;Sr.isPair=Ape;Sr.isScalar=Pz;Sr.isSeq=Dpe});var Uh=T(Tz=>{"use strict";var _n=bt(),gl=Symbol("break visit"),Npe=Symbol("skip children"),$h=Symbol("remove node");function EC(e,t){typeof t=="object"&&(t.Collection||t.Node||t.Value)&&(t=Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t)),_n.isDocument(e)?Lf(null,e.contents,t,Object.freeze([e]))===$h&&(e.contents=null):Lf(null,e,t,Object.freeze([]))}EC.BREAK=gl;EC.SKIP=Npe;EC.REMOVE=$h;function Lf(e,t,r,n){let i;if(typeof r=="function"?i=r(e,t,n):_n.isMap(t)?r.Map&&(i=r.Map(e,t,n)):_n.isSeq(t)?r.Seq&&(i=r.Seq(e,t,n)):_n.isPair(t)?r.Pair&&(i=r.Pair(e,t,n)):_n.isScalar(t)?r.Scalar&&(i=r.Scalar(e,t,n)):_n.isAlias(t)&&r.Alias&&(i=r.Alias(e,t,n)),_n.isNode(i)||_n.isPair(i)){let o=n[n.length-1];if(_n.isCollection(o))o.items[e]=i;else if(_n.isPair(o))e==="key"?o.key=i:o.value=i;else if(_n.isDocument(o))o.contents=i;else{let s=_n.isAlias(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}return Lf(e,i,r,n)}if(typeof i!="symbol"){if(_n.isCollection(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){let s=Lf(o,t.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===gl)return gl;s===$h&&(t.items.splice(o,1),o-=1)}}}else if(_n.isPair(t)){n=Object.freeze(n.concat(t));let o=Lf("key",t.key,r,n);if(o===gl)return gl;o===$h&&(t.key=null);let s=Lf("value",t.value,r,n);if(s===gl)return gl;s===$h&&(t.value=null)}}return i}Tz.visit=EC});var Bk=T(Dz=>{"use strict";var Az=bt(),Lpe=Uh(),Fpe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Mpe=e=>e.replace(/[!,[\]{}]/g,t=>Fpe[t]),Gn=class{constructor(t,r){this.marker=null,this.yaml=Object.assign({},Gn.defaultYaml,t),this.tags=Object.assign({},Gn.defaultTags,r)}clone(){let t=new Gn(this.yaml,this.tags);return t.marker=this.marker,t}atDocument(){let t=new Gn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Gn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Gn.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:Gn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Gn.defaultTags),this.atNextDocument=!1);let n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[o,s]=n;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length<1)return r(0,"%YAML directive should contain exactly one part"),!1;let[o]=n;return o==="1.1"||o==="1.2"?(this.yaml.version=o,!0):(r(6,`Unsupported YAML version ${o}`,!0),!1)}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){let s=t.slice(2,-1);return s==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),s)}let[,n,i]=t.match(/^(.*!)([^!]*)$/);i||r(`The ${t} tag has no suffix`);let o=this.tags[n];return o?o+decodeURIComponent(i):n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(let[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+Mpe(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){let r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),i;if(t&&n.length>0&&Az.isNode(t.contents)){let o={};Lpe.visit(t.contents,(s,a)=>{Az.isNode(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(let[o,s]of n)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&r.push(`%TAG ${o} ${s}`);return r.join(`
`)}};Gn.defaultYaml={explicit:!1,version:"1.2"};Gn.defaultTags={"!!":"tag:yaml.org,2002:"};Dz.Directives=Gn});var _C=T(Bh=>{"use strict";var Rz=bt(),qpe=Uh();function jpe(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function Oz(e){let t=new Set;return qpe.visit(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function Nz(e,t){for(let r=1;;++r){let n=`${e}${r}`;if(!t.has(n))return n}}function $pe(e,t){let r=[],n=new Map,i=null;return{onAnchor(o){r.push(o),i||(i=Oz(e));let s=Nz(t,i);return i.add(s),s},setAnchors(){for(let o of r){let s=n.get(o);if(typeof s=="object"&&s.anchor&&(Rz.isScalar(s.node)||Rz.isCollection(s.node)))s.node.anchor=s.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:n}}Bh.anchorIsValid=jpe;Bh.anchorNames=Oz;Bh.createNodeAnchors=$pe;Bh.findNewAnchor=Nz});var Vh=T(Mz=>{"use strict";var Upe=_C(),Lz=Uh(),Hh=bt(),Fz=class extends Hh.NodeBase{constructor(t){super(Hh.ALIAS);this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let r;return Lz.visit(t,{Node:(n,i)=>{if(i===this)return Lz.visit.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(t,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:o}=r,s=this.resolve(i);if(!s){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=n.get(s);if(!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=SC(i,s,n)),a.count*a.aliasCount>o)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(t,r,n){let i=`*${this.source}`;if(t){if(Upe.anchorIsValid(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){let o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}};function SC(e,t,r){if(Hh.isAlias(t)){let n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(Hh.isCollection(t)){let n=0;for(let i of t.items){let o=SC(e,i,r);o>n&&(n=o)}return n}else if(Hh.isPair(t)){let n=SC(e,t.key,r),i=SC(e,t.value,r);return Math.max(n,i)}return 1}Mz.Alias=Fz});var Ff=T(jz=>{"use strict";var Bpe=bt();function qz(e,t,r){if(Array.isArray(e))return e.map((n,i)=>qz(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!Bpe.hasAnchor(e))return e.toJSON(t,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=o=>{n.res=o,delete r.onCreate};let i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!(r&&r.keep)?Number(e):e}jz.toJS=qz});var ur=T(Hk=>{"use strict";var $z=bt(),Hpe=Ff(),Vpe=e=>!e||typeof e!="function"&&typeof e!="object",vl=class extends $z.NodeBase{constructor(t){super($z.SCALAR);this.value=t}toJSON(t,r){return r&&r.keep?this.value:Hpe.toJS(this.value,t,r)}toString(){return String(this.value)}};vl.BLOCK_FOLDED="BLOCK_FOLDED";vl.BLOCK_LITERAL="BLOCK_LITERAL";vl.PLAIN="PLAIN";vl.QUOTE_DOUBLE="QUOTE_DOUBLE";vl.QUOTE_SINGLE="QUOTE_SINGLE";Hk.Scalar=vl;Hk.isScalarValue=Vpe});var zh=T(Bz=>{"use strict";var zpe=Vh(),yl=bt(),Uz=ur(),Wpe="tag:yaml.org,2002:";function Gpe(e,t,r){if(t){let n=r.filter(o=>o.tag===t),i=n.find(o=>!o.format)||n[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return r.find(n=>n.identify&&n.identify(e)&&!n.format)}function Kpe(e,t,r){var n,i;if(yl.isDocument(e)&&(e=e.contents),yl.isNode(e))return e;if(yl.isPair(e)){let p=(i=(n=r.schema[yl.MAP]).createNode)===null||i===void 0?void 0:i.call(n,r.schema,null,r);return p.items.push(e),p}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt=="function"&&e instanceof BigInt)&&(e=e.valueOf());let{aliasDuplicateObjects:o,onAnchor:s,onTagObj:a,schema:c,sourceObjects:l}=r,u;if(o&&e&&typeof e=="object"){if(u=l.get(e),u)return u.anchor||(u.anchor=s(e)),new zpe.Alias(u.anchor);u={anchor:null,node:null},l.set(e,u)}t&&t.startsWith("!!")&&(t=Wpe+t.slice(2));let f=Gpe(e,t,c.tags);if(!f){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){let p=new Uz.Scalar(e);return u&&(u.node=p),p}f=e instanceof Map?c[yl.MAP]:Symbol.iterator in Object(e)?c[yl.SEQ]:c[yl.MAP]}a&&(a(f),delete r.onTagObj);let d=(f==null?void 0:f.createNode)?f.createNode(r.schema,e,r):new Uz.Scalar(e);return t&&(d.tag=t),u&&(u.node=d),d}Bz.createNode=Kpe});var Wh=T(xC=>{"use strict";var Ype=zh(),Zi=bt();function Vk(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){let o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){let s=[];s[o]=n,n=s}else n=new Map([[o,n]])}return Ype.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}var Hz=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done,zk=class extends Zi.NodeBase{constructor(t,r){super(t);Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>Zi.isNode(n)||Zi.isPair(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(Hz(t))this.add(r);else{let[n,...i]=t,o=this.get(n,!0);if(Zi.isCollection(o))o.addIn(i,r);else if(o===void 0&&this.schema)this.set(n,Vk(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){let[r,...n]=t;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(Zi.isCollection(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){let[n,...i]=t,o=this.get(n,!0);return i.length===0?!r&&Zi.isScalar(o)?o.value:o:Zi.isCollection(o)?o.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!Zi.isPair(r))return!1;let n=r.value;return n==null||t&&Zi.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){let[r,...n]=t;if(n.length===0)return this.has(r);let i=this.get(r,!0);return Zi.isCollection(i)?i.hasIn(n):!1}setIn(t,r){let[n,...i]=t;if(i.length===0)this.set(n,r);else{let o=this.get(n,!0);if(Zi.isCollection(o))o.setIn(i,r);else if(o===void 0&&this.schema)this.set(n,Vk(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}};zk.maxFlowStringSingleLineLength=60;xC.Collection=zk;xC.collectionFromPath=Vk;xC.isEmptyPath=Hz});var Gh=T(PC=>{"use strict";var Jpe=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Vz(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}var Qpe=(e,t,r)=>r.includes(`
`)?`
`+Vz(r,t):(e.endsWith(" ")?"":" ")+r;PC.indentComment=Vz;PC.lineComment=Qpe;PC.stringifyComment=Jpe});var Wz=T(Kh=>{"use strict";var Xpe="flow",Wk="block",kC="quoted";function Zpe(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;let c=Math.max(1+o,1+i-t.length);if(e.length<=c)return e;let l=[],u={},f=i-t.length;typeof n=="number"&&(n>i-Math.max(2,o)?l.push(0):f=i-n);let d,p,h=!1,m=-1,g=-1,v=-1;r===Wk&&(m=zz(e,m),m!==-1&&(f=m+c));for(let b;b=e[m+=1];){if(r===kC&&b==="\\"){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}v=m}if(b===`
`)r===Wk&&(m=zz(e,m)),f=m+c,d=void 0;else{if(b===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let C=e[m+1];C&&C!==" "&&C!==`
`&&C!=="	"&&(d=m)}if(m>=f)if(d)l.push(d),f=d+c,d=void 0;else if(r===kC){for(;p===" "||p==="	";)p=b,b=e[m+=1],h=!0;let C=m>v+1?m-2:g-1;if(u[C])return e;l.push(C),u[C]=!0,f=C+c,d=void 0}else h=!0}p=b}if(h&&a&&a(),l.length===0)return e;s&&s();let y=e.slice(0,l[0]);for(let b=0;b<l.length;++b){let C=l[b],_=l[b+1]||e.length;C===0?y=`
${t}${e.slice(0,_)}`:(r===kC&&u[C]&&(y+=`${e[C]}\\`),y+=`
${t}${e.slice(C+1,_)}`)}return y}function zz(e,t){let r=e[t+1];for(;r===" "||r==="	";){do r=e[t+=1];while(r&&r!==`
`);r=e[t+1]}return t}Kh.FOLD_BLOCK=Wk;Kh.FOLD_FLOW=Xpe;Kh.FOLD_QUOTED=kC;Kh.foldFlowLines=Zpe});var Qh=T(Gz=>{"use strict";var No=ur(),xa=Wz(),IC=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),TC=e=>/^(%|---|\.\.\.)/m.test(e);function ehe(e,t,r){if(!t||t<0)return!1;let n=t-r,i=e.length;if(i<=n)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>n)return!0;if(s=o+1,i-s<=n)return!1}return!0}function Yh(e,t){let r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(TC(e)?"  ":""),s="",a=0;for(let c=0,l=r[c];l;l=r[++c])if(l===" "&&r[c+1]==="\\"&&r[c+2]==="n"&&(s+=r.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),l==="\\")switch(r[c+1]){case"u":{s+=r.slice(a,c);let u=r.substr(c+2,4);switch(u){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:u.substr(0,2)==="00"?s+="\\x"+u.substr(2):s+=r.substr(c,6)}c+=5,a=c+1}break;case"n":if(n||r[c+2]==='"'||r.length<i)c+=1;else{for(s+=r.slice(a,c)+`

`;r[c+2]==="\\"&&r[c+3]==="n"&&r[c+4]!=='"';)s+=`
`,c+=2;s+=o,r[c+2]===" "&&(s+="\\"),c+=1,a=c+1}break;default:c+=1}return s=a?s+r.slice(a):r,n?s:xa.foldFlowLines(s,o,xa.FOLD_QUOTED,IC(t))}function Gk(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Yh(e,t);let r=t.indent||(TC(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:xa.foldFlowLines(n,r,xa.FOLD_FLOW,IC(t))}function Jh(e,t){let{singleQuote:r}=t.options,n;if(r===!1)n=Yh;else{let i=e.includes('"'),o=e.includes("'");i&&!o?n=Gk:o&&!i?n=Yh:n=r?Gk:Yh}return n(e,t)}function AC({comment:e,type:t,value:r},n,i,o){let{blockQuote:s,commentString:a,lineWidth:c}=n.options;if(!s||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return Jh(r,n);let l=n.indent||(n.forceBlockIndent||TC(r)?"  ":""),u=s==="literal"?!0:s==="folded"||t===No.Scalar.BLOCK_FOLDED?!1:t===No.Scalar.BLOCK_LITERAL?!0:!ehe(r,c,l.length);if(!r)return u?`|
`:`>
`;let f,d;for(d=r.length;d>0;--d){let P=r[d-1];if(P!==`
`&&P!=="	"&&P!==" ")break}let p=r.substring(d),h=p.indexOf(`
`);h===-1?f="-":r===p||h!==p.length-1?(f="+",o&&o()):f="",p&&(r=r.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${l}`));let m=!1,g,v=-1;for(g=0;g<r.length;++g){let P=r[g];if(P===" ")m=!0;else if(P===`
`)v=g;else break}let y=r.substring(0,v<g?v+1:g);y&&(r=r.substring(y.length),y=y.replace(/\n+/g,`$&${l}`));let C=(u?"|":">")+(m?l?"2":"1":"")+f;if(e&&(C+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),u)return r=r.replace(/\n+/g,`$&${l}`),`${C}
${l}${y}${r}${p}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`);let _=xa.foldFlowLines(`${y}${r}${p}`,l,xa.FOLD_BLOCK,IC(n));return`${C}
${l}${_}`}function the(e,t,r,n){let{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:c,inFlow:l}=t;if(a&&/[\n[\]{},]/.test(o)||l&&/[[\]{},]/.test(o))return Jh(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||l||o.indexOf(`
`)===-1?Jh(o,t):AC(e,t,r,n);if(!a&&!l&&i!==No.Scalar.PLAIN&&o.indexOf(`
`)!==-1)return AC(e,t,r,n);if(c===""&&TC(o))return t.forceBlockIndent=!0,AC(e,t,r,n);let u=o.replace(/\n+/g,`$&
${c}`);if(s){let f=h=>{var m;return h.default&&h.tag!=="tag:yaml.org,2002:str"&&((m=h.test)===null||m===void 0?void 0:m.test(u))},{compat:d,tags:p}=t.doc.schema;if(p.some(f)||(d==null?void 0:d.some(f)))return Jh(o,t)}return a?u:xa.foldFlowLines(u,c,xa.FOLD_FLOW,IC(t))}function rhe(e,t,r,n){let{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)}),{type:a}=e;a!==No.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=No.Scalar.QUOTE_DOUBLE);let c=u=>{switch(u){case No.Scalar.BLOCK_FOLDED:case No.Scalar.BLOCK_LITERAL:return i||o?Jh(s.value,t):AC(s,t,r,n);case No.Scalar.QUOTE_DOUBLE:return Yh(s.value,t);case No.Scalar.QUOTE_SINGLE:return Gk(s.value,t);case No.Scalar.PLAIN:return the(s,t,r,n);default:return null}},l=c(a);if(l===null){let{defaultKeyType:u,defaultStringType:f}=t.options,d=i&&u||f;if(l=c(d),l===null)throw new Error(`Unsupported default string type ${d}`)}return l}Gz.stringifyString=rhe});var Mf=T(Kk=>{"use strict";var nhe=_C(),Pa=bt(),ihe=Gh(),ohe=Qh();function she(e,t){let r=Object.assign({blockQuote:!0,commentString:ihe.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function ahe(e,t){if(t.tag){let i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)||i[0]}let r,n;if(Pa.isScalar(t)){n=t.value;let i=e.filter(o=>o.identify&&o.identify(n));r=i.find(o=>o.format===t.format)||i.find(o=>!o.format)}else n=t,r=e.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n&&n.constructor?n.constructor.name:typeof n;throw new Error(`Tag not resolved for ${i} value`)}return r}function che(e,t,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],o=(Pa.isScalar(e)||Pa.isCollection(e))&&e.anchor;o&&nhe.anchorIsValid(o)&&(r.add(o),i.push(`&${o}`));let s=e.tag||(t.default?null:t.tag);return s&&i.push(n.directives.tagString(s)),i.join(" ")}function lhe(e,t,r,n){var i;if(Pa.isPair(e))return e.toString(t,r,n);if(Pa.isAlias(e)){if(t.doc.directives)return e.toString(t);if((i=t.resolvedAliases)===null||i===void 0?void 0:i.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let o,s=Pa.isNode(e)?e:t.doc.createNode(e,{onTagObj:l=>o=l});o||(o=ahe(t.doc.schema.tags,s));let a=che(s,o,t);a.length>0&&(t.indentAtStart=(t.indentAtStart||0)+a.length+1);let c=typeof o.stringify=="function"?o.stringify(s,t,r,n):Pa.isScalar(s)?ohe.stringifyString(s,t,r,n):s.toString(t,r,n);return a?Pa.isScalar(s)||c[0]==="{"||c[0]==="["?`${a} ${c}`:`${a}
${t.indent}${c}`:c}Kk.createStringifyContext=she;Kk.stringify=lhe});var Qz=T(Jz=>{"use strict";var ka=bt(),Kz=ur(),Yz=Mf(),Xh=Gh();function uhe({key:e,value:t},r,n,i){let{allNullValues:o,doc:s,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:f}}=r,d=ka.isNode(e)&&e.comment||null;if(f){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(ka.isCollection(e)){let P="With simple keys, collection cannot be used as a key value";throw new Error(P)}}let p=!f&&(!e||d&&t==null&&!r.inFlow||ka.isCollection(e)||(ka.isScalar(e)?e.type===Kz.Scalar.BLOCK_FOLDED||e.type===Kz.Scalar.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(f||!o),indent:a+c});let h=!1,m=!1,g=Yz.stringify(e,r,()=>h=!0,()=>m=!0);if(!p&&!r.inFlow&&g.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(o||t==null)return h&&n&&n(),p?`? ${g}`:g}else if(o&&!f||t==null&&p)return g=`? ${g}`,d&&!h?g+=Xh.lineComment(g,r.indent,l(d)):m&&i&&i(),g;h&&(d=null),p?(d&&(g+=Xh.lineComment(g,r.indent,l(d))),g=`? ${g}
${a}:`):(g=`${g}:`,d&&(g+=Xh.lineComment(g,r.indent,l(d))));let v="",y=null;if(ka.isNode(t)){if(t.spaceBefore&&(v=`
`),t.commentBefore){let P=l(t.commentBefore);v+=`
${Xh.indentComment(P,r.indent)}`}y=t.comment}else t&&typeof t=="object"&&(t=s.createNode(t));r.implicitKey=!1,!p&&!d&&ka.isScalar(t)&&(r.indentAtStart=g.length+1),m=!1,!u&&c.length>=2&&!r.inFlow&&!p&&ka.isSeq(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substr(2));let b=!1,C=Yz.stringify(t,r,()=>b=!0,()=>m=!0),_=" ";return v||d?_=C===""&&!r.inFlow?v:`${v}
${r.indent}`:!p&&ka.isCollection(t)?(!(C[0]==="["||C[0]==="{")||C.includes(`
`))&&(_=`
${r.indent}`):(C===""||C[0]===`
`)&&(_=""),g+=_+C,r.inFlow?b&&n&&n():y&&!b?g+=Xh.lineComment(g,r.indent,l(y)):m&&i&&i(),g}Jz.stringifyPair=uhe});var Jk=T(Yk=>{"use strict";function fhe(e,...t){e==="debug"&&console.log(...t)}function dhe(e,t){(e==="debug"||e==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(t):console.warn(t))}Yk.debug=fhe;Yk.warn=dhe});var Zk=T(Zz=>{"use strict";var phe=Jk(),hhe=Mf(),qf=bt(),mhe=ur(),Qk=Ff(),Xz="<<";function ghe(e,t,{key:r,value:n}){if(e&&e.doc.schema.merge&&vhe(r))if(n=qf.isAlias(n)?n.resolve(e.doc):n,qf.isSeq(n))for(let i of n.items)Xk(e,t,i);else if(Array.isArray(n))for(let i of n)Xk(e,t,i);else Xk(e,t,n);else{let i=Qk.toJS(r,"",e);if(t instanceof Map)t.set(i,Qk.toJS(n,i,e));else if(t instanceof Set)t.add(i);else{let o=yhe(r,i,e),s=Qk.toJS(n,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}var vhe=e=>e===Xz||qf.isScalar(e)&&e.value===Xz&&(!e.type||e.type===mhe.Scalar.PLAIN);function Xk(e,t,r){let n=e&&qf.isAlias(r)?r.resolve(e.doc):r;if(!qf.isMap(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,e,Map);for(let[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function yhe(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(qf.isNode(e)&&r&&r.doc){let n=hhe.createStringifyContext(r.doc,{});n.anchors=new Set;for(let o of r.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=e.toString(n);if(!r.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),phe.warn(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}Zz.addPairToJSMap=ghe});var _s=T(eI=>{"use strict";var eW=zh(),whe=Qz(),Che=Zk(),DC=bt();function bhe(e,t,r){let n=eW.createNode(e,void 0,r),i=eW.createNode(t,void 0,r);return new Zh(n,i)}var Zh=class{constructor(t,r=null){Object.defineProperty(this,DC.NODE_TYPE,{value:DC.PAIR}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return DC.isNode(r)&&(r=r.clone(t)),DC.isNode(n)&&(n=n.clone(t)),new Zh(r,n)}toJSON(t,r){let n=r&&r.mapAsMap?new Map:{};return Che.addPairToJSMap(r,n,this)}toString(t,r,n){return t&&t.doc?whe.stringifyPair(this,t,r,n):JSON.stringify(this)}};eI.Pair=Zh;eI.createPair=bhe});var RC=T(tW=>{"use strict";var Ehe={intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"};tW.defaultOptions=Ehe});var tI=T(nW=>{"use strict";var _he=Wh(),wl=bt(),rW=Mf(),em=Gh();function She(e,t,r){var n;return(((n=t.inFlow)!==null&&n!==void 0?n:e.flow)?Phe:xhe)(e,t,r)}function xhe({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){let{indent:c,options:{commentString:l}}=r,u=Object.assign({},r,{indent:o,type:null}),f=!1,d=[];for(let h=0;h<t.length;++h){let m=t[h],g=null;if(wl.isNode(m))!f&&m.spaceBefore&&d.push(""),OC(r,d,m.commentBefore,f),m.comment&&(g=m.comment);else if(wl.isPair(m)){let y=wl.isNode(m.key)?m.key:null;y&&(!f&&y.spaceBefore&&d.push(""),OC(r,d,y.commentBefore,f))}f=!1;let v=rW.stringify(m,u,()=>g=null,()=>f=!0);g&&(v+=em.lineComment(v,o,l(g))),f&&g&&(f=!1),d.push(n+v)}let p;if(d.length===0)p=i.start+i.end;else{p=d[0];for(let h=1;h<d.length;++h){let m=d[h];p+=m?`
${c}${m}`:`
`}}return e?(p+=`
`+em.indentComment(l(e),c),a&&a()):f&&s&&s(),p}function Phe({comment:e,items:t},r,{flowChars:n,itemIndent:i,onComment:o}){let{indent:s,indentStep:a,options:{commentString:c}}=r;i+=a;let l=Object.assign({},r,{indent:i,inFlow:!0,type:null}),u=!1,f=0,d=[];for(let g=0;g<t.length;++g){let v=t[g],y=null;if(wl.isNode(v))v.spaceBefore&&d.push(""),OC(r,d,v.commentBefore,!1),v.comment&&(y=v.comment);else if(wl.isPair(v)){let C=wl.isNode(v.key)?v.key:null;C&&(C.spaceBefore&&d.push(""),OC(r,d,C.commentBefore,!1),C.comment&&(u=!0));let _=wl.isNode(v.value)?v.value:null;_?(_.comment&&(y=_.comment),_.commentBefore&&(u=!0)):v.value==null&&C&&C.comment&&(y=C.comment)}y&&(u=!0);let b=rW.stringify(v,l,()=>y=null);g<t.length-1&&(b+=","),y&&(b+=em.lineComment(b,i,c(y))),!u&&(d.length>f||b.includes(`
`))&&(u=!0),d.push(b),f=d.length}let p,{start:h,end:m}=n;if(d.length===0)p=h+m;else if(u||(u=d.reduce((v,y)=>v+y.length+2,2)>_he.Collection.maxFlowStringSingleLineLength),u){p=h;for(let g of d)p+=g?`
${a}${s}${g}`:`
`;p+=`
${s}${m}`}else p=`${h} ${d.join(" ")} ${m}`;return e&&(p+=em.lineComment(p,c(e),s),o&&o()),p}function OC({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let o=em.indentComment(t(n),e);r.push(o.trimStart())}}nW.stringifyCollection=She});var Cl=T(nI=>{"use strict";var khe=tI(),Ihe=Zk(),The=Wh(),Ia=bt(),rI=_s(),Ahe=ur();function tm(e,t){let r=Ia.isScalar(t)?t.value:t;for(let n of e)if(Ia.isPair(n)&&(n.key===t||n.key===r||Ia.isScalar(n.key)&&n.key.value===r))return n}var iW=class extends The.Collection{constructor(t){super(Ia.MAP,t);this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(t,r){let n;Ia.isPair(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new rI.Pair(t,t.value):n=new rI.Pair(t.key,t.value);let i=tm(this.items,n.key),o=this.schema&&this.schema.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);Ia.isScalar(i.value)&&Ahe.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(o){let s=this.items.findIndex(a=>o(n,a)<0);s===-1?this.items.push(n):this.items.splice(s,0,n)}else this.items.push(n)}delete(t){let r=tm(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){let n=tm(this.items,t),i=n&&n.value;return!r&&Ia.isScalar(i)?i.value:i}has(t){return!!tm(this.items,t)}set(t,r){this.add(new rI.Pair(t,r),!0)}toJSON(t,r,n){let i=n?new n:r&&r.mapAsMap?new Map:{};r&&r.onCreate&&r.onCreate(i);for(let o of this.items)Ihe.addPairToJSMap(r,i,o);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(let i of this.items)if(!Ia.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),khe.stringifyCollection(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}};nI.YAMLMap=iW;nI.findPair=tm});var jf=T(sW=>{"use strict";var Dhe=bt(),Rhe=_s(),oW=Cl();function Ohe(e,t,r){let{keepUndefined:n,replacer:i}=r,o=new oW.YAMLMap(e),s=(a,c)=>{if(typeof i=="function")c=i.call(t,a,c);else if(Array.isArray(i)&&!i.includes(a))return;(c!==void 0||n)&&o.items.push(Rhe.createPair(a,c,r))};if(t instanceof Map)for(let[a,c]of t)s(a,c);else if(t&&typeof t=="object")for(let a of Object.keys(t))s(a,t[a]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}var Nhe={collection:"map",createNode:Ohe,default:!0,nodeClass:oW.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(e,t){return Dhe.isMap(e)||t("Expected a mapping for this tag"),e}};sW.map=Nhe});var bl=T(cW=>{"use strict";var Lhe=tI(),Fhe=Wh(),NC=bt(),Mhe=ur(),qhe=Ff(),aW=class extends Fhe.Collection{constructor(t){super(NC.SEQ,t);this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(t){this.items.push(t)}delete(t){let r=LC(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){let n=LC(t);if(typeof n!="number")return;let i=this.items[n];return!r&&NC.isScalar(i)?i.value:i}has(t){let r=LC(t);return typeof r=="number"&&r<this.items.length}set(t,r){let n=LC(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);let i=this.items[n];NC.isScalar(i)&&Mhe.isScalarValue(r)?i.value=r:this.items[n]=r}toJSON(t,r){let n=[];r&&r.onCreate&&r.onCreate(n);let i=0;for(let o of this.items)n.push(qhe.toJS(o,String(i++),r));return n}toString(t,r,n){return t?Lhe.stringifyCollection(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}};function LC(e){let t=NC.isScalar(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}cW.YAMLSeq=aW});var $f=T(uW=>{"use strict";var jhe=zh(),$he=bt(),lW=bl();function Uhe(e,t,r){let{replacer:n}=r,i=new lW.YAMLSeq(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let s of t){if(typeof n=="function"){let a=t instanceof Set?s:String(o++);s=n.call(t,a,s)}i.items.push(jhe.createNode(s,void 0,r))}}return i}var Bhe={collection:"seq",createNode:Uhe,default:!0,nodeClass:lW.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(e,t){return $he.isSeq(e)||t("Expected a sequence for this tag"),e}};uW.seq=Bhe});var rm=T(fW=>{"use strict";var Hhe=Qh(),Vhe={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),Hhe.stringifyString(e,t,r,n)}};fW.string=Vhe});var FC=T(hW=>{"use strict";var dW=ur(),pW={identify:e=>e==null,createNode:()=>new dW.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new dW.Scalar(null),stringify:({source:e},t)=>e&&pW.test.test(e)?e:t.options.nullStr};hW.nullTag=pW});var iI=T(gW=>{"use strict";var zhe=ur(),mW={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new zhe.Scalar(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&mW.test.test(e)){let n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};gW.boolTag=mW});var Uf=T(vW=>{"use strict";function Whe({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}vW.stringifyNumber=Whe});var sI=T(MC=>{"use strict";var Ghe=ur(),oI=Uf(),Khe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:oI.stringifyNumber},Yhe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():oI.stringifyNumber(e)}},Jhe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let t=new Ghe.Scalar(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:oI.stringifyNumber};MC.float=Jhe;MC.floatExp=Yhe;MC.floatNaN=Khe});var cI=T(jC=>{"use strict";var yW=Uf(),qC=e=>typeof e=="bigint"||Number.isInteger(e),aI=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function wW(e,t,r){let{value:n}=e;return qC(n)&&n>=0?r+n.toString(t):yW.stringifyNumber(e)}var Qhe={identify:e=>qC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>aI(e,2,8,r),stringify:e=>wW(e,8,"0o")},Xhe={identify:qC,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>aI(e,0,10,r),stringify:yW.stringifyNumber},Zhe={identify:e=>qC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>aI(e,2,16,r),stringify:e=>wW(e,16,"0x")};jC.int=Xhe;jC.intHex=Zhe;jC.intOct=Qhe});var bW=T(CW=>{"use strict";var eme=jf(),tme=FC(),rme=$f(),nme=rm(),ime=iI(),lI=sI(),uI=cI(),ome=[eme.map,rme.seq,nme.string,tme.nullTag,ime.boolTag,uI.intOct,uI.int,uI.intHex,lI.floatNaN,lI.floatExp,lI.float];CW.schema=ome});var SW=T(_W=>{"use strict";var sme=ur(),ame=jf(),cme=$f();function EW(e){return typeof e=="bigint"||Number.isInteger(e)}var $C=({value:e})=>JSON.stringify(e),lme=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:$C},{identify:e=>e==null,createNode:()=>new sme.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:$C},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:$C},{identify:EW,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>EW(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:$C}],ume={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},fme=[ame.map,cme.seq].concat(lme,ume);_W.schema=fme});var dI=T(xW=>{"use strict";var fI=ur(),dme=Qh(),pme={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){let r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,o){let s=r,a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let l=0;l<s.length;++l)c+=String.fromCharCode(s[l]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=fI.Scalar.BLOCK_LITERAL),t!==fI.Scalar.QUOTE_DOUBLE){let c=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),l=Math.ceil(a.length/c),u=new Array(l);for(let f=0,d=0;f<l;++f,d+=c)u[f]=a.substr(d,c);a=u.join(t===fI.Scalar.BLOCK_LITERAL?`
`:" ")}return dme.stringifyString({comment:e,type:t,value:a},n,i,o)}};xW.binary=pme});var HC=T(BC=>{"use strict";var UC=bt(),pI=_s(),hme=ur(),mme=bl();function PW(e,t){if(UC.isSeq(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!UC.isPair(n)){if(UC.isMap(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");let i=n.items[0]||new pI.Pair(new hme.Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){let o=i.value||i.key;o.comment=o.comment?`${n.comment}
${o.comment}`:n.comment}n=i}e.items[r]=UC.isPair(n)?n:new pI.Pair(n)}}else t("Expected a sequence for this tag");return e}function kW(e,t,r){let{replacer:n}=r,i=new mme.YAMLSeq(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof n=="function"&&(s=n.call(t,String(o++),s));let a,c;if(Array.isArray(s))if(s.length===2)a=s[0],c=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){let l=Object.keys(s);if(l.length===1)a=l[0],c=s[a];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else a=s;i.items.push(pI.createPair(a,c,r))}return i}var gme={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:PW,createNode:kW};BC.createPairs=kW;BC.pairs=gme;BC.resolvePairs=PW});var gI=T(mI=>{"use strict";var vme=bl(),hI=Ff(),IW=bt(),nm=Cl(),TW=HC(),Ta=class extends vme.YAMLSeq{constructor(){super();this.add=nm.YAMLMap.prototype.add.bind(this),this.delete=nm.YAMLMap.prototype.delete.bind(this),this.get=nm.YAMLMap.prototype.get.bind(this),this.has=nm.YAMLMap.prototype.has.bind(this),this.set=nm.YAMLMap.prototype.set.bind(this),this.tag=Ta.tag}toJSON(t,r){if(!r)return super.toJSON(t);let n=new Map;r&&r.onCreate&&r.onCreate(n);for(let i of this.items){let o,s;if(IW.isPair(i)?(o=hI.toJS(i.key,"",r),s=hI.toJS(i.value,o,r)):o=hI.toJS(i,"",r),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,s)}return n}};Ta.tag="tag:yaml.org,2002:omap";var yme={collection:"seq",identify:e=>e instanceof Map,nodeClass:Ta,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){let r=TW.resolvePairs(e,t),n=[];for(let{key:i}of r.items)IW.isScalar(i)&&(n.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Ta,r)},createNode(e,t,r){let n=TW.createPairs(e,t,r),i=new Ta;return i.items=n.items,i}};mI.YAMLOMap=Ta;mI.omap=yme});var NW=T(vI=>{"use strict";var AW=ur();function DW({value:e,source:t},r){return t&&(e?RW:OW).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}var RW={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new AW.Scalar(!0),stringify:DW},OW={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new AW.Scalar(!1),stringify:DW};vI.falseTag=OW;vI.trueTag=RW});var LW=T(VC=>{"use strict";var wme=ur(),yI=Uf(),Cme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:yI.stringifyNumber},bme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():yI.stringifyNumber(e)}},Eme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let t=new wme.Scalar(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){let n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:yI.stringifyNumber};VC.float=Eme;VC.floatExp=bme;VC.floatNaN=Cme});var MW=T(om=>{"use strict";var FW=Uf(),im=e=>typeof e=="bigint"||Number.isInteger(e);function zC(e,t,r,{intAsBigInt:n}){let i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}let s=BigInt(e);return i==="-"?BigInt(-1)*s:s}let o=parseInt(e,r);return i==="-"?-1*o:o}function wI(e,t,r){let{value:n}=e;if(im(n)){let i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return FW.stringifyNumber(e)}var _me={identify:im,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>zC(e,2,2,r),stringify:e=>wI(e,2,"0b")},Sme={identify:im,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>zC(e,1,8,r),stringify:e=>wI(e,8,"0")},xme={identify:im,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>zC(e,0,10,r),stringify:FW.stringifyNumber},Pme={identify:im,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>zC(e,2,16,r),stringify:e=>wI(e,16,"0x")};om.int=xme;om.intBin=_me;om.intHex=Pme;om.intOct=Sme});var bI=T(CI=>{"use strict";var WC=bt(),GC=_s(),KC=Cl(),Aa=class extends KC.YAMLMap{constructor(t){super(t);this.tag=Aa.tag}add(t){let r;WC.isPair(t)?r=t:typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new GC.Pair(t.key,null):r=new GC.Pair(t,null),KC.findPair(this.items,r.key)||this.items.push(r)}get(t,r){let n=KC.findPair(this.items,t);return!r&&WC.isPair(n)?WC.isScalar(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=KC.findPair(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new GC.Pair(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}};Aa.tag="tag:yaml.org,2002:set";var kme={collection:"map",identify:e=>e instanceof Set,nodeClass:Aa,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(WC.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new Aa,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,r){let{replacer:n}=r,i=new Aa(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof n=="function"&&(o=n.call(t,o,o)),i.items.push(GC.createPair(o,null,r));return i}};CI.YAMLSet=Aa;CI.set=kme});var _I=T(YC=>{"use strict";var Ime=Uf();function EI(e,t){let r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=n.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return r==="-"?i(-1)*o:o}function qW(e){let{value:t}=e,r=s=>s;if(typeof t=="bigint")r=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Ime.stringifyNumber(e);let n="";t<0&&(n="-",t*=r(-1));let i=r(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),n+o.map(s=>s<10?"0"+String(s):String(s)).join(":").replace(/000000\d*$/,"")}var Tme={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>EI(e,r),stringify:qW},Ame={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>EI(e,!1),stringify:qW},jW={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(jW.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,o,s,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0,l=Date.UTC(r,n-1,i,o||0,s||0,a||0,c),u=t[8];if(u&&u!=="Z"){let f=EI(u,!1);Math.abs(f)<30&&(f*=60),l-=6e4*f}return new Date(l)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};YC.floatTime=Ame;YC.intTime=Tme;YC.timestamp=jW});var BW=T(UW=>{"use strict";var Dme=jf(),Rme=FC(),Ome=$f(),Nme=rm(),Lme=dI(),$W=NW(),SI=LW(),JC=MW(),Fme=gI(),Mme=HC(),qme=bI(),xI=_I(),jme=[Dme.map,Ome.seq,Nme.string,Rme.nullTag,$W.trueTag,$W.falseTag,JC.intBin,JC.intOct,JC.int,JC.intHex,SI.floatNaN,SI.floatExp,SI.float,Lme.binary,Fme.omap,Mme.pairs,qme.set,xI.intTime,xI.floatTime,xI.timestamp];UW.schema=jme});var XW=T(II=>{"use strict";var HW=jf(),$me=FC(),VW=$f(),Ume=rm(),Bme=iI(),PI=sI(),kI=cI(),Hme=bW(),Vme=SW(),zW=dI(),WW=gI(),GW=HC(),KW=BW(),YW=bI(),QC=_I(),JW=new Map([["core",Hme.schema],["failsafe",[HW.map,VW.seq,Ume.string]],["json",Vme.schema],["yaml11",KW.schema],["yaml-1.1",KW.schema]]),QW={binary:zW.binary,bool:Bme.boolTag,float:PI.float,floatExp:PI.floatExp,floatNaN:PI.floatNaN,floatTime:QC.floatTime,int:kI.int,intHex:kI.intHex,intOct:kI.intOct,intTime:QC.intTime,map:HW.map,null:$me.nullTag,omap:WW.omap,pairs:GW.pairs,seq:VW.seq,set:YW.set,timestamp:QC.timestamp},zme={"tag:yaml.org,2002:binary":zW.binary,"tag:yaml.org,2002:omap":WW.omap,"tag:yaml.org,2002:pairs":GW.pairs,"tag:yaml.org,2002:set":YW.set,"tag:yaml.org,2002:timestamp":QC.timestamp};function Wme(e,t){let r=JW.get(t);if(!r)if(Array.isArray(e))r=[];else{let n=Array.from(JW.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${n} or define customTags array`)}if(Array.isArray(e))for(let n of e)r=r.concat(n);else typeof e=="function"&&(r=e(r.slice()));return r.map(n=>{if(typeof n!="string")return n;let i=QW[n];if(i)return i;let o=Object.keys(QW).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${o}`)})}II.coreKnownTags=zme;II.getTags=Wme});var AI=T(ZW=>{"use strict";var TI=bt(),Gme=jf(),Kme=$f(),Yme=rm(),XC=XW(),Jme=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0,ZC=class{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?XC.getTags(t,"compat"):t?XC.getTags(null,t):null,this.merge=!!n,this.name=typeof o=="string"&&o||"core",this.knownTags=i?XC.coreKnownTags:{},this.tags=XC.getTags(r,this.name),this.toStringOptions=a||null,Object.defineProperty(this,TI.MAP,{value:Gme.map}),Object.defineProperty(this,TI.SCALAR,{value:Yme.string}),Object.defineProperty(this,TI.SEQ,{value:Kme.seq}),this.sortMapEntries=s===!0?Jme:s||null}clone(){let t=Object.create(ZC.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}};ZW.Schema=ZC});var tG=T(eG=>{"use strict";var Qme=bt(),DI=Mf(),e0=Gh();function Xme(e,t){let r=[],n=t.directives===!0;if(t.directives!==!1&&e.directives){let l=e.directives.toString(e);l?(r.push(l),n=!0):e.directives.marker&&(n=!0)}n&&r.push("---");let i=DI.createStringifyContext(e,t),{commentString:o}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");let l=o(e.commentBefore);r.unshift(e0.indentComment(l,""))}let s=!1,a=null;if(e.contents){if(Qme.isNode(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){let f=o(e.contents.commentBefore);r.push(e0.indentComment(f,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}let l=a?void 0:()=>s=!0,u=DI.stringify(e.contents,i,()=>a=null,l);a&&(u+=e0.lineComment(u,"",o(a))),(u[0]==="|"||u[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${u}`:r.push(u)}else r.push(DI.stringify(e.contents,i));let c=e.comment;return c&&s&&(c=c.replace(/^\n+/,"")),c&&((!s||a)&&r[r.length-1]!==""&&r.push(""),r.push(e0.indentComment(o(c),""))),r.join(`
`)+`
`}eG.stringifyDocument=Xme});var nG=T(rG=>{"use strict";function sm(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,o=n.length;i<o;++i){let s=n[i],a=sm(e,n,String(i),s);a===void 0?delete n[i]:a!==s&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let o=n.get(i),s=sm(e,n,i,o);s===void 0?n.delete(i):s!==o&&n.set(i,s)}else if(n instanceof Set)for(let i of Array.from(n)){let o=sm(e,n,i,i);o===void 0?n.delete(i):o!==i&&(n.delete(i),n.add(o))}else for(let[i,o]of Object.entries(n)){let s=sm(e,n,i,o);s===void 0?delete n[i]:s!==o&&(n[i]=s)}return e.call(t,r,n)}rG.applyReviver=sm});var am=T(iG=>{"use strict";var Zme=Vh(),Bf=Wh(),Si=bt(),ege=_s(),tge=Ff(),rge=RC(),nge=AI(),ige=Mf(),oge=tG(),RI=_C(),sge=nG(),age=zh(),OI=Bk(),t0=class{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Si.NODE_TYPE,{value:Si.DOC});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let o=Object.assign({},rge.defaultOptions,n);this.options=o;let{version:s}=o;(n==null?void 0:n.directives)?(this.directives=n.directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new OI.Directives({version:s}),this.setSchema(s,n),t===void 0?this.contents=null:this.contents=this.createNode(t,i,n)}clone(){let t=Object.create(t0.prototype,{[Si.NODE_TYPE]:{value:Si.DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Si.isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Hf(this.contents)&&this.contents.add(t)}addIn(t,r){Hf(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){let n=RI.anchorNames(this);t.anchor=!r||n.has(r)?RI.findNewAnchor(r||"a",n):r}return new Zme.Alias(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){let g=y=>typeof y=="number"||y instanceof String||y instanceof Number,v=r.filter(g).map(String);v.length>0&&(r=r.concat(v)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:c,onTagObj:l,tag:u}=n||{},{onAnchor:f,setAnchors:d,sourceObjects:p}=RI.createNodeAnchors(this,s||"a"),h={aliasDuplicateObjects:o!=null?o:!0,keepUndefined:c!=null?c:!1,onAnchor:f,onTagObj:l,replacer:i,schema:this.schema,sourceObjects:p},m=age.createNode(t,u,h);return a&&Si.isCollection(m)&&(m.flow=!0),d(),m}createPair(t,r,n={}){let i=this.createNode(t,null,n),o=this.createNode(r,null,n);return new ege.Pair(i,o)}delete(t){return Hf(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Bf.isEmptyPath(t)?this.contents==null?!1:(this.contents=null,!0):Hf(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return Si.isCollection(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return Bf.isEmptyPath(t)?!r&&Si.isScalar(this.contents)?this.contents.value:this.contents:Si.isCollection(this.contents)?this.contents.getIn(t,r):void 0}has(t){return Si.isCollection(this.contents)?this.contents.has(t):!1}hasIn(t){return Bf.isEmptyPath(t)?this.contents!==void 0:Si.isCollection(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=Bf.collectionFromPath(this.schema,[t],r):Hf(this.contents)&&this.contents.set(t,r)}setIn(t,r){Bf.isEmptyPath(t)?this.contents=r:this.contents==null?this.contents=Bf.collectionFromPath(this.schema,Array.from(t),r):Hf(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new OI.Directives({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":this.directives?this.directives.yaml.version="1.2":this.directives=new OI.Directives({version:"1.2"}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new nge.Schema(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:o,reviver:s}={}){let a={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:ige.stringify},c=tge.toJS(this.contents,r||"",a);if(typeof o=="function")for(let{count:l,res:u}of a.anchors.values())o(u,l);return typeof s=="function"?sge.applyReviver(s,{"":c},"",c):c}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){let r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return oge.stringifyDocument(this,t)}};function Hf(e){if(Si.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}iG.Document=t0});var lm=T(cm=>{"use strict";var r0=class extends Error{constructor(t,r,n,i){super();this.name=t,this.code=n,this.message=i,this.pos=r}},oG=class extends r0{constructor(t,r,n){super("YAMLParseError",t,r,n)}},sG=class extends r0{constructor(t,r,n){super("YAMLWarning",t,r,n)}},cge=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>t.linePos(a));let{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){let a=Math.min(o-39,s.length-79);s="\u2026"+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),s=a+s}if(/[^ ]/.test(s)){let a=1,c=r.linePos[1];c&&c.line===n&&c.col>i&&(a=Math.min(c.col-i,80-o));let l=" ".repeat(o)+"^".repeat(a);r.message+=`:

${s}
${l}
`}};cm.YAMLError=r0;cm.YAMLParseError=oG;cm.YAMLWarning=sG;cm.prettifyError=cge});var um=T(aG=>{"use strict";function lge(e,{flow:t,indicator:r,next:n,offset:i,onError:o,startOnNewline:s}){let a=!1,c=s,l=s,u="",f="",d=!1,p=!1,h=null,m=null,g=null,v=null,y=null;for(let _ of e)switch(p&&(_.type!=="space"&&_.type!=="newline"&&_.type!=="comma"&&o(_.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),_.type){case"space":!t&&c&&r!=="doc-start"&&_.source[0]==="	"&&o(_,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||o(_,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let P=_.source.substring(1)||" ";u?u+=f+P:u=P,f="",c=!1;break}case"newline":c?u?u+=_.source:a=!0:f+=_.source,c=!0,d=!0,l=!0;break;case"anchor":h&&o(_,"MULTIPLE_ANCHORS","A node can have at most one anchor"),h=_,y===null&&(y=_.offset),c=!1,l=!1,p=!0;break;case"tag":{m&&o(_,"MULTIPLE_TAGS","A node can have at most one tag"),m=_,y===null&&(y=_.offset),c=!1,l=!1,p=!0;break}case r:(h||m)&&o(_,"BAD_PROP_ORDER",`Anchors and tags must be after the ${_.source} indicator`),v&&o(_,"UNEXPECTED_TOKEN",`Unexpected ${_.source} in ${t||"collection"}`),v=_,c=!1,l=!1;break;case"comma":if(t){g&&o(_,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),g=_,c=!1,l=!1;break}default:o(_,"UNEXPECTED_TOKEN",`Unexpected ${_.type} token`),c=!1,l=!1}let b=e[e.length-1],C=b?b.offset+b.source.length:i;return p&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:g,found:v,spaceBefore:a,comment:u,hasNewline:d,anchor:h,tag:m,end:C,start:y!=null?y:C}}aG.resolveProps=lge});var n0=T(cG=>{"use strict";function NI(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(let t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(let t of e.items){for(let r of t.start)if(r.type==="newline")return!0;if(t.sep){for(let r of t.sep)if(r.type==="newline")return!0}if(NI(t.key)||NI(t.value))return!0}return!1;default:return!0}}cG.containsNewline=NI});var LI=T(lG=>{"use strict";var uge=n0();function fge(e,t,r){if((t==null?void 0:t.type)==="flow-collection"){let n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&uge.containsNewline(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}lG.flowIndentCheck=fge});var FI=T(fG=>{"use strict";var uG=bt();function dge(e,t,r){let{uniqueKeys:n}=e.options;if(n===!1)return!1;let i=typeof n=="function"?n:(o,s)=>o===s||uG.isScalar(o)&&uG.isScalar(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,r))}fG.mapIncludes=dge});var vG=T(gG=>{"use strict";var dG=_s(),pge=Cl(),pG=um(),hge=n0(),hG=LI(),mge=FI(),mG="All mapping items must start at the same column";function gge({composeNode:e,composeEmptyNode:t},r,n,i){var o;let s=new pge.YAMLMap(r.schema);r.atRoot&&(r.atRoot=!1);let a=n.offset;for(let c of n.items){let{start:l,key:u,sep:f,value:d}=c,p=pG.resolveProps(l,{indicator:"explicit-key-ind",next:u||(f==null?void 0:f[0]),offset:a,onError:i,startOnNewline:!0}),h=!p.found;if(h){if(u&&(u.type==="block-seq"?i(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==n.indent&&i(a,"BAD_INDENT",mG)),!p.anchor&&!p.tag&&!f){p.comment&&(s.comment?s.comment+=`
`+p.comment:s.comment=p.comment);continue}}else((o=p.found)===null||o===void 0?void 0:o.indent)!==n.indent&&i(a,"BAD_INDENT",mG);h&&hge.containsNewline(u)&&i(u,"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line");let m=p.end,g=u?e(r,u,p,i):t(r,m,l,null,p,i);r.schema.compat&&hG.flowIndentCheck(n.indent,u,i),mge.mapIncludes(r,s.items,g)&&i(m,"DUPLICATE_KEY","Map keys must be unique");let v=pG.resolveProps(f||[],{indicator:"map-value-ind",next:d,offset:g.range[2],onError:i,startOnNewline:!u||u.type==="block-scalar"});if(a=v.end,v.found){h&&((d==null?void 0:d.type)==="block-map"&&!v.hasNewline&&i(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&p.start<v.found.offset-1024&&i(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let y=d?e(r,d,v,i):t(r,a,f,null,v,i);r.schema.compat&&hG.flowIndentCheck(n.indent,d,i),a=y.range[2];let b=new dG.Pair(g,y);r.options.keepSourceTokens&&(b.srcToken=c),s.items.push(b)}else{h&&i(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),v.comment&&(g.comment?g.comment+=`
`+v.comment:g.comment=v.comment);let y=new dG.Pair(g);r.options.keepSourceTokens&&(y.srcToken=c),s.items.push(y)}}return s.range=[n.offset,a,a],s}gG.resolveBlockMap=gge});var wG=T(yG=>{"use strict";var vge=bl(),yge=um(),wge=LI();function Cge({composeNode:e,composeEmptyNode:t},r,n,i){let o=new vge.YAMLSeq(r.schema);r.atRoot&&(r.atRoot=!1);let s=n.offset;for(let{start:a,value:c}of n.items){let l=yge.resolveProps(a,{indicator:"seq-item-ind",next:c,offset:s,onError:i,startOnNewline:!0});if(s=l.end,!l.found)if(l.anchor||l.tag||c)c&&c.type==="block-seq"?i(s,"BAD_INDENT","All sequence items must start at the same column"):i(s,"MISSING_CHAR","Sequence item without - indicator");else{l.comment&&(o.comment=l.comment);continue}let u=c?e(r,c,l,i):t(r,s,a,null,l,i);r.schema.compat&&wge.flowIndentCheck(n.indent,c,i),s=u.range[2],o.items.push(u)}return o.range=[n.offset,s,s],o}yG.resolveBlockSeq=Cge});var Vf=T(CG=>{"use strict";function bge(e,t,r,n){let i="";if(e){let o=!1,s="";for(let a of e){let{source:c,type:l}=a;switch(l){case"space":o=!0;break;case"comment":{r&&!o&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let u=c.substring(1)||" ";i?i+=s+u:i=u,s="";break}case"newline":i&&(s+=c),o=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}t+=c.length}}return{comment:i,offset:t}}CG.resolveEnd=bge});var SG=T(_G=>{"use strict";var Ege=bt(),_ge=_s(),bG=Cl(),Sge=bl(),xge=Vf(),EG=um(),Pge=n0(),kge=FI(),MI="Block collections are not allowed within flow collections",qI=e=>e&&(e.type==="block-map"||e.type==="block-seq");function Ige({composeNode:e,composeEmptyNode:t},r,n,i){let o=n.start.source==="{",s=o?"flow map":"flow sequence",a=o?new bG.YAMLMap(r.schema):new Sge.YAMLSeq(r.schema);a.flow=!0;let c=r.atRoot;c&&(r.atRoot=!1);let l=n.offset+n.start.source.length;for(let h=0;h<n.items.length;++h){let m=n.items[h],{start:g,key:v,sep:y,value:b}=m,C=EG.resolveProps(g,{flow:s,indicator:"explicit-key-ind",next:v||(y==null?void 0:y[0]),offset:l,onError:i,startOnNewline:!1});if(!C.found){if(!C.anchor&&!C.tag&&!y&&!b){h===0&&C.comma?i(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):h<n.items.length-1&&i(C.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),C.comment&&(a.comment?a.comment+=`
`+C.comment:a.comment=C.comment),l=C.end;continue}!o&&r.options.strict&&Pge.containsNewline(v)&&i(v,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(h===0)C.comma&&i(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(C.comma||i(C.start,"MISSING_CHAR",`Missing , between ${s} items`),C.comment){let _="";e:for(let P of g)switch(P.type){case"comma":case"space":break;case"comment":_=P.source.substring(1);break e;default:break e}if(_){let P=a.items[a.items.length-1];Ege.isPair(P)&&(P=P.value||P.key),P.comment?P.comment+=`
`+_:P.comment=_,C.comment=C.comment.substring(_.length+1)}}if(!o&&!y&&!C.found){let _=b?e(r,b,C,i):t(r,C.end,y,null,C,i);a.items.push(_),l=_.range[2],qI(b)&&i(_.range,"BLOCK_IN_FLOW",MI)}else{let _=C.end,P=v?e(r,v,C,i):t(r,_,g,null,C,i);qI(v)&&i(P.range,"BLOCK_IN_FLOW",MI);let S=EG.resolveProps(y||[],{flow:s,indicator:"map-value-ind",next:b,offset:P.range[2],onError:i,startOnNewline:!1});if(S.found){if(!o&&!C.found&&r.options.strict){if(y)for(let A of y){if(A===S.found)break;if(A.type==="newline"){i(A,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}C.start<S.found.offset-1024&&i(S.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else b&&("source"in b&&b.source&&b.source[0]===":"?i(b,"MISSING_CHAR",`Missing space after : in ${s}`):i(S.start,"MISSING_CHAR",`Missing , or : between ${s} items`));let x=b?e(r,b,S,i):S.found?t(r,S.end,y,null,S,i):null;x?qI(b)&&i(x.range,"BLOCK_IN_FLOW",MI):S.comment&&(P.comment?P.comment+=`
`+S.comment:P.comment=S.comment);let I=new _ge.Pair(P,x);if(r.options.keepSourceTokens&&(I.srcToken=m),o){let A=a;kge.mapIncludes(r,A.items,P)&&i(_,"DUPLICATE_KEY","Map keys must be unique"),A.items.push(I)}else{let A=new bG.YAMLMap(r.schema);A.flow=!0,A.items.push(I),a.items.push(A)}l=x?x.range[2]:S.end}}let u=o?"}":"]",[f,...d]=n.end,p=l;if(f&&f.source===u)p=f.offset+f.source.length;else{let h=s[0].toUpperCase()+s.substring(1),m=c?`${h} must end with a ${u}`:`${h} in block collection must be sufficiently indented and end with a ${u}`;i(l,c?"MISSING_CHAR":"BAD_INDENT",m),f&&f.source.length!==1&&d.unshift(f)}if(d.length>0){let h=xge.resolveEnd(d,p,r.options.strict,i);h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment),a.range=[n.offset,p,h.offset]}else a.range=[n.offset,p,p];return a}_G.resolveFlowCollection=Ige});var kG=T(PG=>{"use strict";var xG=bt(),Tge=ur(),Age=vG(),Dge=wG(),Rge=SG();function Oge(e,t,r,n,i){let o;switch(r.type){case"block-map":{o=Age.resolveBlockMap(e,t,r,i);break}case"block-seq":{o=Dge.resolveBlockSeq(e,t,r,i);break}case"flow-collection":{o=Rge.resolveFlowCollection(e,t,r,i);break}}if(!n)return o;let s=t.directives.tagName(n.source,d=>i(n,"TAG_RESOLVE_FAILED",d));if(!s)return o;let a=o.constructor;if(s==="!"||s===a.tagName)return o.tag=a.tagName,o;let c=xG.isMap(o)?"map":"seq",l=t.schema.tags.find(d=>d.collection===c&&d.tag===s);if(!l){let d=t.schema.knownTags[s];if(d&&d.collection===c)t.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),o.tag=s,o}let u=l.resolve(o,d=>i(n,"TAG_RESOLVE_FAILED",d),t.options),f=xG.isNode(u)?u:new Tge.Scalar(u);return f.range=o.range,f.tag=s,(l==null?void 0:l.format)&&(f.format=l.format),f}PG.composeCollection=Oge});var $I=T(IG=>{"use strict";var jI=ur();function Nge(e,t,r){let n=e.offset,i=Lge(e,t,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let o=i.mode===">"?jI.Scalar.BLOCK_FOLDED:jI.Scalar.BLOCK_LITERAL,s=e.source?Fge(e.source):[],a=s.length;for(let m=s.length-1;m>=0;--m){let g=s[m][1];if(g===""||g==="\r")a=m;else break}if(!e.source||a===0){let m=i.chomp==="+"?`
`.repeat(Math.max(0,s.length-1)):"",g=n+i.length;return e.source&&(g+=e.source.length),{value:m,type:o,comment:i.comment,range:[n,g,g]}}let c=e.indent+i.indent,l=e.offset+i.length,u=0;for(let m=0;m<a;++m){let[g,v]=s[m];if(v===""||v==="\r")i.indent===0&&g.length>c&&(c=g.length);else{if(g.length<c){let y="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(l+g.length,"MISSING_CHAR",y)}i.indent===0&&(c=g.length),u=m;break}l+=g.length+v.length+1}let f="",d="",p=!1;for(let m=0;m<u;++m)f+=s[m][0].slice(c)+`
`;for(let m=u;m<a;++m){let[g,v]=s[m];l+=g.length+v.length+1;let y=v[v.length-1]==="\r";if(y&&(v=v.slice(0,-1)),v&&g.length<c){let C=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(l-v.length-(y?2:1),"BAD_INDENT",C),g=""}o===jI.Scalar.BLOCK_LITERAL?(f+=d+g.slice(c)+v,d=`
`):g.length>c||v[0]==="	"?(d===" "?d=`
`:!p&&d===`
`&&(d=`

`),f+=d+g.slice(c)+v,d=`
`,p=!0):v===""?d===`
`?f+=`
`:d=`
`:(f+=d+v,d=" ",p=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<s.length;++m)f+=`
`+s[m][0].slice(c);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}let h=n+i.length+e.source.length;return{value:f,type:o,comment:i.comment,range:[n,h,h]}}function Lge({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=t[0],o=i[0],s=0,a="",c=-1;for(let d=1;d<i.length;++d){let p=i[d];if(!a&&(p==="-"||p==="+"))a=p;else{let h=Number(p);!s&&h?s=h:c===-1&&(c=e+d)}}c!==-1&&n(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let l=!1,u="",f=i.length;for(let d=1;d<t.length;++d){let p=t[d];switch(p.type){case"space":l=!0;case"newline":f+=p.source.length;break;case"comment":r&&!l&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=p.source.length,u=p.source.substring(1);break;case"error":n(p,"UNEXPECTED_TOKEN",p.message),f+=p.source.length;break;default:{let h=`Unexpected token in block scalar header: ${p.type}`;n(p,"UNEXPECTED_TOKEN",h);let m=p.source;m&&typeof m=="string"&&(f+=m.length)}}}return{mode:o,indent:s,chomp:a,comment:u,length:f}}function Fge(e){let t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),o=[n&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}IG.resolveBlockScalar=Nge});var BI=T(AG=>{"use strict";var UI=ur(),Mge=Vf();function qge(e,t,r){let{offset:n,type:i,source:o,end:s}=e,a,c,l=(d,p,h)=>r(n+d,p,h);switch(i){case"scalar":a=UI.Scalar.PLAIN,c=jge(o,l);break;case"single-quoted-scalar":a=UI.Scalar.QUOTE_SINGLE,c=$ge(o,l);break;case"double-quoted-scalar":a=UI.Scalar.QUOTE_DOUBLE,c=Uge(o,l);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}let u=n+o.length,f=Mge.resolveEnd(s,u,t,r);return{value:c,type:a,comment:f.comment,range:[n,u,f.offset]}}function jge(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),TG(e)}function $ge(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),TG(e.slice(1,-1)).replace(/''/g,"'")}function TG(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],o=" ",s=t.lastIndex;for(r.lastIndex=s;n=r.exec(e);)n[1]===""?o===`
`?i+=o:o=`
`:(i+=o+n[1],o=" "),s=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=s,n=a.exec(e),i+o+(n&&n[1]||"")}function Uge(e,t){let r="";for(let n=1;n<e.length-1;++n){let i=e[n];if(!(i==="\r"&&e[n+1]===`
`))if(i===`
`){let{fold:o,offset:s}=Bge(e,n);r+=o,n=s}else if(i==="\\"){let o=e[++n],s=Hge[o];if(s)r+=s;else if(o===`
`)for(o=e[n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="\r"&&e[n+1]===`
`)for(o=e[++n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="x"||o==="u"||o==="U"){let a={x:2,u:4,U:8}[o];r+=Vge(e,n+1,a,t),n+=a}else{let a=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){let o=n,s=e[n+1];for(;s===" "||s==="	";)s=e[++n+1];s!==`
`&&!(s==="\r"&&e[n+2]===`
`)&&(r+=n>o?e.slice(o,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function Bge(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}var Hge={"0":"\0",a:"\x07",b:"\b",e:"",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Vge(e,t,r,n){let i=e.substr(t,r),s=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){let a=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}AG.resolveFlowScalar=qge});var OG=T(RG=>{"use strict";var zf=bt(),DG=ur(),zge=$I(),Wge=BI();function Gge(e,t,r,n){let{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?zge.resolveBlockScalar(t,e.options.strict,n):Wge.resolveFlowScalar(t,e.options.strict,n),c=r?e.directives.tagName(r.source,f=>n(r,"TAG_RESOLVE_FAILED",f)):null,l=r&&c?Kge(e.schema,i,c,r,n):t.type==="scalar"?Yge(e,i,t,n):e.schema[zf.SCALAR],u;try{let f=l.resolve(i,d=>n(r||t,"TAG_RESOLVE_FAILED",d),e.options);u=zf.isScalar(f)?f:new DG.Scalar(f)}catch(f){let d=f instanceof Error?f.message:String(f);n(r||t,"TAG_RESOLVE_FAILED",d),u=new DG.Scalar(i)}return u.range=a,u.source=i,o&&(u.type=o),c&&(u.tag=c),l.format&&(u.format=l.format),s&&(u.comment=s),u}function Kge(e,t,r,n,i){var o;if(r==="!")return e[zf.SCALAR];let s=[];for(let c of e.tags)if(!c.collection&&c.tag===r)if(c.default&&c.test)s.push(c);else return c;for(let c of s)if((o=c.test)===null||o===void 0?void 0:o.test(t))return c;let a=e.knownTags[r];return a&&!a.collection?(e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[zf.SCALAR])}function Yge({directives:e,schema:t},r,n,i){let o=t.tags.find(s=>{var a;return s.default&&((a=s.test)===null||a===void 0?void 0:a.test(r))})||t[zf.SCALAR];if(t.compat){let s=t.compat.find(a=>{var c;return a.default&&((c=a.test)===null||c===void 0?void 0:c.test(r))})||t[zf.SCALAR];if(o.tag!==s.tag){let a=e.tagString(o.tag),c=e.tagString(s.tag),l=`Value may be parsed as either ${a} or ${c}`;i(n,"TAG_RESOLVE_FAILED",l,!0)}}return o}RG.composeScalar=Gge});var LG=T(NG=>{"use strict";function Jge(e,t,r){if(t){r===null&&(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++n];break}}return e}NG.emptyScalarPosition=Jge});var jG=T(HI=>{"use strict";var Qge=Vh(),Xge=kG(),FG=OG(),Zge=Vf(),eve=LG(),tve={composeNode:MG,composeEmptyNode:qG};function MG(e,t,r,n){let{spaceBefore:i,comment:o,anchor:s,tag:a}=r,c;switch(t.type){case"alias":c=rve(e,t,n),(s||a)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=FG.composeScalar(e,t,a,n),s&&(c.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=Xge.composeCollection(tve,e,t,a,n),s&&(c.anchor=s.source.substring(1));break;default:throw console.log(t),new Error(`Unsupporten token type: ${t.type}`)}return s&&c.anchor===""&&n(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?c.comment=o:c.commentBefore=o),e.options.keepSourceTokens&&(c.srcToken=t),c}function qG(e,t,r,n,{spaceBefore:i,comment:o,anchor:s,tag:a},c){let l={type:"scalar",offset:eve.emptyScalarPosition(t,r,n),indent:-1,source:""},u=FG.composeScalar(e,l,a,c);return s&&(u.anchor=s.source.substring(1),u.anchor===""&&c(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),o&&(u.comment=o),u}function rve({options:e},{offset:t,source:r,end:n},i){let o=new Qge.Alias(r.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string");let s=t+r.length,a=Zge.resolveEnd(n,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}HI.composeEmptyNode=qG;HI.composeNode=MG});var BG=T(UG=>{"use strict";var nve=am(),$G=jG(),ive=Vf(),ove=um();function sve(e,t,{offset:r,start:n,value:i,end:o},s){let a=Object.assign({directives:t},e),c=new nve.Document(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=ove.resolveProps(n,{indicator:"doc-start",next:i||(o==null?void 0:o[0]),offset:r,onError:s,startOnNewline:!0});u.found&&(c.directives.marker=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&s(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?$G.composeNode(l,i,u,s):$G.composeEmptyNode(l,u.end,n,null,u,s);let f=c.contents.range[2],d=ive.resolveEnd(o,f,!1,s);return d.comment&&(c.comment=d.comment),c.range=[r,f,d.offset],c}UG.composeDoc=sve});var VI=T(WG=>{"use strict";var ave=Bk(),cve=am(),fm=lm(),HG=bt(),lve=RC(),uve=BG(),fve=Vf();function dm(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];let{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function VG(e){var t;let r="",n=!1,i=!1;for(let o=0;o<e.length;++o){let s=e[o];switch(s[0]){case"#":r+=(r===""?"":i?`

`:`
`)+(s.substring(1)||" "),n=!0,i=!1;break;case"%":((t=e[o+1])===null||t===void 0?void 0:t[0])!=="#"&&(o+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:r,afterEmptyLine:i}}var zG=class{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,o)=>{let s=dm(r);o?this.warnings.push(new fm.YAMLWarning(s,n,i)):this.errors.push(new fm.YAMLParseError(s,n,i))},this.directives=new ave.Directives({version:t.version||lve.defaultOptions.version}),this.options=t}decorate(t,r){let{comment:n,afterEmptyLine:i}=VG(this.prelude);if(n){let o=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(i||t.directives.marker||!o)t.commentBefore=n;else if(HG.isCollection(o)&&!o.flow&&o.items.length>0){let s=o.items[0];HG.isPair(s)&&(s=s.key);let a=s.commentBefore;s.commentBefore=a?`${n}
${a}`:n}else{let s=o.commentBefore;o.commentBefore=s?`${n}
${s}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:VG(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(let i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(process.env.LOG_STREAM&&console.dir(t,{depth:null}),t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{let o=dm(t);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{let r=uve.composeDoc(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.marker&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{let r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new fm.YAMLParseError(dm(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new fm.YAMLParseError(dm(t),"UNEXPECTED_TOKEN",n));break}let r=fve.resolveEnd(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new fm.YAMLParseError(dm(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){let n=Object.assign({directives:this.directives},this.options),i=new cve.Document(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}};WG.Composer=zG});var YG=T(i0=>{"use strict";var dve=$I(),pve=BI(),hve=lm(),GG=Qh();function mve(e,t=!0,r){if(e){let n=(i,o,s)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,o,s);else throw new hve.YAMLParseError([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return pve.resolveFlowScalar(e,t,n);case"block-scalar":return dve.resolveBlockScalar(e,t,n)}}return null}function gve(e,t){var r;let{implicitKey:n=!1,indent:i,inFlow:o=!1,offset:s=-1,type:a="PLAIN"}=t,c=GG.stringifyString({type:a,value:e},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),l=(r=t.end)!==null&&r!==void 0?r:[{type:"newline",offset:-1,indent:i,source:`
`}];switch(c[0]){case"|":case">":{let u=c.indexOf(`
`),f=c.substring(0,u),d=c.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:i,source:f}];return KG(p,l)||p.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:s,indent:i,props:p,source:d}}case'"':return{type:"double-quoted-scalar",offset:s,indent:i,source:c,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:i,source:c,end:l};default:return{type:"scalar",offset:s,indent:i,source:c,end:l}}}function vve(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=r,a="indent"in e?e.indent:null;if(n&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{let l=e.props[0];if(l.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=l.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}let c=GG.stringifyString({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":yve(e,c);break;case'"':zI(e,c,"double-quoted-scalar");break;case"'":zI(e,c,"single-quoted-scalar");break;default:zI(e,c,"scalar")}}function yve(e,t){let r=t.indexOf(`
`),n=t.substring(0,r),i=t.substring(r+1)+`
`;if(e.type==="block-scalar"){let o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,e.source=i}else{let{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:n}];KG(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(let c of Object.keys(e))c!=="type"&&c!=="offset"&&delete e[c];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function KG(e,t){if(t)for(let r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function zI(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{let n=e.props.slice(1),i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(let o of n)o.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{let n=e.offset+t.length,i={type:"newline",offset:n,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{let n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(let o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}i0.createScalarToken=gve;i0.resolveAsScalar=mve;i0.setScalarValue=vve});var QG=T(JG=>{"use strict";var wve=e=>"type"in e?o0(e):s0(e);function o0(e){switch(e.type){case"block-scalar":{let t="";for(let r of e.props)t+=o0(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(let r of e.items)t+=s0(r);return t}case"flow-collection":{let t=e.start.source;for(let r of e.items)t+=s0(r);for(let r of e.end)t+=r.source;return t}case"document":{let t=s0(e);if(e.end)for(let r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(let r of e.end)t+=r.source;return t}}}function s0({start:e,key:t,sep:r,value:n}){let i="";for(let o of e)i+=o.source;if(t&&(i+=o0(t)),r)for(let o of r)i+=o.source;return n&&(i+=o0(n)),i}JG.stringify=wve});var t4=T(e4=>{"use strict";var WI=Symbol("break visit"),Cve=Symbol("skip children"),XG=Symbol("remove item");function El(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),ZG(Object.freeze([]),e,t)}El.BREAK=WI;El.SKIP=Cve;El.REMOVE=XG;El.itemAtPath=(e,t)=>{let r=e;for(let[n,i]of t){let o=r&&r[n];if(o&&"items"in o)r=o.items[i];else return}return r};El.parentCollection=(e,t)=>{let r=El.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r&&r[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function ZG(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(let i of["key","value"]){let o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){let a=ZG(Object.freeze(e.concat([[i,s]])),o.items[s],r);if(typeof a=="number")s=a-1;else{if(a===WI)return WI;a===XG&&(o.items.splice(s,1),s-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}e4.visit=El});var a0=T(Sn=>{"use strict";var GI=YG(),bve=QG(),Eve=t4(),KI="\uFEFF",YI="",JI="",QI="",_ve=e=>!!e&&"items"in e,Sve=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function xve(e){switch(e){case KI:return"<BOM>";case YI:return"<DOC>";case JI:return"<FLOW_END>";case QI:return"<SCALAR>";default:return JSON.stringify(e)}}function Pve(e){switch(e){case KI:return"byte-order-mark";case YI:return"doc-mode";case JI:return"flow-error-end";case QI:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}Sn.createScalarToken=GI.createScalarToken;Sn.resolveAsScalar=GI.resolveAsScalar;Sn.setScalarValue=GI.setScalarValue;Sn.stringify=bve.stringify;Sn.visit=Eve.visit;Sn.BOM=KI;Sn.DOCUMENT=YI;Sn.FLOW_END=JI;Sn.SCALAR=QI;Sn.isCollection=_ve;Sn.isScalar=Sve;Sn.prettyToken=xve;Sn.tokenType=Pve});var ZI=T(o4=>{"use strict";var pm=a0();function xi(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var r4="0123456789ABCDEFabcdef".split(""),kve="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),n4=",[]{}".split(""),Ive=` ,[]{}
\r	`.split(""),XI=e=>!e||Ive.includes(e),i4=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!r;let n=this.next||"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){let i=this.buffer[n+t+1];if(i===`
`||!i&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){let n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&xi(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===pm.BOM&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length,n=t.indexOf("#");if(n!==-1){let o=t[n-1];(o===" "||o==="	")&&(r=n-1)}for(;;){let o=t[r-1];if(o===" "||o==="	")r-=1;else break}let i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield pm.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let r=this.peek(3);if(r==="---"&&xi(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&xi(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!xi(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&xi(r)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(XI),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),r=yield*this.pushSpaces(!0),t>0&&(this.indentValue=n=r);while(t+r>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&xi(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield pm.FLOW_END,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(XI),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let s=this.charAt(1);if(this.flowKey||xi(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let t=this.charAt(0),r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2==0)break;r=this.buffer.indexOf('"',r+1)}let n=this.buffer.substring(0,r),i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let o=this.continueScalar(i+1);if(o===-1)break;i=n.indexOf(`
`,o)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){let r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>xi(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":r+=1;break;case`
`:t=i,r=0;break;case"\r":{let o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{let i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];for(o==="\r"&&(o=this.buffer[--i]);o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos)t=i;else break}while(!0);return yield pm.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let t=this.flowLevel>0,r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let o=this.buffer[n+1];if(xi(o)||t&&o===",")break;r=n}else if(xi(i)){let o=this.buffer[n+1];if(i==="\r"&&(o===`
`?(n+=1,i=`
`,o=this.buffer[n+1]):r=n),o==="#"||t&&n4.includes(o))break;if(i===`
`){let s=this.continueScalar(n+1);if(s===-1)break;n=Math.max(n,s-2)}}else{if(t&&n4.includes(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield pm.SCALAR,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){let n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(XI))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case":":case"?":case"-":if(xi(this.charAt(1)))return this.flowLevel===0?this.indentNext=this.indentValue+1:this.flowKey&&(this.flowKey=!1),(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!xi(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(kve.includes(r))r=this.buffer[++t];else if(r==="%"&&r4.includes(this.buffer[t+1])&&r4.includes(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){let t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");let i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}};o4.Lexer=i4});var eT=T(a4=>{"use strict";var s4=class{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){let o=r+n>>1;this.lineStarts[o]<t?r=o+1:n=o}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};let i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}};a4.LineCounter=s4});var rT=T(d4=>{"use strict";var c4=a0(),Tve=ZI();function Lo(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function tT(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return!0}return!1}function l4(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function c0(e){switch(e.type){case"document":return e.start;case"block-map":{let t=e.items[e.items.length-1];return t.sep||t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function hm(e){var t;if(e.length===0)return[];let r=e.length;e:for(;--r>=0;)switch(e[r].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((t=e[++r])===null||t===void 0?void 0:t.type)==="space";);return e.splice(r,e.length)}function u4(e){if(e.start.type==="flow-seq-start")for(let t of e.items)t.sep&&!t.value&&!Lo(t.start,"explicit-key-ind")&&!Lo(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,l4(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}var f4=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Tve.Lexer,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,process.env.LOG_TOKENS&&console.log("|",c4.prettyToken(t)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}let r=c4.tokenType(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{let n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){let r=t||this.stack.pop();if(r)if(this.stack.length===0)yield r;else{let n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&u4(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!Lo(i.start,"explicit-key-ind");return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){let i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&!tT(i.start)&&(r.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}else{let n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{tT(t.start)?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}let r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){let r=c0(this.peek(2)),n=hm(r),i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];let o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;let n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){let i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){let i=!this.onKeyLine&&this.indent===t.indent&&(n.sep||tT(n.start));switch(this.type){case"anchor":case"tag":i||n.value?(t.items.push({start:[this.sourceToken]}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!Lo(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?t.items.push({start:[this.sourceToken]}):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(!n.sep)Object.assign(n,{key:null,sep:[this.sourceToken]});else if(n.value||i&&!Lo(n.start,"explicit-key-ind"))t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Lo(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]});else if(Lo(n.start,"explicit-key-ind")&&l4(n.key)&&!Lo(n.sep,"newline")){let o=hm(n.start),s=n.key,a=n.sep;a.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:s,sep:a}]})}else n.sep.push(this.sourceToken);this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||n.value?(t.items.push({start:[],key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(t);if(o){i&&o.type!=="block-seq"&&Lo(n.start,"explicit-key-ind")&&t.items.push({start:[]}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;let n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){let i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||Lo(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){let i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){let r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}let n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=c0(n),o=hm(i);u4(t);let s=t.end.splice(1,t.end.length);s.push(this.sourceToken);let a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let r=c0(t),n=hm(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;let r=c0(t),n=hm(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};d4.Parser=f4});var v4=T(gm=>{"use strict";var p4=VI(),Ave=am(),mm=lm(),Dve=Jk(),Rve=eT(),h4=rT();function m4(e){let t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Rve.LineCounter||null,prettyErrors:t}}function Ove(e,t={}){let{lineCounter:r,prettyErrors:n}=m4(t),i=new h4.Parser(r==null?void 0:r.addNewLine),o=new p4.Composer(t),s=Array.from(o.compose(i.parse(e)));if(n&&r)for(let a of s)a.errors.forEach(mm.prettifyError(e,r)),a.warnings.forEach(mm.prettifyError(e,r));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function g4(e,t={}){let{lineCounter:r,prettyErrors:n}=m4(t),i=new h4.Parser(r==null?void 0:r.addNewLine),o=new p4.Composer(t),s=null;for(let a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new mm.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(s.errors.forEach(mm.prettifyError(e,r)),s.warnings.forEach(mm.prettifyError(e,r))),s}function Nve(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);let i=g4(e,r);if(!i)return null;if(i.warnings.forEach(o=>Dve.warn(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function Lve(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){let i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){let{keepUndefined:i}=r||t||{};if(!i)return}return new Ave.Document(e,n,r).toString(r)}gm.parse=Nve;gm.parseAllDocuments=Ove;gm.parseDocument=g4;gm.stringify=Lve});var iT=T(Et=>{"use strict";var Fve=VI(),Mve=am(),qve=AI(),nT=lm(),jve=Vh(),Da=bt(),$ve=_s(),Uve=ur(),Bve=Cl(),Hve=bl(),Vve=RC(),zve=a0(),Wve=ZI(),Gve=eT(),Kve=rT(),l0=v4(),Yve=Uh();Et.Composer=Fve.Composer;Et.Document=Mve.Document;Et.Schema=qve.Schema;Et.YAMLError=nT.YAMLError;Et.YAMLParseError=nT.YAMLParseError;Et.YAMLWarning=nT.YAMLWarning;Et.Alias=jve.Alias;Et.isAlias=Da.isAlias;Et.isCollection=Da.isCollection;Et.isDocument=Da.isDocument;Et.isMap=Da.isMap;Et.isNode=Da.isNode;Et.isPair=Da.isPair;Et.isScalar=Da.isScalar;Et.isSeq=Da.isSeq;Et.Pair=$ve.Pair;Et.Scalar=Uve.Scalar;Et.YAMLMap=Bve.YAMLMap;Et.YAMLSeq=Hve.YAMLSeq;Et.defaultOptions=Vve.defaultOptions;Et.CST=zve;Et.Lexer=Wve.Lexer;Et.LineCounter=Gve.LineCounter;Et.Parser=Kve.Parser;Et.parse=l0.parse;Et.parseAllDocuments=l0.parseAllDocuments;Et.parseDocument=l0.parseDocument;Et.stringify=l0.stringify;Et.visit=Yve.visit});var y4=T((Dqe,Jve)=>{Jve.exports={Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",amp:"&",AMP:"&",andand:"\u2A55",And:"\u2A53",and:"\u2227",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angmsd:"\u2221",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",apacir:"\u2A6F",ap:"\u2248",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsolb:"\u29C5",bsol:"\\",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",cap:"\u2229",Cap:"\u22D2",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25CB",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cup:"\u222A",Cup:"\u22D3",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21A1",dArr:"\u21D3",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21CA",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21D3",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21BD",DownRightTeeVector:"\u295F",DownRightVectorBar:"\u2957",DownRightVector:"\u21C1",DownTeeArrow:"\u21A7",DownTee:"\u22A4",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",Ecirc:"\xCA",ecirc:"\xEA",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",gescc:"\u2AA9",ges:"\u2A7E",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2AA5",gl:"\u2277",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gt:">",GT:">",Gt:"\u226B",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",harrcir:"\u2948",harr:"\u2194",hArr:"\u21D4",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",incare:"\u2105",in:"\u2208",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",intcal:"\u22BA",int:"\u222B",Int:"\u222C",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larrb:"\u21E4",larrbfs:"\u291F",larr:"\u2190",Larr:"\u219E",lArr:"\u21D0",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",latail:"\u2919",lAtail:"\u291B",lat:"\u2AAB",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",LeftArrowBar:"\u21E4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21D0",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21C3",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTeeArrow:"\u21A4",LeftTee:"\u22A3",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangleBar:"\u29CF",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21BF",LeftVectorBar:"\u2952",LeftVector:"\u21BC",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",lescc:"\u2AA8",les:"\u2A7D",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21C7",ll:"\u226A",Ll:"\u22D8",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoustache:"\u23B0",lmoust:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftrightarrow:"\u27F7",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longmapsto:"\u27FC",longrightarrow:"\u27F6",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",lt:"<",LT:"<",Lt:"\u226A",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midast:"*",midcir:"\u2AF0",mid:"\u2223",middot:"\xB7",minusb:"\u229F",minus:"\u2212",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266E",naturals:"\u2115",natur:"\u266E",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",nprec:"\u2280",npreceq:"\u2AAF\u0338",npre:"\u2AAF\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",Ocirc:"\xD4",ocirc:"\xF4",ocir:"\u229A",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",orarr:"\u21BB",Or:"\u2A54",or:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",otimesas:"\u2A36",Otimes:"\u2A37",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",para:"\xB6",parallel:"\u2225",par:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plus:"+",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",prap:"\u2AB7",Pr:"\u2ABB",pr:"\u227A",prcue:"\u227C",precapprox:"\u2AB7",prec:"\u227A",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",pre:"\u2AAF",prE:"\u2AB3",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportional:"\u221D",Proportion:"\u2237",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21A0",rArr:"\u21D2",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",Re:"\u211C",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrowBar:"\u21E5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21D2",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVectorBar:"\u2955",RightDownVector:"\u21C2",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTeeArrow:"\u21A6",RightTee:"\u22A2",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangleBar:"\u29D0",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVectorBar:"\u2954",RightUpVector:"\u21BE",RightVectorBar:"\u2953",RightVector:"\u21C0",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoustache:"\u23B1",rmoust:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2ABC",sc:"\u227B",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdotb:"\u22A1",sdot:"\u22C5",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",solbar:"\u233F",solb:"\u29C4",sol:"/",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squ:"\u25A1",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succapprox:"\u2AB8",succ:"\u227B",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",Sup:"\u22D1",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2A31",timesb:"\u22A0",times:"\xD7",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",topbot:"\u2336",topcir:"\u2AF1",top:"\u22A4",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",Uarr:"\u219F",uArr:"\u21D1",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21D1",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21D5",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTeeArrow:"\u21A5",UpTee:"\u22A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",veebar:"\u22BB",vee:"\u2228",Vee:"\u22C1",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xharr:"\u27F7",xhArr:"\u27FA",Xi:"\u039E",xi:"\u03BE",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",yuml:"\xFF",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",zfr:"\u{1D537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}});var oT=T((Rqe,w4)=>{"use strict";w4.exports=y4()});var u0=T((Oqe,C4)=>{C4.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/});var _4=T((Nqe,E4)=>{"use strict";var b4={};function Qve(e){var t,r,n=b4[e];if(n)return n;for(n=b4[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)n[e.charCodeAt(t)]=e[t];return n}function f0(e,t,r){var n,i,o,s,a,c="";for(typeof t!="string"&&(r=t,t=f0.defaultChars),typeof r=="undefined"&&(r=!0),a=Qve(t),n=0,i=e.length;n<i;n++){if(o=e.charCodeAt(n),r&&o===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(n+1,n+3))){c+=e.slice(n,n+3),n+=2;continue}if(o<128){c+=a[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&n+1<i&&(s=e.charCodeAt(n+1),s>=56320&&s<=57343)){c+=encodeURIComponent(e[n]+e[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(e[n])}return c}f0.defaultChars=";/?:@&=+$,-_.!~*'()#";f0.componentChars="-_.!~*'()";E4.exports=f0});var P4=T((Lqe,x4)=>{"use strict";var S4={};function Xve(e){var t,r,n=S4[e];if(n)return n;for(n=S4[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),n.push(r);for(t=0;t<e.length;t++)r=e.charCodeAt(t),n[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return n}function d0(e,t){var r;return typeof t!="string"&&(t=d0.defaultChars),r=Xve(t),e.replace(/(%[a-f0-9]{2})+/gi,function(n){var i,o,s,a,c,l,u,f="";for(i=0,o=n.length;i<o;i+=3){if(s=parseInt(n.slice(i+1,i+3),16),s<128){f+=r[s];continue}if((s&224)==192&&i+3<o&&(a=parseInt(n.slice(i+4,i+6),16),(a&192)==128)){u=s<<6&1984|a&63,u<128?f+="\uFFFD\uFFFD":f+=String.fromCharCode(u),i+=3;continue}if((s&240)==224&&i+6<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),(a&192)==128&&(c&192)==128)){u=s<<12&61440|a<<6&4032|c&63,u<2048||u>=55296&&u<=57343?f+="\uFFFD\uFFFD\uFFFD":f+=String.fromCharCode(u),i+=6;continue}if((s&248)==240&&i+9<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),l=parseInt(n.slice(i+10,i+12),16),(a&192)==128&&(c&192)==128&&(l&192)==128)){u=s<<18&1835008|a<<12&258048|c<<6&4032|l&63,u<65536||u>1114111?f+="\uFFFD\uFFFD\uFFFD\uFFFD":(u-=65536,f+=String.fromCharCode(55296+(u>>10),56320+(u&1023))),i+=9;continue}f+="\uFFFD"}return f})}d0.defaultChars=";/?:@&=+$,#";d0.componentChars="";x4.exports=d0});var I4=T((Fqe,k4)=>{"use strict";k4.exports=function(t){var r="";return r+=t.protocol||"",r+=t.slashes?"//":"",r+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?r+="["+t.hostname+"]":r+=t.hostname||"",r+=t.port?":"+t.port:"",r+=t.pathname||"",r+=t.search||"",r+=t.hash||"",r}});var L4=T((Mqe,N4)=>{"use strict";function p0(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var Zve=/^([a-z0-9.+-]+:)/i,eye=/:[0-9]*$/,tye=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,rye=["<",">",'"',"`"," ","\r",`
`,"	"],nye=["{","}","|","\\","^","`"].concat(rye),iye=["'"].concat(nye),T4=["%","/","?",";","#"].concat(iye),A4=["/","?","#"],oye=255,D4=/^[+a-z0-9A-Z_-]{0,63}$/,sye=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,R4={javascript:!0,"javascript:":!0},O4={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function aye(e,t){if(e&&e instanceof p0)return e;var r=new p0;return r.parse(e,t),r}p0.prototype.parse=function(e,t){var r,n,i,o,s,a=e;if(a=a.trim(),!t&&e.split("#").length===1){var c=tye.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var l=Zve.exec(a);if(l&&(l=l[0],i=l.toLowerCase(),this.protocol=l,a=a.substr(l.length)),(t||l||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=a.substr(0,2)==="//",s&&!(l&&R4[l])&&(a=a.substr(2),this.slashes=!0)),!R4[l]&&(s||l&&!O4[l])){var u=-1;for(r=0;r<A4.length;r++)o=a.indexOf(A4[r]),o!==-1&&(u===-1||o<u)&&(u=o);var f,d;for(u===-1?d=a.lastIndexOf("@"):d=a.lastIndexOf("@",u),d!==-1&&(f=a.slice(0,d),a=a.slice(d+1),this.auth=f),u=-1,r=0;r<T4.length;r++)o=a.indexOf(T4[r]),o!==-1&&(u===-1||o<u)&&(u=o);u===-1&&(u=a.length),a[u-1]===":"&&u--;var p=a.slice(0,u);a=a.slice(u),this.parseHost(p),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){var m=this.hostname.split(/\./);for(r=0,n=m.length;r<n;r++){var g=m[r];if(!!g&&!g.match(D4)){for(var v="",y=0,b=g.length;y<b;y++)g.charCodeAt(y)>127?v+="x":v+=g[y];if(!v.match(D4)){var C=m.slice(0,r),_=m.slice(r+1),P=g.match(sye);P&&(C.push(P[1]),_.unshift(P[2])),_.length&&(a=_.join(".")+a),this.hostname=C.join(".");break}}}}this.hostname.length>oye&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var S=a.indexOf("#");S!==-1&&(this.hash=a.substr(S),a=a.slice(0,S));var x=a.indexOf("?");return x!==-1&&(this.search=a.substr(x),a=a.slice(0,x)),a&&(this.pathname=a),O4[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this};p0.prototype.parseHost=function(e){var t=eye.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};N4.exports=aye});var sT=T((qqe,vm)=>{"use strict";vm.exports.encode=_4();vm.exports.decode=P4();vm.exports.format=I4();vm.exports.parse=L4()});var aT=T((jqe,F4)=>{F4.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/});var cT=T(($qe,M4)=>{M4.exports=/[\0-\x1F\x7F-\x9F]/});var j4=T((Uqe,q4)=>{q4.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/});var lT=T((Bqe,$4)=>{$4.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/});var U4=T(Wf=>{"use strict";Wf.Any=aT();Wf.Cc=cT();Wf.Cf=j4();Wf.P=u0();Wf.Z=lT()});var wt=T(vr=>{"use strict";function cye(e){return Object.prototype.toString.call(e)}function lye(e){return cye(e)==="[object String]"}var uye=Object.prototype.hasOwnProperty;function B4(e,t){return uye.call(e,t)}function fye(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(r){if(!!r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}function dye(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function H4(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)==65535||(e&65535)==65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function V4(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var z4=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,pye=/&([a-z#][a-z0-9]{1,31});/gi,hye=new RegExp(z4.source+"|"+pye.source,"gi"),mye=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,W4=oT();function gye(e,t){var r=0;return B4(W4,t)?W4[t]:t.charCodeAt(0)===35&&mye.test(t)&&(r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10),H4(r))?V4(r):e}function vye(e){return e.indexOf("\\")<0?e:e.replace(z4,"$1")}function yye(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(hye,function(t,r,n){return r||gye(t,n)})}var wye=/[&<>"]/,Cye=/[&<>"]/g,bye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Eye(e){return bye[e]}function _ye(e){return wye.test(e)?e.replace(Cye,Eye):e}var Sye=/[.?*+^$[\]\\(){}|-]/g;function xye(e){return e.replace(Sye,"\\$&")}function Pye(e){switch(e){case 9:case 32:return!0}return!1}function kye(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var Iye=u0();function Tye(e){return Iye.test(e)}function Aye(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Dye(e){return e=e.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(e=e.replace(/ẞ/g,"\xDF")),e.toLowerCase().toUpperCase()}vr.lib={};vr.lib.mdurl=sT();vr.lib.ucmicro=U4();vr.assign=fye;vr.isString=lye;vr.has=B4;vr.unescapeMd=vye;vr.unescapeAll=yye;vr.isValidEntityCode=H4;vr.fromCodePoint=V4;vr.escapeHtml=_ye;vr.arrayReplaceAt=dye;vr.isSpace=Pye;vr.isWhiteSpace=kye;vr.isMdAsciiPunct=Aye;vr.isPunctChar=Tye;vr.escapeRE=xye;vr.normalizeReference=Dye});var K4=T((zqe,G4)=>{"use strict";G4.exports=function(t,r,n){var i,o,s,a,c=-1,l=t.posMax,u=t.pos;for(t.pos=r+1,i=1;t.pos<l;){if(s=t.src.charCodeAt(t.pos),s===93&&(i--,i===0)){o=!0;break}if(a=t.pos,t.md.inline.skipToken(t),s===91){if(a===t.pos-1)i++;else if(n)return t.pos=u,-1}}return o&&(c=t.pos),t.pos=u,c}});var Q4=T((Wqe,J4)=>{"use strict";var Y4=wt().unescapeAll;J4.exports=function(t,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(r)===60){for(r++;r<n;){if(i=t.charCodeAt(r),i===10||i===60)return c;if(i===62)return c.pos=r+1,c.str=Y4(t.slice(a+1,r)),c.ok=!0,c;if(i===92&&r+1<n){r+=2;continue}r++}return c}for(o=0;r<n&&(i=t.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(t.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(o++,o>32))return c;if(i===41){if(o===0)break;o--}r++}return a===r||o!==0||(c.str=Y4(t.slice(a,r)),c.lines=s,c.pos=r,c.ok=!0),c}});var Z4=T((Gqe,X4)=>{"use strict";var Rye=wt().unescapeAll;X4.exports=function(t,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(r>=n||(o=t.charCodeAt(r),o!==34&&o!==39&&o!==40))return c;for(r++,o===40&&(o=41);r<n;){if(i=t.charCodeAt(r),i===o)return c.pos=r+1,c.lines=s,c.str=Rye(t.slice(a+1,r)),c.ok=!0,c;if(i===40&&o===41)return c;i===10?s++:i===92&&r+1<n&&(r++,t.charCodeAt(r)===10&&s++),r++}return c}});var e6=T(h0=>{"use strict";h0.parseLinkLabel=K4();h0.parseLinkDestination=Q4();h0.parseLinkTitle=Z4()});var r6=T((Yqe,t6)=>{"use strict";var Oye=wt().assign,Nye=wt().unescapeAll,_l=wt().escapeHtml,Fo={};Fo.code_inline=function(e,t,r,n,i){var o=e[t];return"<code"+i.renderAttrs(o)+">"+_l(e[t].content)+"</code>"};Fo.code_block=function(e,t,r,n,i){var o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+_l(e[t].content)+`</code></pre>
`};Fo.fence=function(e,t,r,n,i){var o=e[t],s=o.info?Nye(o.info).trim():"",a="",c="",l,u,f,d,p;return s&&(f=s.split(/(\s+)/g),a=f[0],c=f.slice(2).join("")),r.highlight?l=r.highlight(o.content,a,c)||_l(o.content):l=_l(o.content),l.indexOf("<pre")===0?l+`
`:s?(u=o.attrIndex("class"),d=o.attrs?o.attrs.slice():[],u<0?d.push(["class",r.langPrefix+a]):(d[u]=d[u].slice(),d[u][1]+=" "+r.langPrefix+a),p={attrs:d},"<pre><code"+i.renderAttrs(p)+">"+l+`</code></pre>
`):"<pre><code"+i.renderAttrs(o)+">"+l+`</code></pre>
`};Fo.image=function(e,t,r,n,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(e,t,r)};Fo.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};Fo.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};Fo.text=function(e,t){return _l(e[t].content)};Fo.html_block=function(e,t){return e[t].content};Fo.html_inline=function(e,t){return e[t].content};function Gf(){this.rules=Oye({},Fo)}Gf.prototype.renderAttrs=function(t){var r,n,i;if(!t.attrs)return"";for(i="",r=0,n=t.attrs.length;r<n;r++)i+=" "+_l(t.attrs[r][0])+'="'+_l(t.attrs[r][1])+'"';return i};Gf.prototype.renderToken=function(t,r,n){var i,o="",s=!1,a=t[r];return a.hidden?"":(a.block&&a.nesting!==-1&&r&&t[r-1].hidden&&(o+=`
`),o+=(a.nesting===-1?"</":"<")+a.tag,o+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(o+=" /"),a.block&&(s=!0,a.nesting===1&&r+1<t.length&&(i=t[r+1],(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===a.tag)&&(s=!1))),o+=s?`>
`:">",o)};Gf.prototype.renderInline=function(e,t,r){for(var n,i="",o=this.rules,s=0,a=e.length;s<a;s++)n=e[s].type,typeof o[n]!="undefined"?i+=o[n](e,s,t,r,this):i+=this.renderToken(e,s,t);return i};Gf.prototype.renderInlineAsText=function(e,t,r){for(var n="",i=0,o=e.length;i<o;i++)e[i].type==="text"?n+=e[i].content:e[i].type==="image"?n+=this.renderInlineAsText(e[i].children,t,r):e[i].type==="softbreak"&&(n+=`
`);return n};Gf.prototype.render=function(e,t,r){var n,i,o,s="",a=this.rules;for(n=0,i=e.length;n<i;n++)o=e[n].type,o==="inline"?s+=this.renderInline(e[n].children,t,r):typeof a[o]!="undefined"?s+=a[e[n].type](e,n,t,r,this):s+=this.renderToken(e,n,t,r);return s};t6.exports=Gf});var m0=T((Jqe,n6)=>{"use strict";function eo(){this.__rules__=[],this.__cache__=null}eo.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};eo.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(r){!r.enabled||r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){!n.enabled||r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn)})})};eo.prototype.at=function(e,t,r){var n=this.__find__(e),i=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=i.alt||[],this.__cache__=null};eo.prototype.before=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};eo.prototype.after=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};eo.prototype.push=function(e,t,r){var n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};eo.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(n){var i=this.__find__(n);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!0,r.push(n)},this),this.__cache__=null,r};eo.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};eo.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(n){var i=this.__find__(n);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!1,r.push(n)},this),this.__cache__=null,r};eo.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};n6.exports=eo});var o6=T((Qqe,i6)=>{"use strict";var Lye=/\r\n?|\n/g,Fye=/\0/g;i6.exports=function(t){var r;r=t.src.replace(Lye,`
`),r=r.replace(Fye,"\uFFFD"),t.src=r}});var a6=T((Xqe,s6)=>{"use strict";s6.exports=function(t){var r;t.inlineMode?(r=new t.Token("inline","",0),r.content=t.src,r.map=[0,1],r.children=[],t.tokens.push(r)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}});var l6=T((Zqe,c6)=>{"use strict";c6.exports=function(t){var r=t.tokens,n,i,o;for(i=0,o=r.length;i<o;i++)n=r[i],n.type==="inline"&&t.md.inline.parse(n.content,t.md,t.env,n.children)}});var f6=T((eje,u6)=>{"use strict";var Mye=wt().arrayReplaceAt;function qye(e){return/^<a[>\s]/i.test(e)}function jye(e){return/^<\/a\s*>/i.test(e)}u6.exports=function(t){var r,n,i,o,s,a,c,l,u,f,d,p,h,m,g,v,y=t.tokens,b;if(!!t.md.options.linkify){for(n=0,i=y.length;n<i;n++)if(!(y[n].type!=="inline"||!t.md.linkify.pretest(y[n].content)))for(o=y[n].children,h=0,r=o.length-1;r>=0;r--){if(a=o[r],a.type==="link_close"){for(r--;o[r].level!==a.level&&o[r].type!=="link_open";)r--;continue}if(a.type==="html_inline"&&(qye(a.content)&&h>0&&h--,jye(a.content)&&h++),!(h>0)&&a.type==="text"&&t.md.linkify.test(a.content)){for(u=a.content,b=t.md.linkify.match(u),c=[],p=a.level,d=0,l=0;l<b.length;l++)m=b[l].url,g=t.md.normalizeLink(m),!!t.md.validateLink(g)&&(v=b[l].text,b[l].schema?b[l].schema==="mailto:"&&!/^mailto:/i.test(v)?v=t.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):v=t.md.normalizeLinkText(v):v=t.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),f=b[l].index,f>d&&(s=new t.Token("text","",0),s.content=u.slice(d,f),s.level=p,c.push(s)),s=new t.Token("link_open","a",1),s.attrs=[["href",g]],s.level=p++,s.markup="linkify",s.info="auto",c.push(s),s=new t.Token("text","",0),s.content=v,s.level=p,c.push(s),s=new t.Token("link_close","a",-1),s.level=--p,s.markup="linkify",s.info="auto",c.push(s),d=b[l].lastIndex);d<u.length&&(s=new t.Token("text","",0),s.content=u.slice(d),s.level=p,c.push(s)),y[n].children=o=Mye(o,r,c)}}}}});var h6=T((tje,p6)=>{"use strict";var d6=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,$ye=/\((c|tm|r|p)\)/i,Uye=/\((c|tm|r|p)\)/ig,Bye={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function Hye(e,t){return Bye[t.toLowerCase()]}function Vye(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)r=e[t],r.type==="text"&&!n&&(r.content=r.content.replace(Uye,Hye)),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}function zye(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)r=e[t],r.type==="text"&&!n&&d6.test(r.content)&&(r.content=r.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}p6.exports=function(t){var r;if(!!t.md.options.typographer)for(r=t.tokens.length-1;r>=0;r--)t.tokens[r].type==="inline"&&($ye.test(t.tokens[r].content)&&Vye(t.tokens[r].children),d6.test(t.tokens[r].content)&&zye(t.tokens[r].children))}});var b6=T((rje,C6)=>{"use strict";var m6=wt().isWhiteSpace,g6=wt().isPunctChar,v6=wt().isMdAsciiPunct,Wye=/['"]/,y6=/['"]/g,w6="\u2019";function g0(e,t,r){return e.substr(0,t)+r+e.substr(t+1)}function Gye(e,t){var r,n,i,o,s,a,c,l,u,f,d,p,h,m,g,v,y,b,C,_,P;for(C=[],r=0;r<e.length;r++){for(n=e[r],c=e[r].level,y=C.length-1;y>=0&&!(C[y].level<=c);y--);if(C.length=y+1,n.type!=="text")continue;i=n.content,s=0,a=i.length;e:for(;s<a&&(y6.lastIndex=s,o=y6.exec(i),!!o);){if(g=v=!0,s=o.index+1,b=o[0]==="'",u=32,o.index-1>=0)u=i.charCodeAt(o.index-1);else for(y=r-1;y>=0&&!(e[y].type==="softbreak"||e[y].type==="hardbreak");y--)if(!!e[y].content){u=e[y].content.charCodeAt(e[y].content.length-1);break}if(f=32,s<a)f=i.charCodeAt(s);else for(y=r+1;y<e.length&&!(e[y].type==="softbreak"||e[y].type==="hardbreak");y++)if(!!e[y].content){f=e[y].content.charCodeAt(0);break}if(d=v6(u)||g6(String.fromCharCode(u)),p=v6(f)||g6(String.fromCharCode(f)),h=m6(u),m=m6(f),m?g=!1:p&&(h||d||(g=!1)),h?v=!1:d&&(m||p||(v=!1)),f===34&&o[0]==='"'&&u>=48&&u<=57&&(v=g=!1),g&&v&&(g=d,v=p),!g&&!v){b&&(n.content=g0(n.content,o.index,w6));continue}if(v){for(y=C.length-1;y>=0&&(l=C[y],!(C[y].level<c));y--)if(l.single===b&&C[y].level===c){l=C[y],b?(_=t.md.options.quotes[2],P=t.md.options.quotes[3]):(_=t.md.options.quotes[0],P=t.md.options.quotes[1]),n.content=g0(n.content,o.index,P),e[l.token].content=g0(e[l.token].content,l.pos,_),s+=P.length-1,l.token===r&&(s+=_.length-1),i=n.content,a=i.length,C.length=y;continue e}}g?C.push({token:r,pos:o.index,single:b,level:c}):v&&b&&(n.content=g0(n.content,o.index,w6))}}}C6.exports=function(t){var r;if(!!t.md.options.typographer)for(r=t.tokens.length-1;r>=0;r--)t.tokens[r].type!=="inline"||!Wye.test(t.tokens[r].content)||Gye(t.tokens[r].children,t)}});var v0=T((nje,E6)=>{"use strict";function Kf(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Kf.prototype.attrIndex=function(t){var r,n,i;if(!this.attrs)return-1;for(r=this.attrs,n=0,i=r.length;n<i;n++)if(r[n][0]===t)return n;return-1};Kf.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Kf.prototype.attrSet=function(t,r){var n=this.attrIndex(t),i=[t,r];n<0?this.attrPush(i):this.attrs[n]=i};Kf.prototype.attrGet=function(t){var r=this.attrIndex(t),n=null;return r>=0&&(n=this.attrs[r][1]),n};Kf.prototype.attrJoin=function(t,r){var n=this.attrIndex(t);n<0?this.attrPush([t,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};E6.exports=Kf});var x6=T((ije,S6)=>{"use strict";var Kye=v0();function _6(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}_6.prototype.Token=Kye;S6.exports=_6});var k6=T((oje,P6)=>{"use strict";var Yye=m0(),uT=[["normalize",o6()],["block",a6()],["inline",l6()],["linkify",f6()],["replacements",h6()],["smartquotes",b6()]];function fT(){this.ruler=new Yye;for(var e=0;e<uT.length;e++)this.ruler.push(uT[e][0],uT[e][1])}fT.prototype.process=function(e){var t,r,n;for(n=this.ruler.getRules(""),t=0,r=n.length;t<r;t++)n[t](e)};fT.prototype.State=x6();P6.exports=fT});var A6=T((sje,T6)=>{"use strict";var dT=wt().isSpace;function pT(e,t){var r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.substr(r,n-r)}function I6(e){var t=[],r=0,n=e.length,i,o=!1,s=0,a="";for(i=e.charCodeAt(r);r<n;)i===124&&(o?(a+=e.substring(s,r-1),s=r):(t.push(a+e.substring(s,r)),a="",s=r+1)),o=i===92,r++,i=e.charCodeAt(r);return t.push(a+e.substring(s)),t}T6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,b,C,_,P;if(r+2>n||(u=r+1,t.sCount[u]<t.blkIndent)||t.sCount[u]-t.blkIndent>=4||(a=t.bMarks[u]+t.tShift[u],a>=t.eMarks[u])||(_=t.src.charCodeAt(a++),_!==124&&_!==45&&_!==58)||a>=t.eMarks[u]||(P=t.src.charCodeAt(a++),P!==124&&P!==45&&P!==58&&!dT(P))||_===45&&dT(P))return!1;for(;a<t.eMarks[u];){if(o=t.src.charCodeAt(a),o!==124&&o!==45&&o!==58&&!dT(o))return!1;a++}for(s=pT(t,r+1),f=s.split("|"),h=[],c=0;c<f.length;c++){if(m=f[c].trim(),!m){if(c===0||c===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?h.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?h.push("left"):h.push("")}if(s=pT(t,r).trim(),s.indexOf("|")===-1||t.sCount[r]-t.blkIndent>=4||(f=I6(s),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),d=f.length,d===0||d!==h.length))return!1;if(i)return!0;for(y=t.parentType,t.parentType="table",C=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),p.map=g=[r,0],p=t.push("thead_open","thead",1),p.map=[r,r+1],p=t.push("tr_open","tr",1),p.map=[r,r+1],c=0;c<f.length;c++)p=t.push("th_open","th",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=t.push("inline","",0),p.content=f[c].trim(),p.children=[],p=t.push("th_close","th",-1);for(p=t.push("tr_close","tr",-1),p=t.push("thead_close","thead",-1),u=r+2;u<n&&!(t.sCount[u]<t.blkIndent);u++){for(b=!1,c=0,l=C.length;c<l;c++)if(C[c](t,u,n,!0)){b=!0;break}if(b||(s=pT(t,u).trim(),!s)||t.sCount[u]-t.blkIndent>=4)break;for(f=I6(s),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),u===r+2&&(p=t.push("tbody_open","tbody",1),p.map=v=[r+2,0]),p=t.push("tr_open","tr",1),p.map=[u,u+1],c=0;c<d;c++)p=t.push("td_open","td",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=t.push("inline","",0),p.content=f[c]?f[c].trim():"",p.children=[],p=t.push("td_close","td",-1);p=t.push("tr_close","tr",-1)}return v&&(p=t.push("tbody_close","tbody",-1),v[1]=u),p=t.push("table_close","table",-1),g[1]=u,t.parentType=y,t.line=u,!0}});var R6=T((aje,D6)=>{"use strict";D6.exports=function(t,r,n){var i,o,s;if(t.sCount[r]-t.blkIndent<4)return!1;for(o=i=r+1;i<n;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,o=i;continue}break}return t.line=o,s=t.push("code_block","code",0),s.content=t.getLines(r,o,4+t.blkIndent,!1)+`
`,s.map=[r,t.line],!0}});var N6=T((cje,O6)=>{"use strict";O6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d=!1,p=t.bMarks[r]+t.tShift[r],h=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||p+3>h||(o=t.src.charCodeAt(p),o!==126&&o!==96)||(l=p,p=t.skipChars(p,o),s=p-l,s<3)||(f=t.src.slice(l,p),a=t.src.slice(p,h),o===96&&a.indexOf(String.fromCharCode(o))>=0))return!1;if(i)return!0;for(c=r;c++,!(c>=n||(p=l=t.bMarks[c]+t.tShift[c],h=t.eMarks[c],p<h&&t.sCount[c]<t.blkIndent));)if(t.src.charCodeAt(p)===o&&!(t.sCount[c]-t.blkIndent>=4)&&(p=t.skipChars(p,o),!(p-l<s)&&(p=t.skipSpaces(p),!(p<h)))){d=!0;break}return s=t.sCount[r],t.line=c+(d?1:0),u=t.push("fence","code",0),u.info=a,u.content=t.getLines(r+1,c,s,!0),u.markup=f,u.map=[r,t.line],!0}});var M6=T((lje,F6)=>{"use strict";var L6=wt().isSpace;F6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,b,C,_,P,S,x,I=t.lineMax,A=t.bMarks[r]+t.tShift[r],O=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||t.src.charCodeAt(A++)!==62)return!1;if(i)return!0;for(c=p=t.sCount[r]+1,t.src.charCodeAt(A)===32?(A++,c++,p++,o=!1,C=!0):t.src.charCodeAt(A)===9?(C=!0,(t.bsCount[r]+p)%4==3?(A++,c++,p++,o=!1):o=!0):C=!1,h=[t.bMarks[r]],t.bMarks[r]=A;A<O&&(s=t.src.charCodeAt(A),L6(s));){s===9?p+=4-(p+t.bsCount[r]+(o?1:0))%4:p++;A++}for(m=[t.bsCount[r]],t.bsCount[r]=t.sCount[r]+1+(C?1:0),u=A>=O,y=[t.sCount[r]],t.sCount[r]=p-c,b=[t.tShift[r]],t.tShift[r]=A-t.bMarks[r],P=t.md.block.ruler.getRules("blockquote"),v=t.parentType,t.parentType="blockquote",d=r+1;d<n&&(x=t.sCount[d]<t.blkIndent,A=t.bMarks[d]+t.tShift[d],O=t.eMarks[d],!(A>=O));d++){if(t.src.charCodeAt(A++)===62&&!x){for(c=p=t.sCount[d]+1,t.src.charCodeAt(A)===32?(A++,c++,p++,o=!1,C=!0):t.src.charCodeAt(A)===9?(C=!0,(t.bsCount[d]+p)%4==3?(A++,c++,p++,o=!1):o=!0):C=!1,h.push(t.bMarks[d]),t.bMarks[d]=A;A<O&&(s=t.src.charCodeAt(A),L6(s));){s===9?p+=4-(p+t.bsCount[d]+(o?1:0))%4:p++;A++}u=A>=O,m.push(t.bsCount[d]),t.bsCount[d]=t.sCount[d]+1+(C?1:0),y.push(t.sCount[d]),t.sCount[d]=p-c,b.push(t.tShift[d]),t.tShift[d]=A-t.bMarks[d];continue}if(u)break;for(_=!1,a=0,l=P.length;a<l;a++)if(P[a](t,d,n,!0)){_=!0;break}if(_){t.lineMax=d,t.blkIndent!==0&&(h.push(t.bMarks[d]),m.push(t.bsCount[d]),b.push(t.tShift[d]),y.push(t.sCount[d]),t.sCount[d]-=t.blkIndent);break}h.push(t.bMarks[d]),m.push(t.bsCount[d]),b.push(t.tShift[d]),y.push(t.sCount[d]),t.sCount[d]=-1}for(g=t.blkIndent,t.blkIndent=0,S=t.push("blockquote_open","blockquote",1),S.markup=">",S.map=f=[r,0],t.md.block.tokenize(t,r,d),S=t.push("blockquote_close","blockquote",-1),S.markup=">",t.lineMax=I,t.parentType=v,f[1]=t.line,a=0;a<b.length;a++)t.bMarks[a+r]=h[a],t.tShift[a+r]=b[a],t.sCount[a+r]=y[a],t.bsCount[a+r]=m[a];return t.blkIndent=g,!0}});var j6=T((uje,q6)=>{"use strict";var Jye=wt().isSpace;q6.exports=function(t,r,n,i){var o,s,a,c,l=t.bMarks[r]+t.tShift[r],u=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||(o=t.src.charCodeAt(l++),o!==42&&o!==45&&o!==95))return!1;for(s=1;l<u;){if(a=t.src.charCodeAt(l++),a!==o&&!Jye(a))return!1;a===o&&s++}return s<3?!1:(i||(t.line=r+1,c=t.push("hr","hr",0),c.map=[r,t.line],c.markup=Array(s+1).join(String.fromCharCode(o))),!0)}});var V6=T((fje,H6)=>{"use strict";var $6=wt().isSpace;function U6(e,t){var r,n,i,o;return n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],r=e.src.charCodeAt(n++),r!==42&&r!==45&&r!==43||n<i&&(o=e.src.charCodeAt(n),!$6(o))?-1:n}function B6(e,t){var r,n=e.bMarks[t]+e.tShift[t],i=n,o=e.eMarks[t];if(i+1>=o||(r=e.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=o)return-1;if(r=e.src.charCodeAt(i++),r>=48&&r<=57){if(i-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return i<o&&(r=e.src.charCodeAt(i),!$6(r))?-1:i}function Qye(e,t){var r,n,i=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===i&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}H6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,b,C,_,P,S,x,I,A,O,q,J,K,ee,re,j=!1,F=!0;if(t.sCount[r]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[r]-t.listIndent>=4&&t.sCount[r]<t.blkIndent)return!1;if(i&&t.parentType==="paragraph"&&t.sCount[r]>=t.blkIndent&&(j=!0),(O=B6(t,r))>=0){if(f=!0,J=t.bMarks[r]+t.tShift[r],v=Number(t.src.slice(J,O-1)),j&&v!==1)return!1}else if((O=U6(t,r))>=0)f=!1;else return!1;if(j&&t.skipSpaces(O)>=t.eMarks[r])return!1;if(g=t.src.charCodeAt(O-1),i)return!0;for(m=t.tokens.length,f?(re=t.push("ordered_list_open","ol",1),v!==1&&(re.attrs=[["start",v]])):re=t.push("bullet_list_open","ul",1),re.map=h=[r,0],re.markup=String.fromCharCode(g),b=r,q=!1,ee=t.md.block.ruler.getRules("list"),P=t.parentType,t.parentType="list";b<n;){for(A=O,y=t.eMarks[b],u=C=t.sCount[b]+O-(t.bMarks[r]+t.tShift[r]);A<y;){if(o=t.src.charCodeAt(A),o===9)C+=4-(C+t.bsCount[b])%4;else if(o===32)C++;else break;A++}if(s=A,s>=y?l=1:l=C-u,l>4&&(l=1),c=u+l,re=t.push("list_item_open","li",1),re.markup=String.fromCharCode(g),re.map=d=[r,0],f&&(re.info=t.src.slice(J,O-1)),I=t.tight,x=t.tShift[r],S=t.sCount[r],_=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=c,t.tight=!0,t.tShift[r]=s-t.bMarks[r],t.sCount[r]=C,s>=y&&t.isEmpty(r+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,r,n,!0),(!t.tight||q)&&(F=!1),q=t.line-r>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=_,t.tShift[r]=x,t.sCount[r]=S,t.tight=I,re=t.push("list_item_close","li",-1),re.markup=String.fromCharCode(g),b=r=t.line,d[1]=b,s=t.bMarks[r],b>=n||t.sCount[b]<t.blkIndent||t.sCount[r]-t.blkIndent>=4)break;for(K=!1,a=0,p=ee.length;a<p;a++)if(ee[a](t,b,n,!0)){K=!0;break}if(K)break;if(f){if(O=B6(t,b),O<0)break;J=t.bMarks[b]+t.tShift[b]}else if(O=U6(t,b),O<0)break;if(g!==t.src.charCodeAt(O-1))break}return f?re=t.push("ordered_list_close","ol",-1):re=t.push("bullet_list_close","ul",-1),re.markup=String.fromCharCode(g),h[1]=b,t.line=b,t.parentType=P,F&&Qye(t,m),!0}});var W6=T((dje,z6)=>{"use strict";var Xye=wt().normalizeReference,y0=wt().isSpace;z6.exports=function(t,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,b,C,_=0,P=t.bMarks[r]+t.tShift[r],S=t.eMarks[r],x=r+1;if(t.sCount[r]-t.blkIndent>=4||t.src.charCodeAt(P)!==91)return!1;for(;++P<S;)if(t.src.charCodeAt(P)===93&&t.src.charCodeAt(P-1)!==92){if(P+1===S||t.src.charCodeAt(P+1)!==58)return!1;break}for(c=t.lineMax,b=t.md.block.ruler.getRules("reference"),h=t.parentType,t.parentType="reference";x<c&&!t.isEmpty(x);x++)if(!(t.sCount[x]-t.blkIndent>3)&&!(t.sCount[x]<0)){for(y=!1,u=0,f=b.length;u<f;u++)if(b[u](t,x,c,!0)){y=!0;break}if(y)break}for(v=t.getLines(r,x,t.blkIndent,!1).trim(),S=v.length,P=1;P<S;P++){if(o=v.charCodeAt(P),o===91)return!1;if(o===93){p=P;break}else o===10?_++:o===92&&(P++,P<S&&v.charCodeAt(P)===10&&_++)}if(p<0||v.charCodeAt(p+1)!==58)return!1;for(P=p+2;P<S;P++)if(o=v.charCodeAt(P),o===10)_++;else if(!y0(o))break;if(m=t.md.helpers.parseLinkDestination(v,P,S),!m.ok||(l=t.md.normalizeLink(m.str),!t.md.validateLink(l)))return!1;for(P=m.pos,_+=m.lines,s=P,a=_,g=P;P<S;P++)if(o=v.charCodeAt(P),o===10)_++;else if(!y0(o))break;for(m=t.md.helpers.parseLinkTitle(v,P,S),P<S&&g!==P&&m.ok?(C=m.str,P=m.pos,_+=m.lines):(C="",P=s,_=a);P<S&&(o=v.charCodeAt(P),!!y0(o));)P++;if(P<S&&v.charCodeAt(P)!==10&&C)for(C="",P=s,_=a;P<S&&(o=v.charCodeAt(P),!!y0(o));)P++;return P<S&&v.charCodeAt(P)!==10||(d=Xye(v.slice(1,p)),!d)?!1:(i||(typeof t.env.references=="undefined"&&(t.env.references={}),typeof t.env.references[d]=="undefined"&&(t.env.references[d]={title:C,href:l}),t.parentType=h,t.line=r+_+1),!0)}});var K6=T((pje,G6)=>{"use strict";G6.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]});var mT=T((hje,hT)=>{"use strict";var Zye="[a-zA-Z_:][a-zA-Z0-9:._-]*",ewe="[^\"'=<>`\\x00-\\x20]+",twe="'[^']*'",rwe='"[^"]*"',nwe="(?:"+ewe+"|"+twe+"|"+rwe+")",iwe="(?:\\s+"+Zye+"(?:\\s*=\\s*"+nwe+")?)",Y6="<[A-Za-z][A-Za-z0-9\\-]*"+iwe+"*\\s*\\/?>",J6="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",owe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",swe="<[?][\\s\\S]*?[?]>",awe="<![A-Z]+\\s+[^>]*>",cwe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",lwe=new RegExp("^(?:"+Y6+"|"+J6+"|"+owe+"|"+swe+"|"+awe+"|"+cwe+")"),uwe=new RegExp("^(?:"+Y6+"|"+J6+")");hT.exports.HTML_TAG_RE=lwe;hT.exports.HTML_OPEN_CLOSE_TAG_RE=uwe});var X6=T((mje,Q6)=>{"use strict";var fwe=K6(),dwe=mT().HTML_OPEN_CLOSE_TAG_RE,Yf=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+fwe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(dwe.source+"\\s*$"),/^$/,!1]];Q6.exports=function(t,r,n,i){var o,s,a,c,l=t.bMarks[r]+t.tShift[r],u=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(l)!==60)return!1;for(c=t.src.slice(l,u),o=0;o<Yf.length&&!Yf[o][0].test(c);o++);if(o===Yf.length)return!1;if(i)return Yf[o][2];if(s=r+1,!Yf[o][1].test(c)){for(;s<n&&!(t.sCount[s]<t.blkIndent);s++)if(l=t.bMarks[s]+t.tShift[s],u=t.eMarks[s],c=t.src.slice(l,u),Yf[o][1].test(c)){c.length!==0&&s++;break}}return t.line=s,a=t.push("html_block","",0),a.map=[r,s],a.content=t.getLines(r,s,t.blkIndent,!0),!0}});var tK=T((gje,eK)=>{"use strict";var Z6=wt().isSpace;eK.exports=function(t,r,n,i){var o,s,a,c,l=t.bMarks[r]+t.tShift[r],u=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||(o=t.src.charCodeAt(l),o!==35||l>=u))return!1;for(s=1,o=t.src.charCodeAt(++l);o===35&&l<u&&s<=6;)s++,o=t.src.charCodeAt(++l);return s>6||l<u&&!Z6(o)?!1:(i||(u=t.skipSpacesBack(u,l),a=t.skipCharsBack(u,35,l),a>l&&Z6(t.src.charCodeAt(a-1))&&(u=a),t.line=r+1,c=t.push("heading_open","h"+String(s),1),c.markup="########".slice(0,s),c.map=[r,t.line],c=t.push("inline","",0),c.content=t.src.slice(l,u).trim(),c.map=[r,t.line],c.children=[],c=t.push("heading_close","h"+String(s),-1),c.markup="########".slice(0,s)),!0)}});var nK=T((vje,rK)=>{"use strict";rK.exports=function(t,r,n){var i,o,s,a,c,l,u,f,d,p=r+1,h,m=t.md.block.ruler.getRules("paragraph");if(t.sCount[r]-t.blkIndent>=4)return!1;for(h=t.parentType,t.parentType="paragraph";p<n&&!t.isEmpty(p);p++)if(!(t.sCount[p]-t.blkIndent>3)){if(t.sCount[p]>=t.blkIndent&&(l=t.bMarks[p]+t.tShift[p],u=t.eMarks[p],l<u&&(d=t.src.charCodeAt(l),(d===45||d===61)&&(l=t.skipChars(l,d),l=t.skipSpaces(l),l>=u)))){f=d===61?1:2;break}if(!(t.sCount[p]<0)){for(o=!1,s=0,a=m.length;s<a;s++)if(m[s](t,p,n,!0)){o=!0;break}if(o)break}}return f?(i=t.getLines(r,p,t.blkIndent,!1).trim(),t.line=p+1,c=t.push("heading_open","h"+String(f),1),c.markup=String.fromCharCode(d),c.map=[r,t.line],c=t.push("inline","",0),c.content=i,c.map=[r,t.line-1],c.children=[],c=t.push("heading_close","h"+String(f),-1),c.markup=String.fromCharCode(d),t.parentType=h,!0):!1}});var oK=T((yje,iK)=>{"use strict";iK.exports=function(t,r){var n,i,o,s,a,c,l=r+1,u=t.md.block.ruler.getRules("paragraph"),f=t.lineMax;for(c=t.parentType,t.parentType="paragraph";l<f&&!t.isEmpty(l);l++)if(!(t.sCount[l]-t.blkIndent>3)&&!(t.sCount[l]<0)){for(i=!1,o=0,s=u.length;o<s;o++)if(u[o](t,l,f,!0)){i=!0;break}if(i)break}return n=t.getLines(r,l,t.blkIndent,!1).trim(),t.line=l,a=t.push("paragraph_open","p",1),a.map=[r,t.line],a=t.push("inline","",0),a.content=n,a.map=[r,t.line],a.children=[],a=t.push("paragraph_close","p",-1),t.parentType=c,!0}});var cK=T((wje,aK)=>{"use strict";var sK=v0(),w0=wt().isSpace;function Mo(e,t,r,n){var i,o,s,a,c,l,u,f;for(this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",o=this.src,f=!1,s=a=l=u=0,c=o.length;a<c;a++){if(i=o.charCodeAt(a),!f)if(w0(i)){l++,i===9?u+=4-u%4:u++;continue}else f=!0;(i===10||a===c-1)&&(i!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),f=!1,l=0,u=0,s=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Mo.prototype.push=function(e,t,r){var n=new sK(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};Mo.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Mo.prototype.skipEmptyLines=function(t){for(var r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Mo.prototype.skipSpaces=function(t){for(var r,n=this.src.length;t<n&&(r=this.src.charCodeAt(t),!!w0(r));t++);return t};Mo.prototype.skipSpacesBack=function(t,r){if(t<=r)return t;for(;t>r;)if(!w0(this.src.charCodeAt(--t)))return t+1;return t};Mo.prototype.skipChars=function(t,r){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};Mo.prototype.skipCharsBack=function(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};Mo.prototype.getLines=function(t,r,n,i){var o,s,a,c,l,u,f,d=t;if(t>=r)return"";for(u=new Array(r-t),o=0;d<r;d++,o++){for(s=0,f=c=this.bMarks[d],d+1<r||i?l=this.eMarks[d]+1:l=this.eMarks[d];c<l&&s<n;){if(a=this.src.charCodeAt(c),w0(a))a===9?s+=4-(s+this.bsCount[d])%4:s++;else if(c-f<this.tShift[d])s++;else break;c++}s>n?u[o]=new Array(s-n+1).join(" ")+this.src.slice(c,l):u[o]=this.src.slice(c,l)}return u.join("")};Mo.prototype.Token=sK;aK.exports=Mo});var uK=T((Cje,lK)=>{"use strict";var pwe=m0(),C0=[["table",A6(),["paragraph","reference"]],["code",R6()],["fence",N6(),["paragraph","reference","blockquote","list"]],["blockquote",M6(),["paragraph","reference","blockquote","list"]],["hr",j6(),["paragraph","reference","blockquote","list"]],["list",V6(),["paragraph","reference","blockquote"]],["reference",W6()],["html_block",X6(),["paragraph","reference","blockquote"]],["heading",tK(),["paragraph","reference","blockquote"]],["lheading",nK()],["paragraph",oK()]];function b0(){this.ruler=new pwe;for(var e=0;e<C0.length;e++)this.ruler.push(C0[e][0],C0[e][1],{alt:(C0[e][2]||[]).slice()})}b0.prototype.tokenize=function(e,t,r){for(var n,i,o=this.ruler.getRules(""),s=o.length,a=t,c=!1,l=e.md.options.maxNesting;a<r&&(e.line=a=e.skipEmptyLines(a),!(a>=r||e.sCount[a]<e.blkIndent));){if(e.level>=l){e.line=r;break}for(i=0;i<s&&(n=o[i](e,a,r,!1),!n);i++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),a=e.line,a<r&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}};b0.prototype.parse=function(e,t,r,n){var i;!e||(i=new this.State(e,t,r,n),this.tokenize(i,i.line,i.lineMax))};b0.prototype.State=cK();lK.exports=b0});var dK=T((bje,fK)=>{"use strict";function hwe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}fK.exports=function(t,r){for(var n=t.pos;n<t.posMax&&!hwe(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(r||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}});var hK=T((Eje,pK)=>{"use strict";var mwe=wt().isSpace;pK.exports=function(t,r){var n,i,o,s=t.pos;if(t.src.charCodeAt(s)!==10)return!1;if(n=t.pending.length-1,i=t.posMax,!r)if(n>=0&&t.pending.charCodeAt(n)===32)if(n>=1&&t.pending.charCodeAt(n-1)===32){for(o=n-1;o>=1&&t.pending.charCodeAt(o-1)===32;)o--;t.pending=t.pending.slice(0,o),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(s++;s<i&&mwe(t.src.charCodeAt(s));)s++;return t.pos=s,!0}});var gK=T((_je,mK)=>{"use strict";var gwe=wt().isSpace,gT=[];for(vT=0;vT<256;vT++)gT.push(0);var vT;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){gT[e.charCodeAt(0)]=1});mK.exports=function(t,r){var n,i=t.pos,o=t.posMax;if(t.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(n=t.src.charCodeAt(i),n<256&&gT[n]!==0)return r||(t.pending+=t.src[i]),t.pos+=2,!0;if(n===10){for(r||t.push("hardbreak","br",0),i++;i<o&&(n=t.src.charCodeAt(i),!!gwe(n));)i++;return t.pos=i,!0}}return r||(t.pending+="\\"),t.pos++,!0}});var yK=T((Sje,vK)=>{"use strict";vK.exports=function(t,r){var n,i,o,s,a,c,l,u,f=t.pos,d=t.src.charCodeAt(f);if(d!==96)return!1;for(n=f,f++,i=t.posMax;f<i&&t.src.charCodeAt(f)===96;)f++;if(o=t.src.slice(n,f),l=o.length,t.backticksScanned&&(t.backticks[l]||0)<=n)return r||(t.pending+=o),t.pos+=l,!0;for(a=c=f;(a=t.src.indexOf("`",c))!==-1;){for(c=a+1;c<i&&t.src.charCodeAt(c)===96;)c++;if(u=c-a,u===l)return r||(s=t.push("code_inline","code",0),s.markup=o,s.content=t.src.slice(f,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=c,!0;t.backticks[u]=a}return t.backticksScanned=!0,r||(t.pending+=o),t.pos+=l,!0}});var wT=T((xje,yT)=>{"use strict";yT.exports.tokenize=function(t,r){var n,i,o,s,a,c=t.pos,l=t.src.charCodeAt(c);if(r||l!==126||(i=t.scanDelims(t.pos,!0),s=i.length,a=String.fromCharCode(l),s<2))return!1;for(s%2&&(o=t.push("text","",0),o.content=a,s--),n=0;n<s;n+=2)o=t.push("text","",0),o.content=a+a,t.delimiters.push({marker:l,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function wK(e,t){var r,n,i,o,s,a=[],c=t.length;for(r=0;r<c;r++)i=t[r],i.marker===126&&i.end!==-1&&(o=t[i.end],s=e.tokens[i.token],s.type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",s=e.tokens[o.token],s.type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="",e.tokens[o.token-1].type==="text"&&e.tokens[o.token-1].content==="~"&&a.push(o.token-1));for(;a.length;){for(r=a.pop(),n=r+1;n<e.tokens.length&&e.tokens[n].type==="s_close";)n++;n--,r!==n&&(s=e.tokens[n],e.tokens[n]=e.tokens[r],e.tokens[r]=s)}}yT.exports.postProcess=function(t){var r,n=t.tokens_meta,i=t.tokens_meta.length;for(wK(t,t.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&wK(t,n[r].delimiters)}});var bT=T((Pje,CT)=>{"use strict";CT.exports.tokenize=function(t,r){var n,i,o,s=t.pos,a=t.src.charCodeAt(s);if(r||a!==95&&a!==42)return!1;for(i=t.scanDelims(t.pos,a===42),n=0;n<i.length;n++)o=t.push("text","",0),o.content=String.fromCharCode(a),t.delimiters.push({marker:a,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function CK(e,t){var r,n,i,o,s,a,c=t.length;for(r=c-1;r>=0;r--)n=t[r],!(n.marker!==95&&n.marker!==42)&&n.end!==-1&&(i=t[n.end],a=r>0&&t[r-1].end===n.end+1&&t[r-1].marker===n.marker&&t[r-1].token===n.token-1&&t[n.end+1].token===i.token+1,s=String.fromCharCode(n.marker),o=e.tokens[n.token],o.type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",o=e.tokens[i.token],o.type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(e.tokens[t[r-1].token].content="",e.tokens[t[n.end+1].token].content="",r--))}CT.exports.postProcess=function(t){var r,n=t.tokens_meta,i=t.tokens_meta.length;for(CK(t,t.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&CK(t,n[r].delimiters)}});var EK=T((kje,bK)=>{"use strict";var vwe=wt().normalizeReference,ET=wt().isSpace;bK.exports=function(t,r){var n,i,o,s,a,c,l,u,f,d="",p="",h=t.pos,m=t.posMax,g=t.pos,v=!0;if(t.src.charCodeAt(t.pos)!==91||(a=t.pos+1,s=t.md.helpers.parseLinkLabel(t,t.pos,!0),s<0))return!1;if(c=s+1,c<m&&t.src.charCodeAt(c)===40){for(v=!1,c++;c<m&&(i=t.src.charCodeAt(c),!(!ET(i)&&i!==10));c++);if(c>=m)return!1;if(g=c,l=t.md.helpers.parseLinkDestination(t.src,c,t.posMax),l.ok){for(d=t.md.normalizeLink(l.str),t.md.validateLink(d)?c=l.pos:d="",g=c;c<m&&(i=t.src.charCodeAt(c),!(!ET(i)&&i!==10));c++);if(l=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<m&&g!==c&&l.ok)for(p=l.str,c=l.pos;c<m&&(i=t.src.charCodeAt(c),!(!ET(i)&&i!==10));c++);}(c>=m||t.src.charCodeAt(c)!==41)&&(v=!0),c++}if(v){if(typeof t.env.references=="undefined")return!1;if(c<m&&t.src.charCodeAt(c)===91?(g=c+1,c=t.md.helpers.parseLinkLabel(t,c),c>=0?o=t.src.slice(g,c++):c=s+1):c=s+1,o||(o=t.src.slice(a,s)),u=t.env.references[vwe(o)],!u)return t.pos=h,!1;d=u.href,p=u.title}return r||(t.pos=a,t.posMax=s,f=t.push("link_open","a",1),f.attrs=n=[["href",d]],p&&n.push(["title",p]),t.md.inline.tokenize(t),f=t.push("link_close","a",-1)),t.pos=c,t.posMax=m,!0}});var SK=T((Ije,_K)=>{"use strict";var ywe=wt().normalizeReference,_T=wt().isSpace;_K.exports=function(t,r){var n,i,o,s,a,c,l,u,f,d,p,h,m,g="",v=t.pos,y=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(c=t.pos+2,a=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),a<0))return!1;if(l=a+1,l<y&&t.src.charCodeAt(l)===40){for(l++;l<y&&(i=t.src.charCodeAt(l),!(!_T(i)&&i!==10));l++);if(l>=y)return!1;for(m=l,f=t.md.helpers.parseLinkDestination(t.src,l,t.posMax),f.ok&&(g=t.md.normalizeLink(f.str),t.md.validateLink(g)?l=f.pos:g=""),m=l;l<y&&(i=t.src.charCodeAt(l),!(!_T(i)&&i!==10));l++);if(f=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<y&&m!==l&&f.ok)for(d=f.str,l=f.pos;l<y&&(i=t.src.charCodeAt(l),!(!_T(i)&&i!==10));l++);else d="";if(l>=y||t.src.charCodeAt(l)!==41)return t.pos=v,!1;l++}else{if(typeof t.env.references=="undefined")return!1;if(l<y&&t.src.charCodeAt(l)===91?(m=l+1,l=t.md.helpers.parseLinkLabel(t,l),l>=0?s=t.src.slice(m,l++):l=a+1):l=a+1,s||(s=t.src.slice(c,a)),u=t.env.references[ywe(s)],!u)return t.pos=v,!1;g=u.href,d=u.title}return r||(o=t.src.slice(c,a),t.md.inline.parse(o,t.md,t.env,h=[]),p=t.push("image","img",0),p.attrs=n=[["src",g],["alt",""]],p.children=h,p.content=o,d&&n.push(["title",d])),t.pos=l,t.posMax=y,!0}});var PK=T((Tje,xK)=>{"use strict";var wwe=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Cwe=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;xK.exports=function(t,r){var n,i,o,s,a,c,l=t.pos;if(t.src.charCodeAt(l)!==60)return!1;for(a=t.pos,c=t.posMax;;){if(++l>=c||(s=t.src.charCodeAt(l),s===60))return!1;if(s===62)break}return n=t.src.slice(a+1,l),Cwe.test(n)?(i=t.md.normalizeLink(n),t.md.validateLink(i)?(r||(o=t.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(n),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=n.length+2,!0):!1):wwe.test(n)?(i=t.md.normalizeLink("mailto:"+n),t.md.validateLink(i)?(r||(o=t.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(n),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=n.length+2,!0):!1):!1}});var IK=T((Aje,kK)=>{"use strict";var bwe=mT().HTML_TAG_RE;function Ewe(e){var t=e|32;return t>=97&&t<=122}kK.exports=function(t,r){var n,i,o,s,a=t.pos;return!t.md.options.html||(o=t.posMax,t.src.charCodeAt(a)!==60||a+2>=o)||(n=t.src.charCodeAt(a+1),n!==33&&n!==63&&n!==47&&!Ewe(n))||(i=t.src.slice(a).match(bwe),!i)?!1:(r||(s=t.push("html_inline","",0),s.content=t.src.slice(a,a+i[0].length)),t.pos+=i[0].length,!0)}});var RK=T((Dje,DK)=>{"use strict";var TK=oT(),_we=wt().has,Swe=wt().isValidEntityCode,AK=wt().fromCodePoint,xwe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Pwe=/^&([a-z][a-z0-9]{1,31});/i;DK.exports=function(t,r){var n,i,o,s=t.pos,a=t.posMax;if(t.src.charCodeAt(s)!==38)return!1;if(s+1<a){if(n=t.src.charCodeAt(s+1),n===35){if(o=t.src.slice(s).match(xwe),o)return r||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),t.pending+=Swe(i)?AK(i):AK(65533)),t.pos+=o[0].length,!0}else if(o=t.src.slice(s).match(Pwe),o&&_we(TK,o[1]))return r||(t.pending+=TK[o[1]]),t.pos+=o[0].length,!0}return r||(t.pending+="&"),t.pos++,!0}});var LK=T((Rje,NK)=>{"use strict";function OK(e,t){var r,n,i,o,s,a,c,l,u={},f=t.length;if(!!f){var d=0,p=-2,h=[];for(r=0;r<f;r++)if(i=t[r],h.push(0),(t[d].marker!==i.marker||p!==i.token-1)&&(d=r),p=i.token,i.length=i.length||0,!!i.close){for(u.hasOwnProperty(i.marker)||(u[i.marker]=[-1,-1,-1,-1,-1,-1]),s=u[i.marker][(i.open?3:0)+i.length%3],n=d-h[d]-1,a=n;n>s;n-=h[n]+1)if(o=t[n],o.marker===i.marker&&o.open&&o.end<0&&(c=!1,(o.close||i.open)&&(o.length+i.length)%3==0&&(o.length%3!=0||i.length%3!=0)&&(c=!0),!c)){l=n>0&&!t[n-1].open?h[n-1]+1:0,h[r]=r-n+l,h[n]=l,i.open=!1,o.end=r,o.close=!1,a=-1,p=-2;break}a!==-1&&(u[i.marker][(i.open?3:0)+(i.length||0)%3]=a)}}}NK.exports=function(t){var r,n=t.tokens_meta,i=t.tokens_meta.length;for(OK(t,t.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&OK(t,n[r].delimiters)}});var MK=T((Oje,FK)=>{"use strict";FK.exports=function(t){var r,n,i=0,o=t.tokens,s=t.tokens.length;for(r=n=0;r<s;r++)o[r].nesting<0&&i--,o[r].level=i,o[r].nesting>0&&i++,o[r].type==="text"&&r+1<s&&o[r+1].type==="text"?o[r+1].content=o[r].content+o[r+1].content:(r!==n&&(o[n]=o[r]),n++);r!==n&&(o.length=n)}});var BK=T((Nje,UK)=>{"use strict";var ST=v0(),qK=wt().isWhiteSpace,jK=wt().isPunctChar,$K=wt().isMdAsciiPunct;function ym(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}ym.prototype.pushPending=function(){var e=new ST("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};ym.prototype.push=function(e,t,r){this.pending&&this.pushPending();var n=new ST(e,t,r),i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(i),n};ym.prototype.scanDelims=function(e,t){var r=e,n,i,o,s,a,c,l,u,f,d=!0,p=!0,h=this.posMax,m=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;r<h&&this.src.charCodeAt(r)===m;)r++;return o=r-e,i=r<h?this.src.charCodeAt(r):32,l=$K(n)||jK(String.fromCharCode(n)),f=$K(i)||jK(String.fromCharCode(i)),c=qK(n),u=qK(i),u?d=!1:f&&(c||l||(d=!1)),c?p=!1:l&&(u||f||(p=!1)),t?(s=d,a=p):(s=d&&(!p||l),a=p&&(!d||f)),{can_open:s,can_close:a,length:o}};ym.prototype.Token=ST;UK.exports=ym});var zK=T((Lje,VK)=>{"use strict";var HK=m0(),xT=[["text",dK()],["newline",hK()],["escape",gK()],["backticks",yK()],["strikethrough",wT().tokenize],["emphasis",bT().tokenize],["link",EK()],["image",SK()],["autolink",PK()],["html_inline",IK()],["entity",RK()]],PT=[["balance_pairs",LK()],["strikethrough",wT().postProcess],["emphasis",bT().postProcess],["text_collapse",MK()]];function wm(){var e;for(this.ruler=new HK,e=0;e<xT.length;e++)this.ruler.push(xT[e][0],xT[e][1]);for(this.ruler2=new HK,e=0;e<PT.length;e++)this.ruler2.push(PT[e][0],PT[e][1])}wm.prototype.skipToken=function(e){var t,r,n=e.pos,i=this.ruler.getRules(""),o=i.length,s=e.md.options.maxNesting,a=e.cache;if(typeof a[n]!="undefined"){e.pos=a[n];return}if(e.level<s)for(r=0;r<o&&(e.level++,t=i[r](e,!0),e.level--,!t);r++);else e.pos=e.posMax;t||e.pos++,a[n]=e.pos};wm.prototype.tokenize=function(e){for(var t,r,n=this.ruler.getRules(""),i=n.length,o=e.posMax,s=e.md.options.maxNesting;e.pos<o;){if(e.level<s)for(r=0;r<i&&(t=n[r](e,!1),!t);r++);if(t){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};wm.prototype.parse=function(e,t,r,n){var i,o,s,a=new this.State(e,t,r,n);for(this.tokenize(a),o=this.ruler2.getRules(""),s=o.length,i=0;i<s;i++)o[i](a)};wm.prototype.State=BK();VK.exports=wm});var GK=T((Fje,WK)=>{"use strict";WK.exports=function(e){var t={};t.src_Any=aT().source,t.src_Cc=cT().source,t.src_Z=lT().source,t.src_P=u0().source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><\uFF5C]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}});var ZK=T((Mje,XK)=>{"use strict";function kT(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(r){!r||Object.keys(r).forEach(function(n){e[n]=r[n]})}),e}function E0(e){return Object.prototype.toString.call(e)}function kwe(e){return E0(e)==="[object String]"}function Iwe(e){return E0(e)==="[object Object]"}function Twe(e){return E0(e)==="[object RegExp]"}function KK(e){return E0(e)==="[object Function]"}function Awe(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var YK={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Dwe(e){return Object.keys(e||{}).reduce(function(t,r){return t||YK.hasOwnProperty(r)},!1)}var Rwe={"http:":{validate:function(e,t,r){var n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},Owe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Nwe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function Lwe(e){e.__index__=-1,e.__text_cache__=""}function Fwe(e){return function(t,r){var n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}function JK(){return function(e,t){t.normalize(e)}}function _0(e){var t=e.re=GK()(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(Owe),r.push(t.src_xn),t.src_tlds=r.join("|");function n(a){return a.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");var i=[];e.__compiled__={};function o(a,c){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+c)}Object.keys(e.__schemas__).forEach(function(a){var c=e.__schemas__[a];if(c!==null){var l={validate:null,link:null};if(e.__compiled__[a]=l,Iwe(c)){Twe(c.validate)?l.validate=Fwe(c.validate):KK(c.validate)?l.validate=c.validate:o(a,c),KK(c.normalize)?l.normalize=c.normalize:c.normalize?o(a,c):l.normalize=JK();return}if(kwe(c)){i.push(a);return}o(a,c)}}),i.forEach(function(a){!e.__compiled__[e.__schemas__[a]]||(e.__compiled__[a].validate=e.__compiled__[e.__schemas__[a]].validate,e.__compiled__[a].normalize=e.__compiled__[e.__schemas__[a]].normalize)}),e.__compiled__[""]={validate:null,normalize:JK()};var s=Object.keys(e.__compiled__).filter(function(a){return a.length>0&&e.__compiled__[a]}).map(Awe).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Lwe(e)}function Mwe(e,t){var r=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function QK(e,t){var r=new Mwe(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function Pi(e,t){if(!(this instanceof Pi))return new Pi(e,t);t||Dwe(e)&&(t=e,e={}),this.__opts__=kT({},YK,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=kT({},Rwe,e),this.__compiled__={},this.__tlds__=Nwe,this.__tlds_replaced__=!1,this.re={},_0(this)}Pi.prototype.add=function(t,r){return this.__schemas__[t]=r,_0(this),this};Pi.prototype.set=function(t){return this.__opts__=kT(this.__opts__,t),this};Pi.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var r,n,i,o,s,a,c,l,u;if(this.re.schema_test.test(t)){for(c=this.re.schema_search,c.lastIndex=0;(r=c.exec(t))!==null;)if(o=this.testSchemaAt(t,r[2],c.lastIndex),o){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=n.index+n[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=t.indexOf("@"),u>=0&&(i=t.match(this.re.email_fuzzy))!==null&&(s=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};Pi.prototype.pretest=function(t){return this.re.pretest.test(t)};Pi.prototype.testSchemaAt=function(t,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,n,this):0};Pi.prototype.match=function(t){var r=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(QK(this,r)),r=this.__last_index__);for(var i=r?t.slice(r):t;this.test(i);)n.push(QK(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Pi.prototype.tlds=function(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,i,o){return n!==o[i-1]}).reverse(),_0(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,_0(this),this)};Pi.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Pi.prototype.onCompile=function(){};XK.exports=Pi});var t9=T((qje,e9)=>{"use strict";e9.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}});var n9=T((jje,r9)=>{"use strict";r9.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}});var o9=T(($je,i9)=>{"use strict";i9.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}});var l9=T((Uje,c9)=>{"use strict";var Cm=wt(),qwe=e6(),jwe=r6(),$we=k6(),Uwe=uK(),Bwe=zK(),Hwe=ZK(),Sl=sT(),s9=require("punycode"),Vwe={default:t9(),zero:n9(),commonmark:o9()},zwe=/^(vbscript|javascript|file|data):/,Wwe=/^data:image\/(gif|png|jpeg|webp);/;function Gwe(e){var t=e.trim().toLowerCase();return zwe.test(t)?!!Wwe.test(t):!0}var a9=["http:","https:","mailto:"];function Kwe(e){var t=Sl.parse(e,!0);if(t.hostname&&(!t.protocol||a9.indexOf(t.protocol)>=0))try{t.hostname=s9.toASCII(t.hostname)}catch{}return Sl.encode(Sl.format(t))}function Ywe(e){var t=Sl.parse(e,!0);if(t.hostname&&(!t.protocol||a9.indexOf(t.protocol)>=0))try{t.hostname=s9.toUnicode(t.hostname)}catch{}return Sl.decode(Sl.format(t),Sl.decode.defaultChars+"%")}function ki(e,t){if(!(this instanceof ki))return new ki(e,t);t||Cm.isString(e)||(t=e||{},e="default"),this.inline=new Bwe,this.block=new Uwe,this.core=new $we,this.renderer=new jwe,this.linkify=new Hwe,this.validateLink=Gwe,this.normalizeLink=Kwe,this.normalizeLinkText=Ywe,this.utils=Cm,this.helpers=Cm.assign({},qwe),this.options={},this.configure(e),t&&this.set(t)}ki.prototype.set=function(e){return Cm.assign(this.options,e),this};ki.prototype.configure=function(e){var t=this,r;if(Cm.isString(e)&&(r=e,e=Vwe[r],!e))throw new Error('Wrong `markdown-it` preset "'+r+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};ki.prototype.enable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));var n=e.filter(function(i){return r.indexOf(i)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};ki.prototype.disable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));var n=e.filter(function(i){return r.indexOf(i)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};ki.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};ki.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};ki.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};ki.prototype.parseInline=function(e,t){var r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};ki.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};c9.exports=ki});var f9=T((Bje,u9)=>{"use strict";u9.exports=l9()});var F5=T((ABe,u0e)=>{u0e.exports={name:"remote-containers",displayName:"Remote - Containers",description:"Open any folder or repository inside a Docker container and take advantage of Visual Studio Code's full feature set.",version:"0.251.0",preview:!0,publisher:"ms-vscode-remote",icon:"resources/remote-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.71.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"Opening a folder in a container requires workspace trust."},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","development container"],aiKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",activationEvents:["onStartupFinished","onCommand:remote-containers.reopenInContainer","onCommand:remote-containers.rebuildAndReopenInContainer","onCommand:remote-containers.rebuildNoCacheAndReopenInContainer","onCommand:remote-containers.reopenLocally","onCommand:remote-containers.reopenInWSL","onCommand:remote-containers.reopenInSSH","onCommand:remote-containers.openFolder","onCommand:remote-containers.openRepositoryInVolume","onCommand:remote-containers.openRepositoryInUniqueVolume","onCommand:remote-containers.openRepositoryFromRemoteHub","onCommand:remote-containers.openRepositoryFromRemoteHubWithEditSession","onCommand:remote-containers.openPullRequestInVolume","onCommand:remote-containers.inspectVolume","onCommand:remote-containers.inspectVolumeFromViewlet","onCommand:remote-containers.inspectInBasicDevContainer","onCommand:remote-containers.cloneInVolumeFromViewlet","onCommand:remote-containers.pruneVolumes","onCommand:remote-containers.openWorkspace","onCommand:remote-containers.attachToRunningContainer","onCommand:remote-containers.attachToRunningContainerFromViewlet","onCommand:remote-containers.attachToK8sContainerFromViewlet","onCommand:remote-containers.checkoutPRInVolume","onCommand:remote-containers.rebuildContainer","onCommand:remote-containers.rebuildContainerNoCache","onCommand:remote-containers.createDevContainerFile","onCommand:remote-containers.openDevContainerFile","onCommand:remote-containers.openAttachDevContainerFile","onCommand:remote-containers.settings","onCommand:remote-containers.getHelp","onCommand:remote-containers.getStarted","onCommand:remote-containers.trySample","onCommand:remote-containers.reportIssue","onCommand:remote-containers.provideFeedback","onCommand:remote-containers.revealLogTerminal","onCommand:remote-containers.openLogFile","onCommand:remote-containers.openLastLogFile","onCommand:remote-containers.addExtensionToConfig","onCommand:remote-containers.showReopenInContainerNotificationReset","onCommand:remote-containers.showRecoveryContainerNotificationReset","onCommand:remote-containers.labelPortAndUpdateConfig","onCommand:remote-containers.installDocker","onCommand:remote-containers.installUserCLI","onCommand:remote-containers.configureContainerFeatures","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost","onView:targetsContainers"],main:"./dist/extension/extension",enabledApiProposals:["resolvers","tunnels","workspaceTrust","terminalDimensions","contribEditSessions","contribViewsRemote"],contributes:{virtualWorkspaces:{menus:{continueOn:[{command:"remote-containers.openRepositoryFromRemoteHub",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders"}]}},continueEditSession:[{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders"}],languages:[{id:"jsonc",filenames:["devcontainer-features.json"]}],jsonValidation:[{fileMatch:"devcontainer-features.json",url:"./schemas/devcontainer-features.schema.json"}],configuration:{title:"Remote - Containers",properties:{"remote.containers.defaultExtensions":{scope:"application",type:"array",description:"Configures the list of extensions to always install while creating a container.",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'."}},"remote.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["Perfect consistency.","The host\u2019s view is authoritative.","The container\u2019s view is authoritative."],description:"The consistency level used for the workspace mount (existing containers must be rebuilt to take effect).",default:"cached"},"remote.containers.cacheVolume":{scope:"application",type:"boolean",description:"Controls whether a Docker volume should be used to cache the VS Code server and extensions. Currently only applies to single container and not Docker Compose configurations.",default:!0},"remote.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"Controls whether the Git configuration (`~/.gitconfig`) should be copied into the container. This is done after installing any `#dotfiles.repository#` and will not overwrite an existing Git configuration file.",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["Write to system config (`/etc/gitconfig`, requires root access).","Write to user config (`~/.gitconfig`).","Do not set a credential helper."],description:"Where to write the configuration for the Git credential helper.",default:"global"},"remote.containers.logLevel":{scope:"application",type:"string",description:"The log level for the extension.",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",type:"string",description:"Docker (or Podman) executable name or path.",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",type:"string",description:"Docker Compose executable name or path.",default:"docker-compose"},"remote.containers.executeInWSL":{scope:"application",type:"boolean",description:"Controls whether CLI commands should always be executed in WSL. The default is to only execute in WSL for workspace folders in WSL. This setting has no effect on other platforms than Windows.",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"WSL distro to use when not reopening a WSL folder. The default is to use the default WSL distro (see `wsl -l`). This setting has no effect when `#remote.containers.executeInWSL#` is not enabled or on other platforms than Windows."},"dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository."},"dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository's root folder."},"dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`.",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository for DevContainers. This overrides the common setting for the dotfiles repository."},"remote.containers.dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository for DevContainers. This overrides the common setting for the dotfiles install command."},"remote.containers.dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to for DevContainers. This overrides the common setting for the dotfiles target path."},"remote.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"List of additional paths to search for [repository configurations](https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers).",default:[],items:{type:"string"}}}},commands:[{command:"remote-containers.reopenInContainer",title:"Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.rebuildAndReopenInContainer",title:"Rebuild and Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"Rebuild Without Cache and Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.reopenLocally",title:"Reopen Folder Locally",category:"Remote-Containers"},{command:"remote-containers.reopenInWSL",title:"Reopen Folder in WSL",category:"Remote-Containers"},{command:"remote-containers.reopenInSSH",title:"Reopen Folder in SSH",category:"Remote-Containers"},{command:"remote-containers.openFolder",title:"Open Folder in Container...",category:"Remote-Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.startAndOpenFolder",title:"Open Folder in Container",category:"Remote-Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openRepositoryInVolume",title:"Clone Repository in Named Container Volume...",category:"Remote-Containers"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"Clone Repository in Container Volume...",icon:"$(repo-clone)",category:"Remote-Containers"},{command:"remote-containers.openRepositoryFromRemoteHub",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Remote-Containers"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Remote-Containers"},{command:"remote-containers.openPullRequestInVolume",title:"Clone GitHub Pull Request in Container Volume...",category:"Remote-Containers"},{command:"remote-containers.inspectVolume",title:"Explore a Volume in a Development Container...",category:"Remote-Containers"},{command:"remote-containers.openWorkspace",title:"Open Workspace in Container...",category:"Remote-Containers"},{command:"remote-containers.attachToRunningContainer",title:"Attach to Running Container...",category:"Remote-Containers"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"Attach Visual Studio Code",category:"Remote-Containers"},{command:"remote-containers.inspectVolumeFromViewlet",title:"Explore in a Development Container",category:"Remote-Containers"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"Clone into existing Volume",category:"Remote-Containers"},{command:"remote-containers.pruneVolumes",title:"Remove Unused Volumes...",category:"Remote-Containers",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"Refresh",category:"Remote-Containers",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"Attach Visual Studio Code",category:"Remote-Containers"},{command:"remote-containers.rebuildContainer",title:"Rebuild Container",category:"Remote-Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"Rebuild Container Without Cache",category:"Remote-Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"Add Development Container Configuration Files...",category:"Remote-Containers"},{command:"remote-containers.settings",title:"Settings for Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.getHelp",title:"Help for Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.getStarted",title:"Getting Started with Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.trySample",title:"Try a Development Container Sample...",category:"Remote-Containers"},{command:"remote-containers.reportIssue",title:"Report Issue with Remote-Containers...",category:"Remote-Containers"},{command:"remote-containers.provideFeedback",title:"Provide Feedback",category:"Remote-Containers"},{command:"remote-containers.openDevContainerFile",title:"Open Container Configuration File",category:"Remote-Containers",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"Open Named Container Configuration File",category:"Remote-Containers"},{command:"remote-containers.openAttachDevContainerFile",title:"Open Attached Container Configuration File...",category:"Remote-Containers"},{command:"remote-containers.revealLogTerminal",title:"Show Container Log",category:"Remote-Containers"},{command:"remote-containers.openLogFile",title:"Show All Logs...",category:"Remote-Containers Developer"},{command:"remote-containers.openLastLogFile",title:"Show Previous Log",category:"Remote-Containers"},{command:"remote-containers.attachToContainer",title:"Attach to Container",category:"Remote-Containers",icon:{light:"resources/light/empty-window.svg",dark:"resources/dark/empty-window.svg"}},{command:"remote-containers.attachToContainerNewWindow",title:"Attach in New Window",category:"Remote-Containers"},{command:"remote-containers.stopContainer",title:"Stop Container",category:"Remote-Containers"},{command:"remote-containers.startContainer",title:"Start Container",category:"Remote-Containers",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"Remove Container",category:"Remote-Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"Remove Recent Folder",category:"Remote-Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"Show Details",category:"Remote-Containers"},{command:"remote-containers.explorerTargetsRefresh",title:"Refresh",category:"Remote-Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"Refresh",category:"Remote-Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"Inspect",category:"Remote-Containers"},{command:"remote-containers.inspectInBasicDevContainer",title:"Explore in Development Container",category:"Remote-Containers"},{command:"remote-containers.cloneInVolume",title:"Clone Repository in Volume",category:"Remote-Containers"},{command:"remote-containers.removeVolume",title:"Remove",category:"Remote-Containers"},{command:"remote-containers.newContainer",title:"New Container",category:"Remote-Containers",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"Show Container Log",category:"Remote-Containers"},{command:"remote-containers.addExtensionToConfig",title:"Add to devcontainer.json",category:"Remote-Containers"},{command:"remote-containers.checkoutPRInVolume",title:"Checkout Pull Request in Dev Container",category:"Remote-Containers"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"Reset Don't Show Reopen Notification",category:"Remote-Containers"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"Reset Don't Show Recovery Container Notification",category:"Remote-Containers"},{command:"remote-containers.labelPortAndUpdateConfig",title:"Set Label and Update devcontainer.json",category:"Remote-Containers",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"Install Docker",category:"Remote-Containers"},{command:"remote-containers.installUserCLI",title:"Install devcontainer CLI",category:"Remote-Containers"},{command:"remote-containers.configureContainerFeatures",title:"Configure Container Features...",category:"Remote-Containers"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenLocally",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHub",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.getStarted",when:"false"},{command:"remote-containers.trySample",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainer",when:"false"},{command:"remote-containers.attachToContainerNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.startAndOpenFolder",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@4",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@4",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@5",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@5",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@7",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@7",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@8",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@8",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_1_actions@1",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_1_actions@1",when:"canReopenInSSH"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_1_actions@2",when:"canReopenLocally"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_1_actions@3",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.openDevContainerFile",group:"remote_30_dev-container_1_actions@4",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.revealLogTerminal",group:"remote_30_dev-container_1_actions@5",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_1_actions@6",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_1_actions@8",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_1_actions@9",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.settings",group:"remote_30_dev-container_9_help@1",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.reportIssue",group:"remote_30_dev-container_9_help@2",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.getHelp",group:"remote_30_dev-container_9_help@4",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainer",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@2"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"inline@1"},{command:"remote-containers.attachToContainerNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@2"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Dev Container"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Container"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Exec"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Kubernetes"}}],views:{remote:[{id:"targetsContainers",name:"Containers",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"Details (Containers)",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"DevVolumes",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"Get started with containers by [installing Docker](command:remote-containers.installDocker) or by visiting the [help view](command:~remote.helpPanel.focus). [Refresh](command:remote-containers.explorerTargetsRefresh) after installation and startup."},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"[Refresh](command:remote-containers.explorerTargetsRefresh) to provide SSH credentials."},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:`Get started with containers by running one of the [Remote-Containers](command:remote-containers.newContainer) commands.
You can [reopen the current folder in a container](command:remote-containers.reopenInContainer), or open another folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:`Get started with containers by running one of the [Remote-Containers](command:remote-containers.newContainer) commands.
You can open an existing folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:`If there's a repository you want to work with you can clone that directly in a container volume.
[Clone Repository in Container Volume](command:remote-containers.openRepositoryInUniqueVolume)
`}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",feedback:"https://aka.ms/vscode-remote/containers/provide-feedback",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npx npm-run-all --npm-path npm clean definitions compile-prod dev-containers-user-cli-prepare",compile:"npx npm-run-all --npm-path npm clean-dist definitions compile-dev",watch:"npx npm-run-all --npm-path npm clean-dist definitions compile-watch",precommit:"node build/hygiene.js",package:"vsce package --yarn",definitions:"npx npm-run-all --npm-path npm definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src ./test","compile-prod":"node esbuild.js --production","compile-dev":"node esbuild.js","compile-watch":"node esbuild.js --watch","type-check":"npx npm-run-all --npm-path npm clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npx npm-run-all --npm-path npm clean-built tsc-b-w","tsc-b-w":"tsc -b -w","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dist',"dev-containers-cli-publish":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npx npm-run-all --npm-path npm clean dev-containers-cli-compile dev-containers-cli-copy-module dev-containers-cli-copy-definitions","dev-containers-cli-compile":"npx npm-run-all --npm-path npm compile-prod","dev-containers-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-cli',"dev-containers-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-cli/dist',"dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npx npm-run-all --npm-path npm dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npx npm-run-all --npm-path npm dev-containers-user-cli-copy-module dev-containers-user-cli-copy-definitions","dev-containers-user-cli-clean-prepare":"npx npm-run-all --npm-path npm clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-user-cli/dist',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npx npm-run-all --npm-path npm clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-matrix":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},devDependencies:{"@types/chai":"^4.3.0","@types/follow-redirects":"^1.13.1","@types/js-yaml":"^4.0.5","@types/markdown-it":"^12.2.3","@types/minimist":"^1.2.2","@types/mocha":"^9.1.0","@types/ncp":"^2.0.5","@types/node":"^16.11.7","@types/pull-stream":"^3.6.2","@types/semver":"^7.3.9","@types/shell-quote":"^1.7.1","@types/stats-lite":"^2.2.0","@types/tar":"^6.1.1","@types/uuid":"^8.3.4","@types/vscode":"^1.63.1","@types/yargs":"^17.0.8","@typescript-eslint/eslint-plugin":"^4.31.2","@typescript-eslint/parser":"^4.31.2",ajv:"^8.9.0",chai:"^4.3.4",copyfiles:"^2.4.1",esbuild:"^0.13.14",eslint:"^7.32.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",husky:"^7.0.4",jsonc:"^2.0.0",mocha:"^9.2.1","mocha-junit-reporter":"^2.0.2","npm-run-all":"^4.1.5","p-all":"^4.0.0",rimraf:"^3.0.2","ts-node":"^10.4.0",typescript:"^4.5.5","typescript-formatter":"^7.2.2",vinyl:"^2.2.1","vinyl-fs":"^3.0.3",vsce:"^2.6.7"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git#c6b71c4c98f75e4fb0e5cea9f471fde490c34a6b","@vscode/extension-telemetry":"^0.6.2",applicationinsights:"^2.2.0","find-process":"^1.4.7","follow-redirects":"^1.14.8","js-yaml":"^4.1.0","jsonc-parser":"^3.0.0","markdown-it":"^12.3.2",minimist:"^1.2.6",muxrpc:"^6.5.4","node-pty":"^0.10.1","pull-pushable":"^2.2.0","pull-stream":"^3.6.14","pull-stream-to-stream":"^2.0.0",semver:"^7.3.5","shell-quote":"^1.7.3","stats-lite":"^2.2.0","stream-to-pull-stream":"^1.7.3",tar:"^6.1.11",uuid:"^8.3.2","vscode-tas-client":"^0.1.27","vscode-uri":"^3.0.3",yaml:"^2.0.0-10",yargs:"~17.0.1"}}});nb(exports,{activate:()=>f0e,attachToContainer:()=>U0,deactivate:()=>m0e});var B=te(require("vscode")),M5=te(require("os")),V0=te(require("fs")),wr=te(require("path")),q5=te(require("querystring"));var Vt=te(require("fs")),io=te(require("util"));function zt(e){return new Promise(t=>Vt.stat(e,(r,n)=>t(!r&&n.isFile())))}function sd(e){return new Promise(t=>Vt.stat(e,(r,n)=>t(!r&&n.isDirectory())))}var tt=(0,io.promisify)(Vt.readFile),ad=(0,io.promisify)(Vt.writeFile),q0e=(0,io.promisify)(Vt.appendFile),$o=(0,io.promisify)(Vt.rename),Zn=(0,io.promisify)(Vt.readdir),gA=(0,io.promisify)(Vt.unlink),An=e=>new Promise((t,r)=>Vt.mkdir(e,{recursive:!0},n=>n?r(n):t())),vA=(0,io.promisify)(Vt.rmdir),ks=(0,io.promisify)(Vt.rm),j0e=(0,io.promisify)(Vt.copyFile),cd;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(cd||(cd={}));var at=te(require("vscode")),VT=te(require("path"));var mn=te(require("path")),Goe=te(require("crypto")),kU=te(Ql());var fo=te(FO()),Kbe=fo.default.v1,Ybe=fo.default.v3,Ln=fo.default.v4,Jbe=fo.default.v5,Qbe=fo.default.NIL,Xbe=fo.default.version,Zbe=fo.default.validate,eEe=fo.default.stringify,tEe=fo.default.parse;var IU=te(require("os"));var qO=te(require("os")),Ad=te(require("fs")),jO=te(require("path"));var OE=te(require("events")),Td=class{constructor(...t){this.nodeEmitter=new OE.EventEmitter;this.event=t=>(this.nodeEmitter.on("event",t),{dispose:()=>{this.nodeEmitter.off("event",t)}});this.disposables=t}fire(t){this.nodeEmitter.emit("event",t)}dispose(){this.nodeEmitter.removeAllListeners(),this.disposables.forEach(t=>t.dispose())}},NE=class{constructor(){this.nodeEmitter=new OE.EventEmitter;this.event=t=>{let r=n=>n.results.push(t(n.data));return this.nodeEmitter.on("event",r),{dispose:()=>{this.nodeEmitter.off("event",r)}}}}fire(t){let r=[];return this.nodeEmitter.emit("event",{data:t,results:r}),r}dispose(){this.nodeEmitter.removeAllListeners()}};async function MO(e,t){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:await t,package:await e,getTelemetryLevel:()=>"off"}}var he;(function(a){a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off"})(he||(he={}));var LE={info:3,debug:2,trace:1},fQ=Object.keys(LE).reduce((e,t)=>(e[LE[t]]=t,e),[]);function $O(e){return LE[e]||3}function Us(e){return fQ[e]||3}var St={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Bs=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function UO(e,t){let r=!!t;return{event:n=>{r&&(r=!1,e.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:t}))),e.forEach(i=>i.event(n))}}}function BO(e,t){let r=hQ(e);return{event(n){let i=pQ(n,t());i&&r.write(i)},join:r.join}}function HO(e,t,r){return{event(n){let i=dQ(n,t(),r.getTime());i&&e(i)}}}function Hr(e,t=2){return{event:e.event,write(r,n=t){e.event({type:"text",level:n,timestamp:Date.now(),text:r})},raw(r,n=t){e.event({type:"raw",level:n,timestamp:Date.now(),text:r})},start(r,n=t){let i=Date.now();return e.event({type:"start",level:n,timestamp:i,text:r}),i},stop(r,n,i=t){e.event({type:"stop",level:i,timestamp:Date.now(),text:r,startTimestamp:n})},get dimensions(){return e.dimensions},onDidChangeDimensions:e.onDidChangeDimensions}}function dQ(e,t,r){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":return`[${Dd(WO,`${e.timestamp-r} ms`)}] ${Bg(e.text)}`;case"raw":return e.text;case"start":return 1>=t?`${Dd(yQ,`[${e.timestamp-r} ms] Start`)}: ${Bg(e.text)}`:`[${Dd(WO,`${e.timestamp-r} ms`)}] Start: ${Bg(e.text)}`;case"stop":return 1>=t?`${Dd(vQ,`[${e.timestamp-r} ms] Stop`)} (${e.timestamp-e.startTimestamp} ms): ${Bg(e.text)}`:void 0;default:throw VO(e)}}function Bg(e){return CQ(e).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function pQ(e,t){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":case"raw":return`[${new Date(e.timestamp).toISOString()}] ${FE(e.text)}`;case"start":return`[${new Date(e.timestamp).toISOString()}] Start: ${FE(e.text)}`;case"stop":return 2>=t?`[${new Date(e.timestamp).toISOString()}] Stop (${e.timestamp-e.startTimestamp} ms): ${FE(e.text)}`:void 0;default:throw VO(e)}}function FE(e){return e.replace(Bs,"").replace(/(\r?\n)?$/,qO.EOL)}function VO(e){return new Error(`Unknown log event type: ${e.type}`)}function hQ(e){let t=[],r=!1,n,i;function o(){r=!1,i&&!t.length&&(n=void 0,i(),i=void 0)}function s(a,c=!1){if(a&&t.push(a),!c&&!r&&t.length){r=!0;let l=t.join("");t.length=0,Ad.appendFile(e,l,u=>{u&&(u.code==="ENOENT"?Ad.mkdir(jO.dirname(e),{recursive:!0},f=>{f?(o(),console.error(f)):Ad.appendFile(e,l,d=>{o(),d&&console.error(d),s()})}):(o(),console.error(u))),o(),s()})}}return{write:s,join:()=>n||(r?n=new Promise(a=>i=a):Promise.resolve())}}var mQ="38;2;143;99;79",zO="38;2;99;143;79",gQ="38;2;86;156;214",vQ=mQ,yQ=zO,WO=zO,wQ=gQ;function Dd(e,t){return t.split(`
`).map(r=>`[1m[${e}m${r}[39m[22m`).join(`
`)}function CQ(e){let t,r=0,n=[];for(Bs.lastIndex=0;t=Bs.exec(e);)n.push(GO(e.substring(r,t.index))),n.push(t[0]),r=Bs.lastIndex;return n.push(GO(e.substr(r))),n.join("")}function GO(e){let t=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,r,n=0,i=[];for(;r=t.exec(e);)i.push(e.substring(n,r.index)),i.push(Dd(wQ,r[0])),n=t.lastIndex;return i.push(e.substr(n)),i.join("")}function it(e){return e.split(/\r?\n/).map(t=>`[1m[31m${t}[39m[22m`).join(`\r
`)+`\r
`}function ME(e){return e.split(/\r?\n/).map(t=>`[1m[33m${t}[39m[22m`).join(`\r
`)+`\r
`}var $e=class extends Error{constructor(t){super(t.originalError&&t.originalError.message||t.description);this.manageContainer=!1;this.actions=[];this.data={};var r;Object.assign(this,t),((r=this.originalError)==null?void 0:r.stack)&&(this.stack=this.originalError.stack)}};var Ne=te(require("path")),Nv=te(require("fs")),_M=te(tu()),V_=te(require("string_decoder")),Lv=te(Ql());"use strict";function Od(e,t){t===void 0&&(t=!1);var r=e.length,n=0,i="",o=0,s=16,a=0,c=0,l=0,u=0,f=0;function d(b,C){for(var _=0,P=0;_<b||!C;){var S=e.charCodeAt(n);if(S>=48&&S<=57)P=P*16+S-48;else if(S>=65&&S<=70)P=P*16+S-65+10;else if(S>=97&&S<=102)P=P*16+S-97+10;else break;n++,_++}return _<b&&(P=-1),P}function p(b){n=b,i="",o=0,s=16,f=0}function h(){var b=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&ru(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&ru(e.charCodeAt(n)))for(n++;n<e.length&&ru(e.charCodeAt(n));)n++;else return f=3,e.substring(b,n);var C=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&ru(e.charCodeAt(n))){for(n++;n<e.length&&ru(e.charCodeAt(n));)n++;C=n}else f=3;return e.substring(b,C)}function m(){for(var b="",C=n;;){if(n>=r){b+=e.substring(C,n),f=2;break}var _=e.charCodeAt(n);if(_===34){b+=e.substring(C,n),n++;break}if(_===92){if(b+=e.substring(C,n),n++,n>=r){f=2;break}var P=e.charCodeAt(n++);switch(P){case 34:b+='"';break;case 92:b+="\\";break;case 47:b+="/";break;case 98:b+="\b";break;case 102:b+="\f";break;case 110:b+=`
`;break;case 114:b+="\r";break;case 116:b+="	";break;case 117:var S=d(4,!0);S>=0?b+=String.fromCharCode(S):f=4;break;default:f=5}C=n;continue}if(_>=0&&_<=31)if(Nd(_)){b+=e.substring(C,n),f=2;break}else f=6;n++}return b}function g(){if(i="",f=0,o=n,c=a,u=l,n>=r)return o=r,s=17;var b=e.charCodeAt(n);if(WE(b)){do n++,i+=String.fromCharCode(b),b=e.charCodeAt(n);while(WE(b));return s=15}if(Nd(b))return n++,i+=String.fromCharCode(b),b===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),a++,l=n,s=14;switch(b){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=m(),s=10;case 47:var C=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<r&&!Nd(e.charCodeAt(n));)n++;return i=e.substring(C,n),s=12}if(e.charCodeAt(n+1)===42){n+=2;for(var _=r-1,P=!1;n<_;){var S=e.charCodeAt(n);if(S===42&&e.charCodeAt(n+1)===47){n+=2,P=!0;break}n++,Nd(S)&&(S===13&&e.charCodeAt(n)===10&&n++,a++,l=n)}return P||(n++,f=1),i=e.substring(C,n),s=13}return i+=String.fromCharCode(b),n++,s=16;case 45:if(i+=String.fromCharCode(b),n++,n===r||!ru(e.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),s=11;default:for(;n<r&&v(b);)n++,b=e.charCodeAt(n);if(o!==n){switch(i=e.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(b),n++,s=16}}function v(b){if(WE(b)||Nd(b))return!1;switch(b){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function y(){var b;do b=g();while(b>=12&&b<=15);return b}return{setPosition:p,getPosition:function(){return n},scan:t?y:g,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-u},getTokenError:function(){return f}}}function WE(e){return e===32||e===9||e===11||e===12||e===160||e===5760||e>=8192&&e<=8203||e===8239||e===8287||e===12288||e===65279}function Nd(e){return e===10||e===13||e===8232||e===8233}function ru(e){return e>=48&&e<=57}"use strict";function GE(e,t,r){var n,i,o,s,a;if(t){for(s=t.offset,a=s+t.length,o=s;o>0&&!Ld(e,o-1);)o--;for(var c=a;c<e.length&&!Ld(e,c);)c++;i=e.substring(o,c),n=QQ(i,r)}else i=e,n=0,o=0,s=0,a=e.length;var l=XQ(r,e),u=!1,f=0,d;r.insertSpaces?d=KE(" ",r.tabSize||4):d="	";var p=Od(i,!1),h=!1;function m(){return l+KE(d,n+f)}function g(){var q=p.scan();for(u=!1;q===15||q===14;)u=u||q===14,q=p.scan();return h=q===16||p.getTokenError()!==0,q}var v=[];function y(q,J,K){!h&&(!t||J<a&&K>s)&&e.substring(J,K)!==q&&v.push({offset:J,length:K-J,content:q})}var b=g();if(b!==17){var C=p.getTokenOffset()+o,_=KE(d,n);y(_,o,C)}for(;b!==17;){for(var P=p.getTokenOffset()+p.getTokenLength()+o,S=g(),x="",I=!1;!u&&(S===12||S===13);){var A=p.getTokenOffset()+o;y(" ",P,A),P=p.getTokenOffset()+p.getTokenLength()+o,I=S===12,x=I?m():"",S=g()}if(S===2)b!==1&&(f--,x=m());else if(S===4)b!==3&&(f--,x=m());else{switch(b){case 3:case 1:f++,x=m();break;case 5:case 12:x=m();break;case 13:u?x=m():I||(x=" ");break;case 6:I||(x=" ");break;case 10:if(S===6){I||(x="");break}case 7:case 8:case 9:case 11:case 2:case 4:S===12||S===13?I||(x=" "):S!==5&&S!==17&&(h=!0);break;case 16:h=!0;break}u&&(S===12||S===13)&&(x=m())}S===17&&(x=r.insertFinalNewline?l:"");var O=p.getTokenOffset()+o;y(x,P,O),b=S}return v}function KE(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}function QQ(e,t){for(var r=0,n=0,i=t.tabSize||4;r<e.length;){var o=e.charAt(r);if(o===" ")n++;else if(o==="	")n+=i;else break;r++}return Math.floor(n/i)}function XQ(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if(n==="\r")return r+1<t.length&&t.charAt(r+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return e&&e.eol||`
`}function Ld(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}"use strict";var Fd;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Fd||(Fd={}));function hN(e,t){var r=[],n=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,l,u,f){o.value=c,o.offset=l,o.length=u,o.type=f,o.colonOffset=void 0,i=o}try{Jg(e,{onObjectBegin:function(c,l){if(t<=c)throw n;i=void 0,s=t>c,r.push("")},onObjectProperty:function(c,l,u){if(t<l||(a(c,l,u,"property"),r[r.length-1]=c,t<=l+u))throw n},onObjectEnd:function(c,l){if(t<=c)throw n;i=void 0,r.pop()},onArrayBegin:function(c,l){if(t<=c)throw n;i=void 0,r.push(0)},onArrayEnd:function(c,l){if(t<=c)throw n;i=void 0,r.pop()},onLiteralValue:function(c,l,u){if(t<l||(a(c,l,u,gN(c)),t<=l+u))throw n},onSeparator:function(c,l,u){if(t<=l)throw n;if(c===":"&&i&&i.type==="property")i.colonOffset=l,s=!1,i=void 0;else if(c===","){var f=r[r.length-1];typeof f=="number"?r[r.length-1]=f+1:(s=!0,r[r.length-1]=""),i=void 0}}})}catch(c){if(c!==n)throw c}return{path:r,previousNode:i,isAtPropertyKey:s,matches:function(c){for(var l=0,u=0;l<c.length&&u<r.length;u++)if(c[l]===r[u]||c[l]==="*")l++;else if(c[l]!=="**")return!1;return l===c.length}}}function mN(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=Fd.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,l,u){t.push({error:c,offset:l,length:u})}};return Jg(e,a,r),i[0]}function Kg(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=Fd.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,l,u){n=o({type:"property",offset:l,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:l,length:u,parent:n})},onObjectEnd:function(c,l){i(c+l),n.length=c+l-n.offset,n=n.parent,i(c+l)},onArrayBegin:function(c,l){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,l){n.length=c+l-n.offset,n=n.parent,i(c+l)},onLiteralValue:function(c,l,u){o({type:gN(c),offset:l,length:u,parent:n,value:c}),i(l+u)},onSeparator:function(c,l,u){n.type==="property"&&(c===":"?n.colonOffset=l:c===","&&i(l))},onError:function(c,l,u){t.push({error:c,offset:l,length:u})}};Jg(e,s,r);var a=n.children[0];return a&&delete a.parent,a}function Md(e,t){if(!!e){for(var r=e,n=0,i=t;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(r.type!=="object"||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===o){r=l.children[1],s=!0;break}}if(!s)return}else{var u=o;if(r.type!=="array"||u<0||!Array.isArray(r.children)||u>=r.children.length)return;r=r.children[u]}}return r}}function Yg(e){switch(e.type){case"array":return e.children.map(Yg);case"object":for(var t=Object.create(null),r=0,n=e.children;r<n.length;r++){var i=n[r],o=i.children[1];o&&(t[i.children[0].value]=Yg(o))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function Jg(e,t,r){r===void 0&&(r=Fd.DEFAULT);var n=Od(e,!1);function i(I){return I?function(){return I(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(I){return I?function(A){return I(A,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(t.onObjectBegin),a=o(t.onObjectProperty),c=i(t.onObjectEnd),l=i(t.onArrayBegin),u=i(t.onArrayEnd),f=o(t.onLiteralValue),d=o(t.onSeparator),p=i(t.onComment),h=o(t.onError),m=r&&r.disallowComments,g=r&&r.allowTrailingComma;function v(){for(;;){var I=n.scan();switch(n.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:m||y(11);break;case 2:y(12);break;case 6:y(16);break}switch(I){case 12:case 13:m?y(10):p();break;case 16:y(1);break;case 15:case 14:break;default:return I}}}function y(I,A,O){if(A===void 0&&(A=[]),O===void 0&&(O=[]),h(I),A.length+O.length>0)for(var q=n.getToken();q!==17;){if(A.indexOf(q)!==-1){v();break}else if(O.indexOf(q)!==-1)break;q=v()}}function b(I){var A=n.getTokenValue();return I?f(A):a(A),v(),!0}function C(){switch(n.getToken()){case 11:var I=n.getTokenValue(),A=Number(I);isNaN(A)&&(y(2),A=0),f(A);break;case 7:f(null);break;case 8:f(!0);break;case 9:f(!1);break;default:return!1}return v(),!0}function _(){return n.getToken()!==10?(y(3,[],[2,5]),!1):(b(!1),n.getToken()===6?(d(":"),v(),x()||y(4,[],[2,5])):y(5,[],[2,5]),!0)}function P(){s(),v();for(var I=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(I||y(4,[],[]),d(","),v(),n.getToken()===2&&g)break}else I&&y(6,[],[]);_()||y(4,[],[2,5]),I=!0}return c(),n.getToken()!==2?y(7,[2],[]):v(),!0}function S(){l(),v();for(var I=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(I||y(4,[],[]),d(","),v(),n.getToken()===4&&g)break}else I&&y(6,[],[]);x()||y(4,[],[4,5]),I=!0}return u(),n.getToken()!==4?y(8,[4],[]):v(),!0}function x(){switch(n.getToken()){case 3:return S();case 1:return P();case 10:return b(!0);default:return C()}}return v(),n.getToken()===17?r.allowEmptyContent?!0:(y(4,[],[]),!1):x()?(n.getToken()!==17&&y(9,[],[]),!0):(y(4,[],[]),!1)}function gN(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(e){if(Array.isArray(e))return"array"}else return"null";return"object"}default:return"null"}}"use strict";function vN(e,t,r,n){for(var i,o=t.slice(),s=[],a=Kg(e,s),c=void 0,l=void 0;o.length>0&&(l=o.pop(),c=Md(a,o),c===void 0&&r!==void 0);)typeof l=="string"?r=(i={},i[l]=r,i):r=[r];if(c)if(c.type==="object"&&typeof l=="string"&&Array.isArray(c.children)){var u=Md(c,[l]);if(u!==void 0)if(r===void 0){if(!u.parent)throw new Error("Malformed AST");var f=c.children.indexOf(u.parent),d=void 0,p=u.parent.offset+u.parent.length;if(f>0){var h=c.children[f-1];d=h.offset+h.length}else if(d=c.offset+1,c.children.length>1){var m=c.children[1];p=m.offset}return pc(e,{offset:d,length:p-d,content:""},n)}else return pc(e,{offset:u.offset,length:u.length,content:JSON.stringify(r)},n);else{if(r===void 0)return[];var g=JSON.stringify(l)+": "+JSON.stringify(r),v=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(I){return I.children[0].value})):c.children.length,y=void 0;if(v>0){var h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}else c.children.length===0?y={offset:c.offset+1,length:0,content:g}:y={offset:c.offset+1,length:0,content:g+","};return pc(e,y,n)}}else if(c.type==="array"&&typeof l=="number"&&Array.isArray(c.children)){var b=l;if(b===-1){var g=""+JSON.stringify(r),y=void 0;if(c.children.length===0)y={offset:c.offset+1,length:0,content:g};else{var h=c.children[c.children.length-1];y={offset:h.offset+h.length,length:0,content:","+g}}return pc(e,y,n)}else if(r===void 0&&c.children.length>=0){var C=l,_=c.children[C],y=void 0;if(c.children.length===1)y={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===C){var h=c.children[C-1],P=h.offset+h.length,S=c.offset+c.length;y={offset:P,length:S-2-P,content:""}}else y={offset:_.offset,length:c.children[C+1].offset-_.offset,content:""};return pc(e,y,n)}else if(r!==void 0){var y=void 0,g=""+JSON.stringify(r);if(!n.isArrayInsertion&&c.children.length>l){var x=c.children[l];y={offset:x.offset,length:x.length,content:g}}else if(c.children.length===0||l===0)y={offset:c.offset+1,length:0,content:c.children.length===0?g:g+","};else{var v=l>c.children.length?c.children.length:l,h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}return pc(e,y,n)}else throw new Error("Can not "+(r===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+b+" as length is not sufficient")}else throw new Error("Can not add "+(typeof l!="number"?"index":"property")+" to parent of type "+c.type);else{if(r===void 0)throw new Error("Can not delete in empty document");return pc(e,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(r)},n)}}function pc(e,t,r){if(!r.formattingOptions)return[t];var n=Qg(e,t),i=t.offset,o=t.offset+t.content.length;if(t.length===0||t.content.length===0){for(;i>0&&!Ld(n,i-1);)i--;for(;o<n.length&&!Ld(n,o);)o++}for(var s=GE(n,{offset:i,length:o-i},r.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=Qg(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var l=e.length-(n.length-o)-i;return[{offset:i,length:l,content:n.substring(i,o)}]}function Qg(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}"use strict";var yN=hN,gt=mN,Xg=Kg,Vs=Md;var Zg=Yg;function Ft(e,t,r,n){return vN(e,t,r,n)}function nr(e,t){for(var r=t.length-1;r>=0;r--)e=Qg(e,t[r]);return e}var SM=te(require("crypto")),xM=te(require("util"));var ZZ=te(require("path")),L_=te(require("string_decoder"));var Ir=te(require("path")),GF=te(require("fs")),KF=te(require("os")),hu=te(require("child_process")),R_=te(require("string_decoder"));var jF=te(require("path"));var wN;wN=(()=>{"use strict";var e={470:n=>{function i(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function o(a,c){for(var l,u="",f=0,d=-1,p=0,h=0;h<=a.length;++h){if(h<a.length)l=a.charCodeAt(h);else{if(l===47)break;l=47}if(l===47){if(!(d===h-1||p===1))if(d!==h-1&&p===2){if(u.length<2||f!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var m=u.lastIndexOf("/");if(m!==u.length-1){m===-1?(u="",f=0):f=(u=u.slice(0,m)).length-1-u.lastIndexOf("/"),d=h,p=0;continue}}else if(u.length===2||u.length===1){u="",f=0,d=h,p=0;continue}}c&&(u.length>0?u+="/..":u="..",f=2)}else u.length>0?u+="/"+a.slice(d+1,h):u=a.slice(d+1,h),f=h-d-1;d=h,p=0}else l===46&&p!==-1?++p:p=-1}return u}var s={resolve:function(){for(var a,c="",l=!1,u=arguments.length-1;u>=-1&&!l;u--){var f;u>=0?f=arguments[u]:(a===void 0&&(a=process.cwd()),f=a),i(f),f.length!==0&&(c=f+"/"+c,l=f.charCodeAt(0)===47)}return c=o(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(a){if(i(a),a.length===0)return".";var c=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return(a=o(a,!c)).length!==0||c||(a="."),a.length>0&&l&&(a+="/"),c?"/"+a:a},isAbsolute:function(a){return i(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,c=0;c<arguments.length;++c){var l=arguments[c];i(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":s.normalize(a)},relative:function(a,c){if(i(a),i(c),a===c||(a=s.resolve(a))===(c=s.resolve(c)))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var p=c.length-d,h=f<p?f:p,m=-1,g=0;g<=h;++g){if(g===h){if(p>h){if(c.charCodeAt(d+g)===47)return c.slice(d+g+1);if(g===0)return c.slice(d+g)}else f>h&&(a.charCodeAt(l+g)===47?m=g:g===0&&(m=0));break}var v=a.charCodeAt(l+g);if(v!==c.charCodeAt(d+g))break;v===47&&(m=g)}var y="";for(g=l+m+1;g<=u;++g)g!==u&&a.charCodeAt(g)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+c.slice(d+m):(d+=m,c.charCodeAt(d)===47&&++d,c.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(i(a),a.length===0)return".";for(var c=a.charCodeAt(0),l=c===47,u=-1,f=!0,d=a.length-1;d>=1;--d)if((c=a.charCodeAt(d))===47){if(!f){u=d;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');i(a);var l,u=0,f=-1,d=!0;if(c!==void 0&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var p=c.length-1,h=-1;for(l=a.length-1;l>=0;--l){var m=a.charCodeAt(l);if(m===47){if(!d){u=l+1;break}}else h===-1&&(d=!1,h=l+1),p>=0&&(m===c.charCodeAt(p)?--p==-1&&(f=l):(p=-1,f=h))}return u===f?f=h:f===-1&&(f=a.length),a.slice(u,f)}for(l=a.length-1;l>=0;--l)if(a.charCodeAt(l)===47){if(!d){u=l+1;break}}else f===-1&&(d=!1,f=l+1);return f===-1?"":a.slice(u,f)},extname:function(a){i(a);for(var c=-1,l=0,u=-1,f=!0,d=0,p=a.length-1;p>=0;--p){var h=a.charCodeAt(p);if(h!==47)u===-1&&(f=!1,u=p+1),h===46?c===-1?c=p:d!==1&&(d=1):c!==-1&&(d=-1);else if(!f){l=p+1;break}}return c===-1||u===-1||d===0||d===1&&c===u-1&&c===l+1?"":a.slice(c,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return function(c,l){var u=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return u?u===l.root?u+f:u+"/"+f:f}(0,a)},parse:function(a){i(a);var c={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return c;var l,u=a.charCodeAt(0),f=u===47;f?(c.root="/",l=1):l=0;for(var d=-1,p=0,h=-1,m=!0,g=a.length-1,v=0;g>=l;--g)if((u=a.charCodeAt(g))!==47)h===-1&&(m=!1,h=g+1),u===46?d===-1?d=g:v!==1&&(v=1):d!==-1&&(v=-1);else if(!m){p=g+1;break}return d===-1||h===-1||v===0||v===1&&d===h-1&&d===p+1?h!==-1&&(c.base=c.name=p===0&&f?a.slice(1,h):a.slice(p,h)):(p===0&&f?(c.name=a.slice(1,d),c.base=a.slice(1,h)):(c.name=a.slice(p,d),c.base=a.slice(p,h)),c.ext=a.slice(d,h)),p>0?c.dir=a.slice(0,p-1):f&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,n.exports=s},447:(n,i,o)=>{var s;if(o.r(i),o.d(i,{URI:()=>y,Utils:()=>J}),typeof process=="object")s=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;s=a.indexOf("Windows")>=0}var c,l,u=(c=function(j,F){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,$){D.__proto__=$}||function(D,$){for(var Y in $)Object.prototype.hasOwnProperty.call($,Y)&&(D[Y]=$[Y])})(j,F)},function(j,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function D(){this.constructor=j}c(j,F),j.prototype=F===null?Object.create(F):(D.prototype=F.prototype,new D)}),f=/^\w[\w\d+.-]*$/,d=/^\//,p=/^\/\//;function h(j,F){if(!j.scheme&&F)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(j.authority,'", path: "').concat(j.path,'", query: "').concat(j.query,'", fragment: "').concat(j.fragment,'"}'));if(j.scheme&&!f.test(j.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(j.path){if(j.authority){if(!d.test(j.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(j.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var m="",g="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,y=function(){function j(F,D,$,Y,X,Q){Q===void 0&&(Q=!1),typeof F=="object"?(this.scheme=F.scheme||m,this.authority=F.authority||m,this.path=F.path||m,this.query=F.query||m,this.fragment=F.fragment||m):(this.scheme=function(ve,Ae){return ve||Ae?ve:"file"}(F,Q),this.authority=D||m,this.path=function(ve,Ae){switch(ve){case"https":case"http":case"file":Ae?Ae[0]!==g&&(Ae=g+Ae):Ae=g}return Ae}(this.scheme,$||m),this.query=Y||m,this.fragment=X||m,h(this,Q))}return j.isUri=function(F){return F instanceof j||!!F&&typeof F.authority=="string"&&typeof F.fragment=="string"&&typeof F.path=="string"&&typeof F.query=="string"&&typeof F.scheme=="string"&&typeof F.fsPath=="string"&&typeof F.with=="function"&&typeof F.toString=="function"},Object.defineProperty(j.prototype,"fsPath",{get:function(){return x(this,!1)},enumerable:!1,configurable:!0}),j.prototype.with=function(F){if(!F)return this;var D=F.scheme,$=F.authority,Y=F.path,X=F.query,Q=F.fragment;return D===void 0?D=this.scheme:D===null&&(D=m),$===void 0?$=this.authority:$===null&&($=m),Y===void 0?Y=this.path:Y===null&&(Y=m),X===void 0?X=this.query:X===null&&(X=m),Q===void 0?Q=this.fragment:Q===null&&(Q=m),D===this.scheme&&$===this.authority&&Y===this.path&&X===this.query&&Q===this.fragment?this:new C(D,$,Y,X,Q)},j.parse=function(F,D){D===void 0&&(D=!1);var $=v.exec(F);return $?new C($[2]||m,q($[4]||m),q($[5]||m),q($[7]||m),q($[9]||m),D):new C(m,m,m,m,m)},j.file=function(F){var D=m;if(s&&(F=F.replace(/\\/g,g)),F[0]===g&&F[1]===g){var $=F.indexOf(g,2);$===-1?(D=F.substring(2),F=g):(D=F.substring(2,$),F=F.substring($)||g)}return new C("file",D,F,m,m)},j.from=function(F){var D=new C(F.scheme,F.authority,F.path,F.query,F.fragment);return h(D,!0),D},j.prototype.toString=function(F){return F===void 0&&(F=!1),I(this,F)},j.prototype.toJSON=function(){return this},j.revive=function(F){if(F){if(F instanceof j)return F;var D=new C(F);return D._formatted=F.external,D._fsPath=F._sep===b?F.fsPath:null,D}return F},j}(),b=s?1:void 0,C=function(j){function F(){var D=j!==null&&j.apply(this,arguments)||this;return D._formatted=null,D._fsPath=null,D}return u(F,j),Object.defineProperty(F.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),F.prototype.toString=function(D){return D===void 0&&(D=!1),D?I(this,!0):(this._formatted||(this._formatted=I(this,!1)),this._formatted)},F.prototype.toJSON=function(){var D={$mid:1};return this._fsPath&&(D.fsPath=this._fsPath,D._sep=b),this._formatted&&(D.external=this._formatted),this.path&&(D.path=this.path),this.scheme&&(D.scheme=this.scheme),this.authority&&(D.authority=this.authority),this.query&&(D.query=this.query),this.fragment&&(D.fragment=this.fragment),D},F}(y),_=((l={})[58]="%3A",l[47]="%2F",l[63]="%3F",l[35]="%23",l[91]="%5B",l[93]="%5D",l[64]="%40",l[33]="%21",l[36]="%24",l[38]="%26",l[39]="%27",l[40]="%28",l[41]="%29",l[42]="%2A",l[43]="%2B",l[44]="%2C",l[59]="%3B",l[61]="%3D",l[32]="%20",l);function P(j,F){for(var D=void 0,$=-1,Y=0;Y<j.length;Y++){var X=j.charCodeAt(Y);if(X>=97&&X<=122||X>=65&&X<=90||X>=48&&X<=57||X===45||X===46||X===95||X===126||F&&X===47)$!==-1&&(D+=encodeURIComponent(j.substring($,Y)),$=-1),D!==void 0&&(D+=j.charAt(Y));else{D===void 0&&(D=j.substr(0,Y));var Q=_[X];Q!==void 0?($!==-1&&(D+=encodeURIComponent(j.substring($,Y)),$=-1),D+=Q):$===-1&&($=Y)}}return $!==-1&&(D+=encodeURIComponent(j.substring($))),D!==void 0?D:j}function S(j){for(var F=void 0,D=0;D<j.length;D++){var $=j.charCodeAt(D);$===35||$===63?(F===void 0&&(F=j.substr(0,D)),F+=_[$]):F!==void 0&&(F+=j[D])}return F!==void 0?F:j}function x(j,F){var D;return D=j.authority&&j.path.length>1&&j.scheme==="file"?"//".concat(j.authority).concat(j.path):j.path.charCodeAt(0)===47&&(j.path.charCodeAt(1)>=65&&j.path.charCodeAt(1)<=90||j.path.charCodeAt(1)>=97&&j.path.charCodeAt(1)<=122)&&j.path.charCodeAt(2)===58?F?j.path.substr(1):j.path[1].toLowerCase()+j.path.substr(2):j.path,s&&(D=D.replace(/\//g,"\\")),D}function I(j,F){var D=F?S:P,$="",Y=j.scheme,X=j.authority,Q=j.path,ve=j.query,Ae=j.fragment;if(Y&&($+=Y,$+=":"),(X||Y==="file")&&($+=g,$+=g),X){var Se=X.indexOf("@");if(Se!==-1){var Oe=X.substr(0,Se);X=X.substr(Se+1),(Se=Oe.indexOf(":"))===-1?$+=D(Oe,!1):($+=D(Oe.substr(0,Se),!1),$+=":",$+=D(Oe.substr(Se+1),!1)),$+="@"}(Se=(X=X.toLowerCase()).indexOf(":"))===-1?$+=D(X,!1):($+=D(X.substr(0,Se),!1),$+=X.substr(Se))}if(Q){if(Q.length>=3&&Q.charCodeAt(0)===47&&Q.charCodeAt(2)===58)(Ee=Q.charCodeAt(1))>=65&&Ee<=90&&(Q="/".concat(String.fromCharCode(Ee+32),":").concat(Q.substr(3)));else if(Q.length>=2&&Q.charCodeAt(1)===58){var Ee;(Ee=Q.charCodeAt(0))>=65&&Ee<=90&&(Q="".concat(String.fromCharCode(Ee+32),":").concat(Q.substr(2)))}$+=D(Q,!0)}return ve&&($+="?",$+=D(ve,!1)),Ae&&($+="#",$+=F?Ae:P(Ae,!1)),$}function A(j){try{return decodeURIComponent(j)}catch{return j.length>3?j.substr(0,3)+A(j.substr(3)):j}}var O=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function q(j){return j.match(O)?j.replace(O,function(F){return A(F)}):j}var J,K=o(470),ee=function(j,F,D){if(D||arguments.length===2)for(var $,Y=0,X=F.length;Y<X;Y++)!$&&Y in F||($||($=Array.prototype.slice.call(F,0,Y)),$[Y]=F[Y]);return j.concat($||Array.prototype.slice.call(F))},re=K.posix||K;(function(j){j.joinPath=function(F){for(var D=[],$=1;$<arguments.length;$++)D[$-1]=arguments[$];return F.with({path:re.join.apply(re,ee([F.path],D,!1))})},j.resolvePath=function(F){for(var D=[],$=1;$<arguments.length;$++)D[$-1]=arguments[$];var Y=F.path||"/";return F.with({path:re.resolve.apply(re,ee([Y],D,!1))})},j.dirname=function(F){var D=re.dirname(F.path);return D.length===1&&D.charCodeAt(0)===46?F:F.with({path:D})},j.basename=function(F){return re.basename(F.path)},j.extname=function(F){return re.extname(F.path)}})(J||(J={}))}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}return r.d=(n,i)=>{for(var o in i)r.o(i,o)&&!r.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:i[o]})},r.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r.r=n=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r(447)})();var{URI:Ve,Utils:qn}=wN;var CN=te(require("path"));function dt(e,t){if(qd(t)){let r=e.dirname(t);return{isWorkspaceFile:!0,workspaceOrFolderPath:t,rootFolderPath:r,configFolderPath:r}}return{isWorkspaceFile:!1,workspaceOrFolderPath:t,rootFolderPath:t,configFolderPath:t}}function qd(e){return CN.extname(e)===".code-workspace"}async function nu(e,t){if(!!t.isWorkspaceFile)try{let r=t.rootFolderPath,n=(await e.readFile(t.workspaceOrFolderPath)).toString(),o=gt(n).folders;if(o&&o.length>0){for(let s of o){let a=s.path,c;if(a){if(e.path.isAbsolute(a))return`Workspace contains an absolute folder path '${a}'.`;c=e.path.resolve(r,a)}else{let l=s.uri;return l?Ve.parse(l).scheme!=="file"?`Workspace contains folder '${l}' not on the local file system.`:`Workspace contains an absolute folder path '${l}'.`:"Workspace contains a folder that defines neither a path nor a URI."}if(!ZQ(e,c,r))return`Folder '${c}' is not a subfolder of shared root folder '${r}'.`}return}return"Workspace does not define any folders"}catch(r){return`Problems loading workspace file ${t.workspaceOrFolderPath}: ${r&&(r.message||r.toString())}`}}function ZQ(e,t,r){return t===r?!0:!t||!r||r.length>t.length||t.length>r.length&&t.charAt(r.length)!==e.path.sep?!1:eX(e.platform,r,t.substr(0,r.length))}function eX(e,t,r){return e==="linux"?t===r:t.toLowerCase()===r.toLowerCase()}var jn=te(require("path")),gv=te(Ql()),OF=te(require("crypto")),vv=te(nv()),NF=te(require("util")),LF=te(require("string_decoder"));var jd=te(require("path"));async function e_(e,t,r){let n=await _L(e,"agent-extra-socket",r);if(!n)return;let i=await t_(t,"agent-socket");if(!i)return;let o=await t_(t,"homedir");try{let{stdout:a}=await t.exec(`ls '${o}/private-keys-v1.d' 2>/dev/null`);if(a.trim())return}catch{}let s=(async()=>{await t.exec(`mkdir -p -m 700 '${jd.posix.dirname(i)}'`);let a=await _L(e,"homedir",r),c=await t_(t,"homedir");a&&c&&(await su({cliHost:e},{shellServer:t},e.path.join(a,"pubring.kbx"),jd.posix.join(c,"pubring.kbx"),"gpg"),await su({cliHost:e},{shellServer:t},e.path.join(a,"pubring.gpg"),jd.posix.join(c,"pubring.gpg"),"gpg"),await su({cliHost:e},{shellServer:t},e.path.join(a,"trustdb.gpg"),jd.posix.join(c,"trustdb.gpg"),"gpg")),await xX(e,r)})();return{cliHost:e,remoteGpgSocket:i,localGpgSocket:n,ready:s}}async function _L(e,t,r){try{let{stdout:n}=await ze({exec:e.exec,cmd:"gpgconf",args:["--list-dir",t],output:r,print:!0}),i=n.toString().trim();if(i.indexOf(`
`)!==-1){let o=new RegExp(`^${t}:(.*)$`,"m").exec(i);o&&(i=o[1])}return e.platform==="win32"&&/^\/.\//.test(i)&&(i=`${i.charAt(1)}:${i.substr(2).replace(/\//g,"\\")}`),i}catch{return}}async function t_(e,t){try{let{stdout:r}=await e.exec(`gpgconf --list-dir ${t}`),n=r.trim();if(n.indexOf(`
`)!==-1){let i=new RegExp(`^${t}:(.*)$`,"m").exec(n);if(i)return i[1]}return n}catch{return}}async function xX(e,t){try{await ze({exec:e.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:t})}catch{}}async function r_(e,t,r){if(!("exec"in e)){for(let n=t,i="";n!==i;i=n,n=e.path.dirname(n))if(await e.isFile(e.path.join(n,".git","config")))return n;return}try{let{stdout:n}=await ze({exec:e.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:t,output:r}),i=n.toString().trim();return e.path.resolve(t,i)}catch{return}}async function n_(e,t,r){try{return await ze({exec:e.exec,cmd:"git",args:["ls-remote",t],cwd:".",output:r,print:"onerror"}),!0}catch(n){return(n==null?void 0:n.code)==="ENOENT"?void 0:!1}}async function i_({exec:e},t,r){try{let{stdout:n,stderr:i}=await ze({exec:e,cmd:"git",args:["credential",t],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(r),output:St});return{stdout:n.toString(),stderr:i.toString(),code:0}}catch(n){if(!(n&&n.stdout&&n.stderr))throw n;let{stdout:i,stderr:o,code:s}=n;return{stdout:i.toString(),stderr:o.toString(),code:s||0}}}async function SL(e,t,r){if(!("exec"in e)){let i=await r_(e,t.rootFolderPath,r);if(!i)return;try{return(await e.readFile(e.path.join(i,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(o){if((o==null?void 0:o.code)!=="ENOENT")throw o;return[]}}let n;try{let{stdout:i}=await ze({exec:e.exec,cmd:"git",args:["remote","-v"],cwd:t.rootFolderPath,output:r});n=i.toString()}catch{return}return Array.from(new Set(PX(/^[^\s]+\s+([^\s]+)/gm,n,1)))}function PX(e,t,r){return{[Symbol.iterator]:function*(){let n;for(;n=e.exec(t);)yield n[r],e.lastIndex===n.index&&e.lastIndex++}}}async function xL(e,t,r){return await kX(e,t,r)||IX(e,t,r)}async function kX(e,t,r){try{let{stdout:n}=await ze({exec:e.exec,cmd:"git",args:["status","--porcelain"],cwd:t.rootFolderPath,output:r});return!!n.toString().trim()}catch{return}}async function IX(e,t,r){let n=await TX(e,t,r);if(!!n)try{let{stdout:i}=await ze({exec:e.exec,cmd:"git",args:["log",`${n}..HEAD`],cwd:t.rootFolderPath,output:r});return!!i.toString().trim()}catch{return}}async function TX(e,t,r){try{let{stdout:n}=await ze({exec:e.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:t.rootFolderPath,output:r});return n.toString().trim()}catch{return}}async function iv(e,t,r,n,i,o){let{extensionPath:s}=e;if(await t.isFolder(t.path.join(r,".git")))return{gitClone:void 0,gitUnshallow:void 0};await t.mkdirp(r);let a=n.tokenEnvVar?ge(G({},n.env),{GIT_ASKPASS:t.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:t.env[n.tokenEnvVar]}):n.env,c=[];n.fullClone||c.push("--depth","1"),n.branch&&c.push("--branch",n.branch),n.recurseSubmodules&&c.push("--recurse-submodules");let l=zs({ptyExec:t.ptyExec,cmd:"git",args:["clone",...c,n.url,"."],cwd:r,env:a,output:Hr(i,he.Info)}),u=n.fullClone?l:(async()=>(await l,await zs({ptyExec:t.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:r,env:a,output:o}),zs({ptyExec:t.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:r,env:a,output:o})))();return{gitClone:l,gitUnshallow:u}}var Ws=te(require("stream"));async function PL(e,t){let{stdout:r}=await e.exec(`cat /proc/${t}/environ`,{logOutput:!1});return r.split("\0").map(n=>{let i=n.indexOf("=");return i!==-1?[n.slice(0,i),n.slice(i+1)]:[]}).reduce((n,[i,o])=>(i&&(n[i]=o),n),{})}async function o_(e){let t=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd ; readlink /proc/$pid/ns/mnt ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:r}=await e.exec(t,{logOutput:!1}),n=6,i=r.split(`
---
`),o=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=n).map(([a,c,l,u,f,d])=>{let p=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(u)||[];return{pid:a,ppid:p[1],pgrp:p[2],cwd:c,mntNS:l,cmd:d.replace(/\0/g," "),env:f.split("\0").reduce((h,m)=>{let g=m.indexOf("=");return g!==-1&&(h[m.substr(0,g)]=m.substr(g+1)),h},{})}}),mntNS:o}}function kL(e){let t={};return e.forEach(r=>t[r.pid]={process:r,childProcesses:[]}),e.filter(r=>r.ppid).forEach(r=>{var n;return(n=t[r.ppid])==null?void 0:n.childProcesses.push(t[r.pid])}),t}function s_(e,t="  ",r="  "){return`${r}${e.process.pid}: ${e.process.cmd}
${e.childProcesses.map(n=>s_(n,t,r+t))}`}var MZ=xF(),FF=w_(),b_=AF(),qZ=RF();async function zd(e,t){var _,P,S,x;let{cliHost:r,output:n}=e,i="Launching Remote-Containers helper.",o=n.start(i);if(po)return n.stop(i,o),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let s=r.type==="local",a=s?r:await wv(process.cwd(),e.loadNativeModule,n),l=(await(0,NF.promisify)(OF.randomBytes)(20)).toString("hex"),u={},f=qF(e.cliHost)||qF(a),d=f?jn.posix.join(((_=t.env)==null?void 0:_.TMPDIR)||"/tmp",`vscode-ssh-auth-${l}.sock`):void 0;f?(u[d]=f,n.write(`ssh-agent: SSH_AUTH_SOCK in container (${d}) forwarded to ${f.cliHost!==a?"remote":"local"} host (${f.socketPath}).`)):n.write("ssh-agent: SSH_AUTH_SOCK not set on host.");let p=await e_(r,t.shellServer,n)||(s?void 0:await e_(a,t.shellServer,n));p&&(u[p.remoteGpgSocket]={cliHost:p.cliHost,socketPath:p.localGpgSocket});let h=jn.posix.join(((P=t.env)==null?void 0:P.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${l}.sock`),m=jn.posix.join(((S=t.env)==null?void 0:S.TMPDIR)||"/tmp",`vscode-remote-containers-server-${l}.js`),g=jn.posix.join(((x=t.env)==null?void 0:x.TMPDIR)||"/tmp",`vscode-remote-containers-${l}.js`),v=MF(e,t,"Container",void 0,!1,!1,m,g,u,h,a),y=v.then(I=>I.ready),b=v.then(I=>I.mrpcExec),C=v.then(I=>I.mrpcPtyExec);return y.catch(console.error),e.onAdoptProcess(I=>HZ(t.shellServer,h,d,I).catch(console.error)),n.stop(i,o),{remoteContainersCLI:g,remoteEnv:d?{SSH_AUTH_SOCK:d,REMOTE_CONTAINERS_IPC:h}:{REMOTE_CONTAINERS_IPC:h},mrpcExec:b,mrpcPtyExec:C,ready:y,reconnect:()=>v.then(I=>I.reconnect())}}async function Wd(e,t,r,n,i){let{passwdUser:o,homeFolder:s,nodeExecutable:a,mrpcExec:c,mrpcPtyExec:l,setBaseEnv:u,connect:f,reconnect:d,terminate:p}=await MF(e,{remoteExec:t,platform:i},"Host",r,!0,n,void 0);return{passwdUser:o,homeFolder:s,nodeExecutable:a,exec:c,ptyExec:l,setBaseEnv:u,connect:f,reconnect:d,terminate:p}}async function MF(e,{remoteExec:t,platform:r,nodeExecutable:n},i,o,s,a,c,l,u,f,d){let{product:p,output:h}=e,m=l&&tt(jn.join(e.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),g=tt(jn.join(e.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),v=await Yo(t,h,void 0,r,i),y=s?await S_(v,await __(v)):void 0,b=(await v.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],C=!0;if(!n||!c){let x=v.path.join(b,".vscode-remote-containers");n||(n=await VZ(e,v,x,b,p,a)),c||(c=v.path.join(x,"dist",`vscode-remote-containers-server-${e.package.version}.js`),await Gd(v,c)?C=!1:await v.exec(`mkdir -p '${v.path.dirname(c)}'`))}if(l){let x=`EOF-${l}`;await v.exec(`cat <<'${x}' >${l}
${await m}
${x}
`)}if(C){let x=`EOF-${c}`,I=`${c}_${Date.now()}`;await v.exec(`cat <<'${x}' >${I}
${await g}
${x}
mv ${I} ${c}`)}let _=()=>jZ(e,i,v,n,c,u,f,d),P=await _(),S;return{ready:P.ready,passwdUser:y,nodeExecutable:n,homeFolder:b,mrpcExec:$Z(()=>P.mrpc,i,o||b),mrpcPtyExec:UZ(()=>P.mrpc,i,o||b),mrpcExecToEnd:BZ(()=>P.mrpc,i,o||b),setBaseEnv:x=>new Promise((I,A)=>{S=x,P.mrpc.setBaseEnv(x,O=>O?A(O):I())}),connect:P.mrpc.connect,reconnect:async()=>{let x=`${i}: Reconnecting exec server`,I=h.start(x);await P.process.terminate().catch(()=>{}),v=await Yo(t,h,void 0,void 0,i),P=await _(),S&&await new Promise((A,O)=>{P.mrpc.setBaseEnv(S,q=>q?O(q):A())}),h.stop(x,I)},terminate:()=>P.process.terminate()}}async function jZ(e,t,r,n,i,o,s,a){let{cliHost:c,output:l}=e,u=Object.keys(o||{}),f=ge(G({},u.reduce((S,x)=>(S[x]="duplex",S),{})),{rpc:"async",connected:"async",ready:"async"}),d={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},p=r.process,h=`echo -n ${$n} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(u)}' REMOTE_CONTAINERS_IPC='${s||""}' '${n}' '${i}'
`;p.stdin.write(h);let m,g=new Promise(S=>m=S),v=new LF.StringDecoder;p.stderr.on("data",S=>{let x=v.write(S).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(m){let I=x.indexOf($n);I!==-1&&(m(),m=void 0,x=x.substr(0,I)+x.substr(I+1))}x&&l.write(it(`${t} server: ${x}`))}),p.exit.then(({code:S,signal:x})=>{l.write(`${t} server terminated (code: ${S}, signal: ${x}).`)},S=>{l.write(`${t} server did not launch or terminated: ${S&&S.message||String(S)}`)});let b=(c==null?void 0:c.type)==="local",C,_=new Promise(S=>C=S),P=MZ(d,f)(ge(G({},u.reduce((S,x)=>{let I=o[x];return S[x]=()=>I.cliHost.connect(I.socketPath),S},{})),{rpc:async(S,x)=>{try{let I=JSON.parse(S),A=await i_(b?a:c,I.command,I.stdin).catch(O=>{if(b)throw O});!b&&(A==null?void 0:A.code)!==0&&(A=await i_(a,I.command,I.stdin),A.code===0&&(b=!0)),x(void 0,JSON.stringify(A))}catch(I){console.error(I),x(I)}},connected:S=>{S()},ready:S=>{C(),S()}}));return(0,vv.default)(FF.source(p.stdout),P.createStream(),FF.sink(p.stdin)),await Promise.race([g,p.exit.then(({code:S,signal:x})=>{throw new Error(`${t} server terminated (code: ${S}, signal: ${x}).`)})]),{ready:_,mrpc:P,process:p}}function $Z(e,t,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),f=e(),d=await new Promise((p,h)=>{f.exec({cmd:i,args:o,cwd:s||r,env:a},(m,g)=>{m?h(m):p(g)})});return{stdin:b_.sink(f.stdin(d,p=>{p&&p.message!=="unexpected end of parent stream"&&console.error(p)})),stdout:b_.source(f.stdout(d)),stderr:b_.source(f.stderr(d)),exit:new Promise((p,h)=>{f.exit(d,(m,g)=>{var v;c.stop(l,u),m?(((v=m.message)==null?void 0:v.endsWith("ENOENT"))&&!m.code&&(m.code="ENOENT"),h(m)):p(g)})}),terminate:async()=>new Promise((p,h)=>{f.terminate(d,m=>{m?h(m):p()})})}}}function UZ(e,t,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),f=e(),d=await new Promise((g,v)=>{var y,b;f.ptyExec({cmd:i,args:o,cwd:s||r,env:a,rows:(y=c.dimensions)==null?void 0:y.rows,cols:(b=c.dimensions)==null?void 0:b.columns},(C,_)=>{C?v(C):g(_)})}),p=[c.onDidChangeDimensions&&c.onDidChangeDimensions(g=>f.ptyResize(d,g.columns,g.rows))],h=qZ();(0,vv.default)(h,f.ptyIn(d,g=>{g&&g.message!=="unexpected end of parent stream"&&console.error(g)}));let m=new Td;return(0,vv.default)(f.ptyOut(d),g=>{g(null,function v(y,b){if(y!==!0){if(y)throw y;m.fire(b),g(null,v)}})}),{write:g=>h.push(g),onData:m.event,resize:(g,v)=>f.ptyResize(d,g,v),exit:new Promise((g,v)=>{f.ptyExit(d,(y,b)=>{p.forEach(C=>C==null?void 0:C.dispose()),c.stop(l,u),y?v(y):g(b)})}),terminate:async()=>new Promise((g,v)=>{f.ptyTerminate(d,y=>{y?v(y):g()})})}}}function BZ(e,t,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),f=e();return new Promise((d,p)=>{f.execToEnd({cmd:i,args:o,cwd:s||r,env:a},(h,m)=>{if(c.stop(l,u),h||!m)p({stdin:new Ws.Writable,stdout:Ws.Readable.from([]),stderr:Ws.Readable.from([]),exit:Promise.reject(h),terminate:async()=>{}});else{let g=Ws.Readable.from([Buffer.from(m.stdout.data)]),v=new Promise(C=>g.on("end",C)),y=Ws.Readable.from([Buffer.from(m.stderr.data)]),b=new Promise(C=>y.on("end",C));d({stdin:new Ws.Writable,stdout:g,stderr:y,exit:Promise.all([v,b]).then(()=>({code:m.code,signal:m.signal})),terminate:async()=>{}})}})})}}var E_="\\\\.\\pipe\\openssh-ssh-agent";function qF(e){if(e.env.SSH_AUTH_SOCK)return{cliHost:e,socketPath:e.env.SSH_AUTH_SOCK};if(e.platform==="win32")return{cliHost:e,socketPath:E_}}var yv=new Set;async function HZ(e,t,r,n){let i=await n.processId;if(i&&i>0){let o=await PL(e,i),s=o.REMOTE_CONTAINERS_IPC;s&&s!==t&&!yv.has(s)&&s.indexOf("vscode-remote-containers-ipc")!==-1&&(yv.add(s),await e.exec(`rm '${s}' && ln -s '${t}' '${s}'`));let a=o.SSH_AUTH_SOCK;a&&r&&a!==r&&!yv.has(a)&&a.indexOf("vscode-ssh-auth")!==-1&&(yv.add(a),await e.exec(`rm '${a}' && ln -s '${r}' '${a}'`))}}async function VZ(e,t,r,n,i,o){let s=(i==null?void 0:i.commit)||"b3318bc0524af3d74034b8bb8a64df0ccf35549a",a=(i==null?void 0:i.commit)?i.quality||"insider":"stable",{localCacheFolder:c,output:l,alternateDownload:u}=e,f=jn.posix.join(r,"bin",s),d=jn.posix.join(f,"node");try{await t.exec(`test -x '${d}'`)}catch{if(i)try{let v=jn.posix.join(x_(n,i),"bin",s),y=jn.posix.join(v,"node");await t.exec(`test -x '${y}'`);let b=jn.posix.join(v,"node_modules","node-pty","package.json");return await t.exec(`test -f '${b}'`),y}catch{}let p;if((await t.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")p=P_;else{let v=await I_(t);p=k_(v,!1)}let m={localCacheFolder:c,build:p,commit:s,quality:a,web:!1,output:l,alternateDownload:u},g=Yd(m);if(await zt(g)||await Cv(m),p===P_)await Kd({output:l},t,g,f,o);else{let v=[];await gv.t({file:g,filter:b=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(b),onentry:b=>{new gv.WriteEntry.Tar(b).on("data",_=>v.push(_))}});let y=Buffer.concat(v);await Kd({output:l},t,y,f,o,!1)}}return d}var A_=te(require("path"));var zZ=te(require("http")),WZ=te(require("https"));function T_(e,t={}){return new Promise((r,n)=>{let i=e.startsWith("https:")?WZ:zZ,o;if(Object.keys(t).length>0){let a=new URL(e);o={headers:t,host:a.host,path:a.pathname}}i.get(o!=null?o:e,a=>{var c;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let l=(c=a.headers)==null?void 0:c.location;l&&r(T_(l,t))}n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",n);let l=[];a.on("data",u=>l.push(u)),a.on("end",()=>r(Buffer.concat(l)))}}).on("error",n)})}async function ai(e){let t=await tt(A_.join(e,"package.json"),"utf8");return JSON.parse(t)}async function Jd(e){let t=await tt(A_.join(e,"product.json"),"utf8"),r=JSON.parse(t);return r.commit||(r.commit=await GZ(r.quality)),r.serverDataFolderName||(r.serverDataFolderName=".vscode-server-oss"),r}async function GZ(e="insider"){let t=`https://update.code.visualstudio.com/api/update/server-linux-x64/${e}/latest`,r=await T_(t);return JSON.parse(r.toString()).version}var Qd=!0;function Xd(e,t=!1){let{serverApplicationName:r}=e;return!t&&r?["bin",r]:["server.sh"]}var $F=/^\\\\wsl(\.localhost|\$)?\\/;function kr(e){return $F.test(e.toLowerCase())}function Gs(e){let t=e.toLowerCase(),r=$F.exec(t);if(!r)return"";let n=t.indexOf("\\",r[0].length);return e.substring(r[0].length,n)}async function bv(e){let{stdout:t}=await ze({exec:Qo(void 0),cmd:"wsl",args:["-l","-v"],output:e}),r=t.toString(t[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(r)||[])[1]}async function Jo(e,t,r){let{stdout:n}=await ze({exec:Qo(void 0),cmd:"wsl",args:["-d",e,"-e","wslpath","-u",t],output:r});return n.toString().trim()}async function KZ(e,t){let{stdout:r}=await ze({exec:Qo(void 0),cmd:"wsl",args:["-d",e,"-e","/bin/sh","-c","echo ~"],output:t});return r.toString().trim()}async function uu(e,t){let r=Gs(e),n=await Jo(r,e,t);return Ve.parse(`vscode-remote://wsl+${r}${n}`)}function fu(e){if(e.scheme==="vscode-remote"){let t=Ev(e.authority);if(t){let r=e.path;return qd(r)&&(r=jF.posix.dirname(r)),{wslDistro:t,wslPath:r}}}}function Ev(e){return(/wsl\+(.*)/.exec(e)||[])[1]}async function UF(e,t,r,n,i,o,s,a){var h;let{distro:c,cwd:l}=await D_(e,t,s),u=du("wsl",["-d",c,"-e"],l),f=await Wd({extensionPath:r,localCacheFolder:n,package:await ai(r),product:i,loadNativeModule:o,output:s,alternateDownload:a},u,l,!1),d=await pu({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((h=f.passwdUser)==null?void 0:h.shell)||"/bin/sh",remoteExec:f.exec});delete d.WSL_INTEROP,await f.setBaseEnv(d);let p=Ks("wsl",l,d,f.exec,f.ptyExec,f.connect,f.nodeExecutable,s);return p.toCommonURI=async m=>{try{return Ve.file((await ze({exec:f.exec,cmd:"wslpath",args:["-w",m],output:s})).stdout.toString().trim())}catch{return}},p}async function D_(e,{defaultDistro:t},r){let n,i;return typeof e=="object"?(n=e.wslDistro,i=e.wslPath):e&&kr(e)?(n=Gs(e),i=await Jo(n,e,r)):(n=t||await bv(r)||(()=>{throw new Error("No default WSL distro found.")})(),i=e?await Jo(n,e,r):await KZ(n,r)),{distro:n,cwd:i}}var VF=te(require("path")),_v=te(require("net")),Sv=te(require("os"));var BF=te(require("os"));async function HF(e,t,r,n,i,o,s,a,c,l){var v;let u=e.substr(6),f=u.indexOf(":"),d=[(l==null?void 0:l.settings.executablePath)||"ssh"];(l==null?void 0:l.settings.configFilePath)&&d.push("-F",YZ(l==null?void 0:l.settings.configFilePath)),f!==-1?d.push("-p",u.substr(f+1),u.substr(0,f)):d.push(u);let p=du(d[0],d.slice(1),void 0,await(l==null?void 0:l.sshAskpassEnv)||{}),h=await Wd({extensionPath:n,localCacheFolder:i,package:await ai(n),product:o,loadNativeModule:s,output:a,alternateDownload:c},p,t,!1),m=await pu({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((v=h.passwdUser)==null?void 0:v.shell)||"/bin/sh",remoteExec:h.exec});await h.setBaseEnv(m);let g=Ks("ssh",t||h.homeFolder,m,h.exec,h.ptyExec,h.connect,h.nodeExecutable,a);return g.toCommonURI=()=>Promise.resolve(void 0),g.reconnect=()=>h.reconnect(),g.terminate=()=>h.terminate(),g}function YZ(e){return e.replace(/^~($|\/|\\)/,`${BF.homedir()}$1`)}function Zd(e,t){let r=JZ(e);if(!r)return;let n=r.hostName;if(r.user||r.hostName.toLowerCase()!==r.hostName||r.port||r.hostName.match(/[\/\\\+]/)){let i=JSON.stringify(r);n=Buffer.from(i,"utf8").toString("hex")}return Ve.parse(`vscode-remote://ssh-remote+${n}${t}`)}function JZ(e){if(!e.startsWith("ssh://"))return;let t=e.substr(6),r=t.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(r){let[,n,i,o]=r;return{hostName:i,user:n,port:o?parseInt(o,10):void 0}}return{hostName:t}}var zF=w_(),gc;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(gc||(gc={}));async function Fi(e,t,r,n,i,o,s,a,c,l){return(e==null?void 0:e.startsWith("ssh://"))&&!(l==null?void 0:l.localDocker)?HF(e,t,n,i,o,s,r,a,c,l):typeof t=="object"||n.executeInWSL==="forWSLPath"&&t&&kr(t)||n.executeInWSL==="always"?UF(t,n,i,o,s,r,a,c):wv(t||process.cwd(),r,a)}async function wv(e,t,r){let n=Qo(e),i=await WF(e,t);return QZ(e,n,i,XZ)}function Ks(e,t,r,n,i,o,s,a){let c,l;return{type:e,platform:"linux",exec:n,ptyExec:i,cwd:t,env:r,path:VF.posix,async homedir(){var u;return typeof l=="undefined"&&(l=this.env.HOME||((u=Pv((await this.readFile("/etc/passwd")).toString(),(await this.getuid()).toString()))==null?void 0:u.home)||"/"),l},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async u=>{try{return await ze({exec:n,cmd:"test",args:["-f",u],output:St}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},isFolder:async u=>{try{return await ze({exec:n,cmd:"test",args:["-d",u],output:St}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},readFile:async u=>{try{return(await ze({exec:n,cmd:"cat",args:[u],output:St})).stdout}catch(f){let d=new Error(`Could not read file: ${u}`);throw d.originalError=f,d.code="ENOENT",d}},writeFile:async(u,f)=>{await ze({exec:n,cmd:"/bin/sh",args:["-c",`cat >'${u}'`],stdin:f,output:St})},rename:async(u,f)=>{await ze({exec:n,cmd:"mv",args:[u,f],output:St})},rm:async(u,{recursive:f,force:d})=>{await ze({exec:n,cmd:"rm",args:[...f?["-r"]:[],...d?["-f"]:[],u],output:St})},mkdirp:async u=>{await ze({exec:n,cmd:"mkdir",args:["-p",u],output:St})},readDir:async u=>(await ze({exec:n,cmd:"ls",args:["-a",u],output:St})).stdout.toString().trim().split(`
`).filter(f=>f!=="."&&f!==".."),readDirWithTypes:async u=>{let f={f:1,"*":1,"/":2,"@":64};return(await ze({exec:n,cmd:"ls",args:["-aF",u],output:St})).stdout.toString().trim().split(`
`).map(d=>"/*@=%|>".indexOf(d[d.length-1])!==-1?[d.substr(0,d.length-1),d[d.length-1]]:[d,"f"]).filter(([d])=>d!=="."&&d!=="..").map(([d,p])=>[d,f[p]||0])},getUsername:async()=>(c===void 0&&(c=(await ze({exec:n,cmd:"id",args:["-u","-n"],output:St})).stdout.toString().trim()),c),getuid:async()=>{let u=await ze({exec:n,cmd:"id",args:["-u"],output:St});return parseInt(u.stdout.toString().trim(),10)},getgid:async()=>{let u=await ze({exec:n,cmd:"id",args:["-g"],output:St});return parseInt(u.stdout.toString().trim(),10)},toCommonURI:()=>Promise.resolve(void 0),connect:o,nodeExecutable:s}}function QZ(e,t,r,n){return{type:"local",platform:process.platform,exec:t,ptyExec:r,cwd:e,env:process.env,path:VF,homedir:async()=>Sv.homedir(),tmpdir:async()=>Sv.tmpdir(),isFile:zt,isFolder:sd,readFile:tt,writeFile:ad,rename:$o,rm:ks,mkdirp:async i=>{await An(i)},readDir:Zn,getUsername:xv,getuid:async()=>process.getuid(),getgid:async()=>process.getgid(),toCommonURI:async i=>Ve.file(i),connect:n}}function XZ(e){if(process.platform!=="win32"||e.startsWith("\\\\.\\pipe\\"))return zF.duplex(_v.connect(e));let t=new _v.Socket;return(async()=>{let r=await tt(e),n=r.indexOf(10),i=parseInt(r.slice(0,n).toString(),10),o=r.slice(n+1);t.connect(i,"127.0.0.1",()=>{t.write(o,s=>{s&&(console.error(s),t.destroy())})})})().catch(r=>{console.error(r),t.destroy()}),zF.duplex(t)}function YF(e,t,r){return e==="linux"?t===r:t.toLowerCase()===r.toLowerCase()}var O_=Ir.join(__dirname,"..","..","node_modules",".bin","ts-node"),po=Ir.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function ze(e){let{exec:t,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,print:c}=e,l=await t({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((u,f)=>{let d=[],p=[],h=c==="continuous"?new R_.StringDecoder:void 0;l.stdout.on("data",v=>{d.push(v),c==="continuous"&&a.write(h.write(v))}),l.stdout.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let m=c==="continuous"?new R_.StringDecoder:void 0;l.stderr.on("data",v=>{p.push(v),c==="continuous"&&a.write(it(m.write(v)))}),l.stderr.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let g=[];l.exit.then(({code:v})=>{try{g.forEach(C=>C.dispose());let y=Buffer.concat(d),b=Buffer.concat(p);(c===!0||v&&c==="onerror")&&(a.write(y.toString().replace(/\r?\n/g,`\r
`)),a.write(it(b.toString()))),c&&v&&a.write(`Exit code ${v}`),v?f({message:`Command failed: ${r} ${(n||[]).join(" ")}`,stdout:y,stderr:b,code:v}):u({stdout:y,stderr:b})}catch(y){f(y)}},f),s instanceof Buffer?(l.stdin.write(s,v=>{v&&f(v)}),l.stdin.end()):s instanceof GF.ReadStream?s.pipe(l.stdin):typeof s=="function"&&g.push(s(v=>l.stdin.write(v)))})}async function zs(e){let{ptyExec:t,cmd:r,args:n,cwd:i,env:o,output:s,resolveOn:a,onDidInput:c}=e,l=await t({cmd:r,args:n,cwd:i,env:o,output:s});return new Promise((u,f)=>{let d="",p=[c&&c(h=>l.write(h))];l.onData(h=>{d+=h,s.raw(h),a&&a.exec(d)&&u({cmdOutput:d})}),l.exit.then(({code:h,signal:m})=>{try{p.forEach(g=>g==null?void 0:g.dispose()),h||m?f({message:`Command failed: ${r} ${(n||[]).join(" ")}`,cmdOutput:d,code:h,signal:m}):u({cmdOutput:d})}catch(g){f(g)}},h=>{p.forEach(m=>m==null?void 0:m.dispose()),f(h)})})}function Qo(e){return async function(t){let{cmd:r,args:n,output:i}=t,o=`Run: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,s=i.start(o),a=t.cwd||e,c=t.env?G(G({},process.env),t.env):process.env,l=await kv(r,a,c,i),u=hu.spawn(l,n,{cwd:a,env:c,windowsHide:!0});return{stdin:u.stdin,stdout:u.stdout,stderr:u.stderr,exit:new Promise((f,d)=>{u.once("error",p=>{i.stop(o,s),d(p)}),u.once("close",(p,h)=>{i.stop(o,s),f({code:p,signal:h})})}),async terminate(){u.kill("SIGKILL")}}}}async function WF(e,t){let r=await t("node-pty");if(!r)throw new Error("Missing node-pty");return async function(n){var m,g;let{cmd:i,args:o,output:s}=n,a=`Run: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a),l=!1,u=n.cwd||e,f=n.env?G(G({},process.env),n.env):process.env,d=await kv(i,u,f,s),p=r.spawn(d,o||[],{cwd:u,env:f,cols:(m=s.dimensions)==null?void 0:m.columns,rows:(g=s.dimensions)==null?void 0:g.rows,useConpty:l}),h=[s.onDidChangeDimensions&&s.onDidChangeDimensions(v=>p.resize(v.columns,v.rows))];return{onData:p.onData.bind(p),write:p.write.bind(p),resize:p.resize.bind(p),exit:new Promise(v=>{p.onExit(({exitCode:y,signal:b})=>{if(h.forEach(C=>C==null?void 0:C.dispose()),s.stop(a,c),v({code:y,signal:b}),process.platform==="win32")try{p.kill()}catch{}})}),async terminate(){p.kill("SIGKILL")}}}}function du(e,t,r,n){return async function(i){let{env:o,cmd:s,args:a,output:c}=i,l=i.cwd||r,u=l?`cd '${l}' && `:"",f=Object.keys(o||{}).map(C=>`${C}='${o[C]}' `).join(""),d=(a||[]).map(C=>` '${C.replace(/'/g,`'"'"'`)}'`).join(""),p=`${u}${f}${s}${d}`,h=p!==s?["/bin/sh","-c",p]:[p],m=[...t,...h],g=`Run: ${e} ${m.join(" ").replace(/\n.*/g,"")}`,v=c.start(g),y=await kv(e,process.cwd(),process.env,c),b=hu.spawn(y,m,{windowsHide:!0,env:n?G(G({},process.env),n):void 0});return{stdin:b.stdin,stdout:b.stdout,stderr:b.stderr,exit:new Promise((C,_)=>{b.once("error",P=>{c.stop(g,v),_(P)}),b.once("close",(P,S)=>{c.stop(g,v),C({code:P,signal:S})})}),async terminate(){b.kill("SIGKILL")}}}}async function JF(e,t,r,n){let i=await n("node-pty");if(!i)throw new Error("Missing node-pty");return async function(o){var P,S;let{env:s,cmd:a,args:c,output:l}=o,u=o.cwd||r,f=u?`cd '${u}' && `:"",d=Object.keys(s||{}).map(x=>`${x}='${s[x]}' `).join(""),p=(c||[]).map(x=>` '${x.replace(/'/g,`'"'"'`)}'`).join(""),h=`${f}${d}${a}${p}`,m=[...t,"/bin/sh","-c",h],g=`Run: ${e} ${m.join(" ").replace(/\n.*/g,"")}`,v=l.start(g),y=!1,b=await kv(e,process.cwd(),process.env,l),C=i.spawn(b,m,{cols:(P=l.dimensions)==null?void 0:P.columns,rows:(S=l.dimensions)==null?void 0:S.rows,useConpty:y}),_=[l.onDidChangeDimensions&&l.onDidChangeDimensions(x=>C.resize(x.columns,x.rows))];return{onData:C.onData.bind(C),write:C.write.bind(C),resize:C.resize.bind(C),exit:new Promise(x=>{C.onExit(({exitCode:I,signal:A})=>{if(_.forEach(O=>O==null?void 0:O.dispose()),l.stop(g,v),x({code:I,signal:A}),process.platform==="win32")try{C.kill()}catch{}})}),async terminate(){C.kill("SIGKILL")}}}}async function kv(e,t=process.cwd(),r,n){if(process.platform!=="win32")return e;if(Ir.isAbsolute(e))return await ep(e)||e;if(/[/\\]/.test(e)){let a=Ir.join(t,e);return await ep(a)||a}let i,o;if(r){for(let a of Object.keys(r))if(a.toLowerCase()==="path"){let c=r[a];typeof c=="string"&&(i=c,o=c.split(Ir.delimiter).filter(Boolean),o.push(Ir.join(r.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){n.write(`findLocalWindowsExecutable: No PATH to look up exectuable '${e}'.`);let a=Ir.join(t,e);return await ep(a)||a}for(let a of o){let c;Ir.isAbsolute(a)?c=Ir.join(a,e):c=Ir.join(t,a,e);let l=await ep(c);if(l)return l}n.write(`findLocalWindowsExecutable: Exectuable '${e}' not found on PATH '${i}'.`);let s=Ir.join(t,e);return await ep(s)||s}var QF=process.env.PATHEXT,XF=QF?QF.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function ep(e){if(XF.indexOf(Ir.extname(e))!==-1)return await zt(e)?e:void 0;for(let t of XF){let r=e+t;if(await zt(r))return r}}function vc(e){let t=/^'?v?(\d+(\.\d+)*)/.exec(e);if(!!t)return t[1].split(".").map(r=>parseInt(r,10))}function mu(e,t){for(let r=0,n=Math.max(e.length,t.length);r<n;r++){let i=e[r]||0,o=t[r]||0;if(i!==o)return i<o}return!1}var ZF=po?(e,t,r)=>hu.spawn(O_,[e,...t||[]],ge(G({},r),{windowsHide:!0})):hu.fork;async function eM(e,t){if(!t){try{return require(e)}catch{}return}try{return require(`${t}/node_modules.asar/${e}`)}catch{}try{return require(`${t}/node_modules/${e}`)}catch{}}function tp(e){let{output:t}=e,r=[];return{output:Hr(ge(G({},t),{get dimensions(){return t.dimensions},event:i=>r?r.push(i):t.event(i)})),flush:()=>{r&&(r.forEach(i=>t.event(i)),r=void 0)}}}function tM(e,t,r){return Hr(ge(G({},e),{get dimensions(){return e.dimensions},event:i=>{i.channel===t&&e.event(i),r.event(i)}}))}function Iv(e,t){return typeof t!="string"&&"win32"in t?e==="win32"?t.win32:t.posix:t}async function Gd(e,t){return Iv(e.platform,{posix:async()=>{try{return await e.exec(`test -f '${t}'`),!0}catch{return!1}},win32:async()=>(await e.exec(`Test-Path '${t}' -PathType Leaf`)).stdout.trim()==="True"})()}var N_;async function xv(){return N_===void 0&&(N_=(async()=>{try{return KF.userInfo().username}catch(e){if(process.platform!=="linux")throw e;return(await ze({exec:Qo(void 0),cmd:"id",args:["-u","-n"],output:St})).stdout.toString().trim()}})()),N_}var $n="\u2404";async function Yo(e,t,r,n="linux",i="Container"){let o=typeof e=="function",s=n==="win32",a=o?await e({env:r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:t}):e;if(!o){let d=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${$n}; /bin/sh'
`;a.stdin.write(d),await new Promise(h=>{let m="",g=new L_.StringDecoder;a.stdout.on("data",function v(y){m+=g.write(y),m.includes(d)&&(a.stdout.off("data",v),h())})})}let c=eee(a),l;async function u(d,p){let h=l=(async()=>{try{await l}catch{}return f(Iv(n,d),p)})();try{return await Promise.race([h,c.unexpectedExit])}finally{c.disposeStdioListeners(),l===h&&(l=void 0)}}async function f(d,p){let h=`Run in ${i.toLowerCase()}: ${d.replace(/\n.*/g,"")}`,m;if((p==null?void 0:p.logOutput)!=="silent"&&(m=t.start(h,p==null?void 0:p.logLevel)),a.stdin.destroyed){t.write("Stdin closed!");let{code:S,signal:x}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${S}, signal: ${x})`,code:S,signal:x})}n==="win32"?a.stdin.write(`[Console]::Write('${$n}'); ( ${d} ); [Console]::Write("${$n}$LastExitCode ${$n}"); [Console]::Error.Write('${$n}')
`):a.stdin.write(`echo -n ${$n}; ( ${d} ); echo -n ${$n}$?${$n}; echo -n ${$n} >&2
`);let[g,v]=rM(a.stdout,[1,2],(p==null?void 0:p.logOutput)==="continuous"?(S,x,I)=>{x===1&&I===0&&t.write(S,p==null?void 0:p.logLevel)}:()=>{}),y=rM(a.stderr,[1],(p==null?void 0:p.logOutput)==="continuous"?(S,x,I)=>{x===0&&I===0&&t.write(S,p==null?void 0:p.logLevel)}:()=>{})[0];(p==null?void 0:p.stdin)&&(await g,a.stdin.write(p==null?void 0:p.stdin));let[b,C]=await v,[_]=await y,P=parseInt(C,10)||0;return((p==null?void 0:p.logOutput)===void 0||(p==null?void 0:p.logOutput)===!0)&&(t.write(b,p==null?void 0:p.logLevel),t.write(_,p==null?void 0:p.logLevel),P&&t.write(`Exit code ${P}`,p==null?void 0:p.logLevel)),(p==null?void 0:p.logOutput)==="continuous"&&P&&t.write(`Exit code ${P}`,p==null?void 0:p.logLevel),(p==null?void 0:p.logOutput)!=="silent"&&t.stop(h,m,p==null?void 0:p.logLevel),P?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${d}`,code:P,stdout:b,stderr:_}):{stdout:b,stderr:_}}return{exec:u,process:a,platform:n,path:Iv(n,ZZ)}}function rM(e,t,r){let n=t.map(()=>{let u,f=new Promise((d,p)=>u={resolve:d,reject:p});return G({promise:f},u)}),i=new L_.StringDecoder("utf8"),o=[],s=0,a=[];function c(u){let f=i.write(u);l(f)}function l(u){let f=u.indexOf($n);if(f!==-1){let d=u.substr(0,f);o.push(d),r(d,s,a.length),a.push(o.join("")),o.length=0,a.length===t[s]&&(n[s].resolve(a),s++,a=[],s===t.length&&e.off("data",c)),f+1<u.length&&l(u.substr(f+1))}else o.push(u),r(u,s,a.length)}return e.on("data",c),n.map(u=>u.promise)}function eee(e){let t,r=new Promise((c,l)=>t=l),n=[],i=[],o=c=>n.push(c),s=c=>i.push(c);return e.stdout.on("data",o),e.stderr.on("data",s),e.exit.then(({code:c,signal:l})=>{t(`Shell server terminated (code: ${c}, signal: ${l})
${Buffer.concat(n).toString()}
${Buffer.concat(i).toString()}`)},c=>{t(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{e.stdout.off("data",o),e.stderr.off("data",s),n.length=0,i.length=0}}}var nM=te(require("path"));var tee=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function F_(e,t,r,n,i){let{repository:o,installCommand:s,targetPath:a}=e.dotfilesConfiguration;if(o=i["remote.containers.dotfiles.repository"]||i["dotfiles.repository"]||o,s=i["remote.containers.dotfiles.installCommand"]||i["dotfiles.installCommand"]||s,a=i["remote.containers.dotfiles.targetPath"]||i["dotfiles.targetPath"]||a,!o)return;await n;let c=await r;o.indexOf(":")===-1&&!/^\.{0,2}\//.test(o)&&(o=`https://github.com/${o}.git`);let l=t.shellServer,u=nee(t),f=Object.keys(c).filter(d=>!(d.startsWith("BASH_FUNC_")&&d.endsWith("%%"))).reduce((d,p)=>`${d}${p}=${ree(c[p])} `,"");try{e.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await l.exec(`# Clone & install dotfiles
${Tv(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${f}git clone ${o} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${f}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:he.Info}):await l.exec(`# Clone & install dotfiles
${Tv(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${f}git clone ${o} ${a} || exit $?
cd ${a}
for f in ${tee.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${f}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:he.Info}),e.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{e.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function ree(e){return`'${(e||"").replace(/'+/g,`'"$&"'`)}'`}function nee(e){return nM.posix.join(ci(e),".dotfilesMarker")}var yM=te(require("net")),wM=te(vM());async function B_({forwardedPorts:e,output:t,getLogLevel:r},n,i,o){t.write(`Port forwarding for container port ${i} starts listening on local port.`,he.Debug);let s=o?{VSCODE_REMOTE_CONTAINERS_SESSION:o}:void 0;return new Promise((a,c)=>{let l=new Set,u=yM.createServer({pauseOnConnect:!0},f=>{let d=f.remotePort,p=u.address().port;t.write(`Port forwarding connection from ${d} > ${p} > ${i} in the container.`),r()===he.Trace&&(async()=>{let h=await(0,wM.default)("port",d);t.write(`Port forwarding process for ${d} > ${p} > ${i} in the container:
${JSON.stringify(h,void 0,"  ")}`)})().catch(console.error),fee(t,n,[n.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ port: ${i} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(h=>{let m;h.exit.then(({code:g,signal:v})=>{m||(l.delete(f),f.end()),t.write(`Port forwarding ${d} > ${p} > ${i} terminated${m?` by extension (${m})`:""} with code ${g} and signal ${v}.`)},g=>{l.delete(f),f.end(),t.write(`Port forwarding ${d} > ${p} > ${i} terminated with error: ${g&&g.message||String(g)}`)}),h.stderr.on("data",g=>{t.write(`Port forwarding ${d} > ${p} > ${i} stderr: ${g.toString("utf8")}`,he.Debug)}),f.on("close",g=>{t.write(`Port forwarding ${d} > ${p} > ${i}: Local close${g?" with error":""}`,he.Debug),l.delete(f),m="closed",h.stdin.end(),setTimeout(()=>{m="killed",h.terminate().catch(console.error)},5e3)}),h.stdout.pipe(f),f.pipe(h.stdin),l.add(f)}).catch(console.error)});u.on("listening",()=>{let f={targetPort:i,server:u,connections:l};u.on("close",()=>{e.delete(f)}),e.add(f),t.write(`Port forwarding local port ${u.address().port} to container port ${i}`),a(u)}),u.on("error",f=>{if(f&&(f.code==="EADDRINUSE"||f.code==="EACCES")){u.listen(0,"127.0.0.1");return}c(f)}),u.on("close",()=>{c(new Error("Closed"))}),u.listen(i,"127.0.0.1")})}async function fee(e,t,r,n){return t.remoteExec({env:n,cmd:r[0],args:r.slice(1),output:e})}var gu=te(require("path"));function Rv(e,t){let r,n=e.platform==="win32",i=ge(G({},e),{get env(){return r||(r=CM(n,e.env))}}),o=hee.bind(void 0,n,i);return e.containerWorkspaceFolder&&(i.containerWorkspaceFolder=bM(o,e.containerWorkspaceFolder)),Ov(o,t)}function H_(e,t,r,n){let i=e==="win32";return Ov(mee.bind(void 0,i,t,CM(i,r)),n)}function Ov(e,t){if(typeof t=="string")return bM(e,t);if(Array.isArray(t))return t.map(r=>Ov(e,r));if(t&&typeof t=="object"){let r=Object.create(null);return Object.keys(t).forEach(n=>{r[n]=Ov(e,t[n])}),r}return t}var dee=/\$\{(.*?)\}/g;function CM(e,t){if(e){let r=Object.create(null);return Object.keys(t).forEach(n=>{r[n.toLowerCase()]=t[n]}),r}return t}function bM(e,t){return t.replace(dee,pee.bind(void 0,e))}function pee(e,t,r){let n,i=r.split(":");return i.length>1&&(r=i[0],n=i[1]),e(t,r,n)}function hee(e,t,r,n,i){switch(n){case"env":case"localEnv":return EM(e,t.env,i,r,t.configFile);case"localWorkspaceFolder":return t.localWorkspaceFolder!==void 0?t.localWorkspaceFolder:r;case"localWorkspaceFolderBasename":return t.localWorkspaceFolder!==void 0?(e?gu.win32:gu.posix).basename(t.localWorkspaceFolder):r;case"containerWorkspaceFolder":return t.containerWorkspaceFolder!==void 0?t.containerWorkspaceFolder:r;case"containerWorkspaceFolderBasename":return t.containerWorkspaceFolder!==void 0?gu.posix.basename(t.containerWorkspaceFolder):r;default:return r}}function mee(e,t,r,n,i,o){switch(i){case"containerEnv":return EM(e,r,o,n,t);default:return n}}function EM(e,t,r,n,i){if(r){e&&(r=r.toLowerCase());let o=t[r];return typeof o=="string"?o:""}throw new $e({description:`'${n}'${i?` in ${gu.posix.basename(i.path)}`:""} can not be resolved because no environment variable name is given.`})}async function ho(e){return new Promise(t=>setTimeout(t,e))}var Js=0,PM=/Extension host agent listening on (\d+)/;var Vr;(function(a){a[a.Begin=0]="Begin",a[a.CloningRepository=1]="CloningRepository",a[a.BuildingImage=2]="BuildingImage",a[a.StartingContainer=3]="StartingContainer",a[a.InstallingServer=4]="InstallingServer",a[a.StartingServer=5]="StartingServer",a[a.End=6]="End"})(Vr||(Vr={}));var z_="updateContentCommand";async function Fv(e){let{params:t,createdAt:r,startedAt:n,sharedDataFolder:i,sharedDataFolderIsLocalCacheFolder:o,remoteWorkspaceFolder:s,containerUser:a,containerGroup:c,containerEnv:l,remoteExec:u,remotePtyExec:f,remoteExecAsRoot:d,rootShellServer:p}=e,h;if(p&&a==="root"?h=p:h=await Yo(u,t.output,t.sessionId),!l){let q=(await h.exec("echo $PATH")).stdout.trim();l=q?{PATH:q}:{}}a||(a=await __(h)),!d&&a==="root"&&(d=u);let m=await I_(h),g=await S_(h,a);g||t.output.write(ME(`User ${a} not found in /etc/passwd.`));let v=await gee(l,g),y=await kM(l,g),b=x_(y,t.product),{commit:C,quality:_}=t.product,P=C&&await vee(b,C,_||"insider",t.web),S=k_(m,_==="stable"),x=C&&i&&await IM(Ne.posix,i,S,C,_||"insider",t.web),I=P&&await wee(P),A;p?A=Promise.resolve(p):a==="root"&&(A=Promise.resolve(h));let O={createdAt:r,startedAt:n,osRelease:m,build:S,user:a,gid:c||(g==null?void 0:g.gid),env:l,shell:v,homeFolder:y,userDataFolder:b,sharedDataFolderIsLocalCacheFolder:o,sharedDataFolder:i,installFolder:P,sharedInstallFolder:x,remoteWorkspaceFolder:s,nodeExecutable:I,remoteExec:u,remotePtyExec:f,remoteExecAsRoot:d,shellServer:h};return(A||d)&&(O.launchRootShellServer=()=>A||(A=Yo(d,t.output))),O}async function __(e){return(await e.exec("id -un")).stdout.trim()}async function kM(e,t){return e.HOME||t&&t.home||"/root"}async function gee(e,t){return e.SHELL||t&&t.shell||"/bin/sh"}async function S_(e,t){let{stdout:r}=await e.exec("cat /etc/passwd",{logOutput:!1});return Pv(r,t)}function Pv(e,t){return e.split(/\r?\n/).map(n=>n.split(":")).map(n=>({name:n[0],uid:n[2],gid:n[3],home:n[5],shell:n[6]})).find(n=>n.name===t||n.uid===t)}async function vee(e,t,r,n){return Ne.posix.join(e,"bin",`${t}${r==="stable"?"":`-${r}`}${n?"-web":""}`)}async function IM(e,t,r,n,i,o){return e.join(t,"bin",r.id,`${n}${i==="stable"?"":`-${i}`}${o?"-web":""}`)}function TM(e){return Ne.posix.join(e.userDataFolder,"extensions")}function ci(e){return Ne.posix.join(typeof e=="string"?e:e.userDataFolder,"data/Machine")}function Mv(e){return Ne.posix.join(e.userDataFolder,"data/Machine/settings.json")}function yee(e){return Ne.posix.join(e,".vscode-remote")}function x_(e,t){return Ne.posix.join(e,t.serverDataFolderName)}function vu(e){return Ne.posix.join("/var",/^\.*(.*)$/.exec(e)[1])}async function wee(e){return Ne.posix.join(e,"node")}async function qv(e,t,r,n,i=Js){var y;await AM(e,t),await jee(e,t),await $ee(e,t);let o=await DM(e,t,r,n),{serverDownloaded:s}=await RM(e,t),a,c,l=Promise.resolve(),u;if(!e.cliMode&&t.nodeExecutable){let b=await zd(e,t);a=b.remoteContainersCLI,c=b.remoteEnv,l=b.ready,u=b.mrpcExec;let C=e.cliHost.reconnect;C&&(e.cliHost.reconnect=async()=>{await C(),b.reconnect().catch(_=>e.output.write(it(_&&(_.stack||_.message)||String(_))))})}let d=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?pu(e,t,r,u).then(b=>G(G(G(G({},b),c),e.cliMode?{}:{REMOTE_CONTAINERS:"true"}),r.remoteEnv?H_(e.cliHost.platform,r.configFilePath,t.env,r.remoteEnv):{})):Promise.resolve({}),p=(y=o["remote.containers.gitCredentialHelperConfigLocation"])!=null?y:e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await yc(e,t,[".ssh","known_hosts"],"ssh"),p!=="none"&&await yu(t,a,e.output,"system"));let h,m,g,v;if(t.installFolder){let C=await jM(e,t,i,u,async()=>LM(e,t,async()=>{var S,x,I;return Array.from(new Set([...((x=(S=r.customizations)==null?void 0:S.vscode)==null?void 0:x.extensions)||[],...((I=await n())==null?void 0:I.allFeatures.filter(A=>(Qd||A.included)&&A.value).reduce((A,O)=>{var q,J;return A.concat(((J=(q=O.customizations)==null?void 0:q.vscode)==null?void 0:J.extensions)||[])},[]))||[]]))}),d),_=C.serverPort;g=C.connectionToken,v=C.webConnectionToken,h=_,e.forwardServerPort&&t.nodeExecutable&&(m=await B_(e,t,_,e.sessionId),h=m.address().port,e.backgroundTasks.push(async()=>HM(e,t,r)))}if(e.postCreate.enabled){let b,C=!1,_=new Promise(S=>b=()=>{C=!0,S()}),P=(async()=>{var S;if((r.waitFor||z_)==="initializeCommand"&&b(),!(e.postCreate.skipNonBlocking&&C)&&(await G_(e,t,r,"onCreateCommand",d,l,!1,b),!(e.postCreate.skipNonBlocking&&C)&&(await G_(e,t,r,"updateContentCommand",d,l,!!e.prebuild,b),!(e.postCreate.skipNonBlocking&&C)))){if(!e.prebuild){if(await G_(e,t,r,"postCreateCommand",d,l,!1,b),e.postCreate.skipNonBlocking&&C||(await F_(e,t,d,l,o),!e.cliMode&&t.nodeExecutable&&(((S=o["remote.containers.copyGitConfig"])!=null?S:e.isCopyGitConfigEnabled)&&(await yc(e,t,[".gitconfig"],"git"),await Uv(e,t,d.then(x=>G(G({},t.env),x)))),await yu(t,a,e.output,p)),await Ree(e,t,r,d,l,b),e.postCreate.skipNonBlocking&&C))return;await Oee(e,t,r,d,l,b)}e.postCreate.done()}})();e.backgroundTasks.push(P),await Promise.race([_,P])}return{hostOrContainerPort:h,hostPortServer:m,connectionToken:g,webConnectionToken:v,remoteEnv:e.computeExtensionHostEnv?await d:{},serverDownloaded:s}}async function jv(e,t,r,n,i=Js,o){var b;await AM(e,t);let s=await DM(e,t,r,n),{serverDownloaded:a}=await RM(e,t),c,l,u=Promise.resolve(),f;if(!e.cliMode&&t.nodeExecutable){let C=await zd(e,t);c=C.remoteContainersCLI,l=C.remoteEnv,u=C.ready,f=C.mrpcExec;let _=e.cliHost.reconnect;_&&(e.cliHost.reconnect=async()=>{await _(),C.reconnect().catch(P=>e.output.write(it(P&&(P.stack||P.message)||String(P))))})}let p=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?pu(e,t,r,f).then(C=>G(G(G(G({},C),l),e.cliMode?{}:{REMOTE_CONTAINERS:"true"}),r.remoteEnv?H_(e.cliHost.platform,r.configFilePath,t.env,r.remoteEnv):{})):Promise.resolve({}),h=(b=s["remote.containers.gitCredentialHelperConfigLocation"])!=null?b:e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await yc(e,t,[".ssh","known_hosts"],"ssh"),h!=="none"&&await yu(t,c,e.output,"system"));let m,g,v,y;if(t.installFolder){let _=await jM(e,t,i,f,async()=>LM(e,t,async()=>{var x,I,A;return Array.from(new Set([...((I=(x=r.customizations)==null?void 0:x.vscode)==null?void 0:I.extensions)||[],...((A=await n())==null?void 0:A.allFeatures.filter(O=>(Qd||O.included)&&O.value).reduce((O,q)=>{var J,K;return O.concat(((K=(J=q.customizations)==null?void 0:J.vscode)==null?void 0:K.extensions)||[])},[]))||[]]))}),p),P=_.serverPort;v=_.connectionToken,y=_.webConnectionToken,m=P,e.forwardServerPort&&t.nodeExecutable&&(g=await B_(e,t,P,e.sessionId),m=g.address().port,e.backgroundTasks.push(async()=>HM(e,t,r)))}if(e.postCreate.enabled){let C,_=new Promise(S=>C=()=>{S()}),P=(async()=>{var I;let S=G(G({},l),e.cliMode?{}:{REMOTE_CONTAINERS:"true"}),x=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"];if(e.prebuild){let A=x.indexOf("updateContentCommand");if((!x.slice(0,A+1).some(J=>r[J])?"prebuild":await o(!1,!1,!0,S))!=="prebuild")throw new Error('"prebuild" expected')}else{let A=!0,O=!0,q=x.indexOf(r.waitFor||z_),J=x.indexOf("postCreateCommand"),K=q<=J&&!x.slice(0,q+1).some(j=>r[j]),ee=!x.slice(0,J+1).some(j=>r[j]),re=K?"skipNonBlocking":ee?"stopForPersonalization":await o(A,O,!1,S);if(re==="skipNonBlocking"){if(C(),e.postCreate.skipNonBlocking)return;A=!1,re=!x.slice(q+1,J+1).some(F=>r[F])?"stopForPersonalization":await o(A,O,!1,S)}if(re==="stopForPersonalization"){await F_(e,t,p,u,s),!e.cliMode&&t.nodeExecutable&&(((I=s["remote.containers.copyGitConfig"])!=null?I:e.isCopyGitConfigEnabled)&&(await yc(e,t,[".gitconfig"],"git"),await Uv(e,t,p.then(D=>G(G({},t.env),D)))),await yu(t,c,e.output,h)),O=!1;let j=q>J&&!x.slice(J+1,q+1).some(D=>r[D]),F=!x.slice(J+1).some(D=>r[D]);re=j?"skipNonBlocking":F?"done":await o(A,O,!1,S)}if(re==="skipNonBlocking"){if(C(),e.postCreate.skipNonBlocking)return;A=!1,re=!x.slice(q+1).some(F=>r[F])?"done":await o(A,O,!1,S)}if(re!=="done")throw new Error('"done" expected')}})();P.then(()=>{e.postCreate.done()},S=>{e.postCreate.done(S)}),e.backgroundTasks.push(P),await Promise.race([_,P])}return{hostOrContainerPort:m,hostPortServer:g,connectionToken:v,webConnectionToken:y,remoteEnv:e.computeExtensionHostEnv?await p:{},serverDownloaded:a}}async function AM(e,t){let r=yee(t.homeFolder);!await Hv(t.shellServer,t.userDataFolder)&&await Hv(t.shellServer,r)&&await Xo(e,t,["/bin/sh","-c",`cp -r '${r}' '${t.userDataFolder}'`])}async function DM(e,t,r,n){var a,c,l;let i=ci(t),o=Ne.posix.join(i,".writeMachineSettingsMarker"),s=Mv(t);if(await Bv(t.shellServer,o)){let u=Object.assign({},...((a=await n())==null?void 0:a.allFeatures.filter(f=>{var d,p;return(Qd||f.included)&&f.value&&((p=(d=f.customizations)==null?void 0:d.vscode)==null?void 0:p.settings)}).map(f=>{var d,p;return(p=(d=f.customizations)==null?void 0:d.vscode)==null?void 0:p.settings}))||[],(l=(c=r.customizations)==null?void 0:c.vscode)==null?void 0:l.settings);if(Cee(u,r.portsAttributes),bee(u,r.otherPortsAttributes),Object.keys(u).length)return await t.shellServer.exec(`mkdir -p '${Ne.posix.dirname(s)}' && cat >'${s}' <<'settingsJSON'
${JSON.stringify(u,null,"	")}
settingsJSON
`),u}try{let{stdout:u}=await t.shellServer.exec(`cat ${s}`);return gt(u)||{}}catch{return{}}}function Cee(e,t){if(!e||!t)return;let r="remote.portsAttributes";if(!e[r]){e[r]=t;return}for(let n in t)e[r][n]||(e[r][n]=t[n])}function bee(e,t){if(!e||!t)return;let r="remote.otherPortsAttributes";e[r]||(e[r]=t)}async function $v(e,t,r,n){let i=typeof e.gid=="string"?`${e.user}:${e.gid}`:e.user,o=await t();if((await o.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let c=Ne.posix.dirname(r);c!=="/"&&await o.exec(`chown ${i} ${c}`),r!=="/"&&await o.exec(`chown -R ${i} ${r}`)}else if(n&&(await o.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let u=Ne.posix.dirname(n);u!=="/"&&await o.exec(`chown -R ${i} ${u}`)}}async function yu(e,t,r,n){if((t||po)&&n!=="none"){let i=n==="system"?e.launchRootShellServer&&await e.launchRootShellServer():e.shellServer;i?await i.exec(`command -v git >/dev/null 2>&1 && git config --${n} --replace-all credential.helper '!f() { ${e.nodeExecutable} ${t} $*; }; f' || true`):r.write("Cannot configure system wide Git credential helper without root access.")}}async function yc(e,t,r,n){let{cliHost:i}=e,o=i.path.join(await i.homedir(),...r),s=Ne.posix.join(t.homeFolder,...r);await su(e,t,o,s,n)}async function Uv(e,t,r){let{cliHost:n}=e,{env:i}=n,o=["git","config"],s=i.XDG_CONFIG_HOME?[i.XDG_CONFIG_HOME]:[await n.homedir(),".config"],a=n.path.join(...s,...o),c=(async()=>{let l=await r,u=l.XDG_CONFIG_HOME?[l.XDG_CONFIG_HOME]:[t.homeFolder,".config"];return Ne.posix.join(...u,...o)})();await su(e,t,a,c,"git")}async function su(e,t,r,n,i){let o=await Eee(e.cliHost,r);if(o)try{let s=await n;await t.shellServer.exec(`# Test for ${s} and ${i}
[ -e ${s} ] && echo ${s} exists && exit 1
command -v ${i} >/dev/null 2>&1 || (echo ${i} not found && exit 1) || exit 1
mkdir -p ${Ne.posix.dirname(s)}`),await t.shellServer.exec(`# Copy ${r} to ${s}
${Y_(o.byteLength)} >${s}`,{stdin:o})}catch(s){if(s&&s.code!==1)throw s}}async function Eee(e,t){try{return await e.readFile(t)}catch(r){if(r&&(r.code==="ENOENT"||r.code==="EISDIR"))return;throw r}}async function RM(e,t){let{commit:r}=e.product,{installFolder:n,shellServer:i,launchRootShellServer:o,build:s}=t;if(!(r&&n))return{serverDownloaded:void 0};_ee(t.osRelease,s),s.preview&&e.output.write(`\r
[1mSupport for ${s.label} is in preview.[22m\r
\r
`);let a=await Hv(i,n),c;a||s===MM[s.arch]&&(o?c=(await o()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):c=i.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`));let l=t.sharedInstallFolder;if(l&&await Hv(i,l))return a||await i.exec(`mkdir -p '${Ne.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),o&&(async()=>{await(await o()).exec(`touch '${l}'`)})().catch(console.error),await c,{serverDownloaded:!1};if(a)return{serverDownloaded:!1};e.progress(4),e.output.write(`Installing VS Code Server for commit ${r}\r
`);let u=!!(l&&o),f=u?l:n,d=u?await o():i,p={localCacheFolder:e.localCacheFolder,build:s,commit:r,quality:e.product.quality||"insider",web:e.web,output:e.output,alternateDownload:e.alternateDownload},h=Yd(p),m=await zt(h);m||await Cv(p);try{t.sharedDataFolderIsLocalCacheFolder?await OM(p):await Kd(e,d,h,f)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await Cv(p),t.sharedDataFolderIsLocalCacheFolder?await OM(p):await Kd(e,d,h,f);else throw g}return u&&(await i.exec(`mkdir -p '${Ne.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),(async()=>{await d.exec(`cd '${Ne.posix.dirname(l)}' && ls -t | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await c,{serverDownloaded:!m}}function _ee(e,t){let r=e.version;if(t.minVersion&&r){let n=vc(r.trim());if(n&&mu(n,t.minVersion)){let i=`${t.label} ${t.minVersion.join(".")} or later required.`;throw new $e({description:i,data:{reload:!1}})}}}async function Cv(e){let{build:t,commit:r,quality:n,web:i,output:o}=e,s="Downloading VS Code Server",a=o.start(s);o.write(`${r} ${t.id} ${n} ${i?"web":""}`);let c=Yd(e);await An(Ne.dirname(c));let l=`https://update.code.visualstudio.com/commit:${r}/server-${t.id}${i?"-web":""}/${n}`;try{let u=`${c}_${Date.now()}`;await new Promise((f,d)=>{let p=Nv.createWriteStream(u);o.write("Starting download.",he.Trace),_M.https.get(l,m=>{if(m.statusCode<200||m.statusCode>299){o.write(`Download failed: ${m.statusCode} ${m.statusMessage}.`,he.Trace),d(new $e({description:"Downloading the VS Code Server failed. Please try again later.",originalError:`Failed to download VS Code Server (${l}): HTTP ${m.statusCode} - ${m.statusMessage}`}));return}o.write("Downloading data.",he.Trace),m.on("error",d),m.pipe(p),m.on("end",f)}).on("error",d)}),await $o(u,c)}catch(u){if(o.write("Downloading failed.",he.Trace),o.write((u==null?void 0:u.stack)||(u==null?void 0:u.message)||String(u),he.Trace),e.alternateDownload){o.write(u&&(u.originalError||u.message)),o.write("Retrying to download VS Code Server.");let f=`${c}_${Date.now()}`;await e.alternateDownload(l,f),await $o(f,c)}else throw u||new Error("Failed to download VS Code Server.")}finally{o.stop(s,a)}}async function Kd(e,t,r,n,i,o=!0){let s="Installing VS Code Server",a=e.output.start(s);try{let c=`${n}_${Date.now()}`;if(await t.exec(`mkdir -p ${c}`),i)typeof r=="string"&&r.endsWith(".zip")?await t.exec(`unzip ${r} -d ${c}`):await t.exec(`cat ${r} | tar --no-same-owner -x${o?"z":""} -C ${c}`);else{let l=typeof r=="string"?await tt(r):r;await t.exec(`${Y_(l.byteLength)} | tar --no-same-owner -x${o?"z":""} -C ${c}`,{stdin:l})}await t.exec(`mv -n ${Ne.posix.join(c,"*",".")} ${n} && rmdir ${c}`)}finally{e.output.stop(s,a)}}async function OM(e){let{localCacheFolder:t,build:r,commit:n,quality:i,web:o,output:s}=e,a="Unpacking VS Code Server",c=s.start(a);s.write(`${n} ${r.id} ${i} ${o?"web":""}`);try{let l=await IM(Ne,t,r,n,i,o),u=`${l}_${Date.now()}`;await An(u);let f=Yd(e);await(await Qo(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",f,"--strip-components","1","-C",u],cwd:process.cwd(),output:s})).exit,await ks(l,{recursive:!0,force:!0}),await $o(u,l)}finally{s.stop(a,c)}}function Yd(e){let{localCacheFolder:t,build:r,commit:n,quality:i,web:o}=e,s=Ne.join(t,"serverCache",n),a=`vscode-server-${r.id}${i==="stable"?"":`-${i}`}${o?"-web":""}${r.archiveExt||".tar.gz"}`;return Ne.join(s,a)}async function NM(e,t){let r={VSCODE_AGENT_FOLDER:t.userDataFolder},{stdout:n}=await Xo(e,t,[Ne.posix.join(t.installFolder,...Xd(e.product)),...$M(t.userDataFolder),...BM(e.getTelemetryLevel()),"--list-extensions"],t.installFolder,{remoteEnv:r});return n.toString().split(`
`).filter(i=>!!i)}async function LM(e,t,r){let n="Preparing Extensions",i=e.output.start(n),{sharedDataFolder:o}=t,s=o?Tee(o):void 0,a=FM(t),c=await See(e,t,r);if(t.sharedDataFolderIsLocalCacheFolder)t.shellServer.exec(`mkdir -p '${s}' && ln -s -T '${s}' '${a}' || true`),t.launchRootShellServer&&(await t.launchRootShellServer()).exec(`chown -R ${t.user} ${s}`);else{let l=Iee(e.localCacheFolder),u=await xee(e,t,l,s,a,[...c.builtinExtensions,...c.extensions]);Pee(e,t,l,s,a,u).catch(console.error)}return e.output.stop(n,i),c}async function See(e,t,r){let n=ci(t),i=Ne.posix.join(n,".installExtensionsMarker"),o=!await Bv(t.shellServer,i),s=o?[]:e.installBuiltinExtensions||[],a=await e.getAdditionalExtensionsToInstall(o),c=o?[]:await r();for(let u of a)c.indexOf(u)===-1&&c.push(u);let l=[].concat(...s.map(u=>["--install-builtin-extension",u]),...c.map(u=>["--install-extension",u]));return e.cliMode&&l.length&&l.push("--do-not-sync"),{builtinExtensions:s,extensions:c,args:l}}async function xee(e,t,r,n,i,o){e.output.write(`Extensions cache, install extensions: ${o.join(", ")||"None"}`);let{shellServer:s}=t,a=(await s.exec(`test -d ${i} && ls ${i} || true`)).stdout.trim().split(`
`).filter(c=>!!c);if(n){let c=(await s.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(u=>!!u),l=c.filter(u=>o.some(f=>u.toLowerCase().startsWith(f.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, link in container: ${l.join(", ")||"None"}`),l.length){await s.exec(`mkdir -p '${i}' && ln -s '${n}'/* '${i}' || true`);let{launchRootShellServer:u}=t;u&&(async()=>{await(await u()).exec(`cd ${n} && touch ${l.map(d=>`'${d}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...c])],cachedExtensions:c}}else{await An(r);let c=await Zn(r),l=c.filter(u=>o.some(f=>u.toLowerCase().startsWith(f.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, copy to remote: ${l.join(", ")||"None"}`),l.length){let u=Ne.basename(r),f=Lv.c({cwd:Ne.dirname(r)},l.map(h=>Ne.join(u,h))),d=Ne.posix.join(i,`tmp-${Date.now()}`),p=await new Promise(h=>{let m=[];f.on("data",g=>m.push(g)),f.on("end",()=>h(Buffer.concat(m)))});await s.exec(`# Copy extensions to remote
mkdir -p ${d}
${Y_(p.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${d}
mv ${d}/* ${i} && rmdir ${d}`,{stdin:p})}return{remoteExtensions:a.concat(l),cachedExtensions:c}}}async function Pee(e,t,r,n,i,o){if(n&&!t.launchRootShellServer)return;let s=1e4,a=6e4;for(await ho(s);;)o=await kee(e,t,r,n,i,o),await ho(a)}async function kee(e,t,r,n,i,{remoteExtensions:o,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:c,remoteExec:l}=t,u=(await a.exec(`ls ${i} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(d=>!!d);if(!n){let d=o.filter(p=>u.indexOf(p)===-1);e.output.write(`Extensions cache, remote removals: ${d.join(", ")||"None"}`);for(let p of d)try{await gA(Ne.join(r,p))}catch(h){if(!(h&&h.code==="ENOENT"))throw h}}let f=u.filter(d=>o.indexOf(d)===-1&&s.indexOf(d)===-1);if(e.output.write(`Extensions cache, copy to ${n?"shared cache":"local"}: ${f.join(", ")||"None"}`,he.Trace),f.length)if(n){let d=await c();await d.exec(`mkdir -p '${n}' && cd '${i}' && cp ${f.map(p=>`'${p}'`).join(" ")} '${n}'`),await d.exec(`cd '${n}' && ls -t | tail -n +50 | xargs rm -f`)}else{let d=Ne.posix.basename(i),p=await l({cmd:"tar",cwd:Ne.posix.dirname(i),args:["c",...f.map(v=>Ne.posix.join(d,v))],output:e.output}),h=Ne.join(Ne.dirname(r),`${Ne.basename(r)}-${Date.now()}`);await An(h);let m=Lv.x({cwd:h,strip:1}),g=new Promise((v,y)=>{m.on("error",y),m.on("finish",v)});p.stdout.pipe(m),await g;for(let v of await Zn(h))await $o(Ne.join(h,v),Ne.join(r,v));await vA(h)}return{remoteExtensions:u,cachedExtensions:s}}var W_="extensionsCache";function Iee(e){return Ne.join(e,W_)}function Tee(e){return Ne.posix.join(e,W_)}function FM(e){return Ne.posix.join(e.userDataFolder,W_)}var Aee={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},MM={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},P_={label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},Dee={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function k_(e,t){let r=Dee[e.hardware];if(e.id==="alpine"){let i=r&&MM[r];if(!i)throw new $e({description:`Alpine Linux is not supported on the hardware architecture '${e.hardware}' of the container.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return i}let n=r&&Aee[r];if(!n||t&&!n.stable)throw new $e({description:`The hardware architecture '${e.hardware}' of the container is not supported.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return n}async function I_(e){let t="unknown",r="unknown",n="unknown";try{t=(await e.exec("uname -m")).stdout.trim();let{stdout:i}=await e.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");r=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",n=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:t,id:r,version:n}}async function G_(e,t,r,n,i,o,s,a){let c=Ne.posix.join(ci(t),`.${n}Marker`),l=!!t.createdAt&&await qM(t.shellServer,c,t.createdAt)||s;await K_(e,t,r,n,i,o,l,a)}async function Ree(e,t,r,n,i,o){let s=Ne.posix.join(ci(t),".postStartCommandMarker"),a=!!t.startedAt&&await qM(t.shellServer,s,t.startedAt);await K_(e,t,r,"postStartCommand",n,i,a,o)}async function qM(e,t,r){try{return await e.exec(`mkdir -p '${Ne.posix.dirname(t)}' && CONTENT="$(cat '${t}' 2>/dev/null || echo ENOENT)" && [ "\${CONTENT:-${r}}" != '${r}' ] && echo '${r}' > '${t}'`),!0}catch{return!1}}async function Oee(e,t,r,n,i,o){await K_(e,t,r,"postAttachCommand",n,i,!0,o)}async function K_({postCreate:e},t,r,n,i,o,s,a){let c=r[n];if(s&&c&&(typeof c=="string"?c.trim():c.length)){await o;let l=`Running ${n}...`,u=typeof c=="string"?c:c.join(" "),f=Hr({event(d){e.output.event(d),d.type==="raw"&&d.text.includes("::endstep::")&&e.output.event({type:"progress",name:l,status:"running",stepDetail:""}),d.type==="raw"&&d.text.includes("::step::")&&e.output.event({type:"progress",name:l,status:"running",stepDetail:`${d.text.split("::step::")[1].split(`\r
`)[0]}`})},get dimensions(){return e.output.dimensions},onDidChangeDimensions:e.output.onDidChangeDimensions},he.Info);try{f.event({type:"progress",name:l,status:"running",stepDetail:u});let d=t.remoteWorkspaceFolder||t.homeFolder;f.raw(`[1mRunning the ${n} from devcontainer.json...[0m\r
\r
`),await qee(ge(G({},e),{output:f}),t,typeof c=="string"?["/bin/sh","-c",c]:c,d,{remoteEnv:await i,print:"continuous"}),f.raw(`\r
`),f.event({type:"progress",name:l,status:"succeeded"})}catch(d){if(f.event({type:"progress",name:l,status:"failed"}),d&&(d.code===130||d.signal===2))f.raw(`\r
[1m${n} interrupted.[0m\r
\r
`);else throw(d==null?void 0:d.code)&&f.write(it(`${n} failed with exit code ${d.code}. Skipping any further user-provided commands.`)),new $e({description:`The ${n} in the devcontainer.json failed.`,originalError:d})}}n===(r.waitFor||z_)&&a()}async function Bv(e,t){try{return await e.exec(Tv(t)),!0}catch{return!1}}function Tv(e){return`test ! -f '${e}' && set -o noclobber && mkdir -p '${Ne.posix.dirname(e)}' && { > '${e}' ; } 2> /dev/null`}async function Hv(e,t){try{return await Nee(e,t),!0}catch{return!1}}async function Nee(e,t){return e.exec(`test -d ${t}`)}async function jM(e,t,r,n,i,o){let{userDataFolder:s,installFolder:a,sharedInstallFolder:c,shellServer:l}=t,{processes:u,mntNS:f}=await o_(l),d=`(${Ne.posix.join(...Xd(e.product,!1))}|${Ne.posix.join(...Xd(e.product,!0))})`.replace(".","\\."),p=new RegExp(`${Ne.posix.join(Ne.posix.dirname(a).replace(".","\\."),"[^/]*",d)}`),h=u.filter(K=>K.mntNS===f&&p.test(K.cmd));e.output.write(`Running extension host agents:
${JSON.stringify(h,void 0,"  ")}`,he.Trace);let{current:m,others:g}=h.reduce((K,ee)=>(K[(ee.cwd===a||ee.cwd===c)&&p.test(ee.cmd)?"current":"others"].push(ee),K),{current:[],others:[]});if(!e.cliMode&&g.length){e.output.write(`Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${g.map(K=>K.pgrp?`-${K.pgrp}`:K.pid).join(" ")}`)}catch{}}let{commit:v,quality:y}=e.product,b=Ne.posix.join(ci(t),`.connection-token-${v}${y==="stable"?"":`-${y}`}${e.web?"-web":""}`),C=Ne.posix.join(ci(t),`.devport-${v}${y==="stable"?"":`-${y}`}${e.web?"-web":""}`);if(m.length){e.output.write(`Extension host agent is already running.\r
`);try{let{stdout:K}=await l.exec(`cat '${C}' 2>/dev/null`),ee=K.toString().trim(),re=parseInt(ee,10),j=new RegExp(` '?${UM(e.product)}'? `).test(m[0].cmd)?(await l.exec(`cat '${b}'`)).stdout.toString().trim():void 0,F=(/'?--connectionToken'? '?([^ ']+)'? /.exec(m[0].cmd)||[])[1];return{serverPort:re,connectionToken:j,webConnectionToken:F}}catch(K){console.error(K),e.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${m.map(ee=>ee.pgrp?`-${ee.pgrp}`:ee.pid).join(" ")}`)}catch{}}}let _=!!e.webConnectionToken,P;if(!_){let K=`${b}-${Ln()}`,{stdout:ee}=await l.exec(`cat '${b}' 2>/dev/null || (umask 377 && echo '${Ln()}' >'${K}' && mv -n '${K}' '${b}' && rm -f '${K}' && cat '${b}')`);P=ee.toString().trim()}e.progress(5);let S="Starting VS Code Server",x=e.output.start(S),I=[Ne.posix.join(a,...Xd(e.product,_)),"--log",Us(e.getLogLevel()),"--force-disable-user-env",...$M(t.userDataFolder),...Lee(e),...BM(e.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(r),...e.webConnectionToken?["--connectionToken",e.webConnectionToken]:[],...P?[UM(e.product),b]:[],"--extensions-download-dir",FM(t),...(await i()).args,"--start-server",...e.isLocalContainer?["--disable-websocket-compression"]:[""],...e.cliMode?["--enable-remote-auto-shutdown"]:[]],O=(await Xo(e,{remoteExec:t.remoteExec},I,a,{remoteEnv:G({SHELL:t.shell,VSCODE_AGENT_FOLDER:s},e.cliMode?await o:{}),resolveOn:PM,print:"continuous"})).cmdOutput;e.output.stop(S,x);let q=(PM.exec(O)||[])[1];if(!q)throw new Error("Port not found");return await l.exec(`echo ${q} >'${C}'`),{serverPort:parseInt(q,10),connectionToken:P,webConnectionToken:e.webConnectionToken}}function $M(e){return["--server-data-dir",e]}function UM(e){return e.serverApplicationName?"--connection-token-file":"--connection-secret"}function Lee(e){return e.isLocalContainer?["--use-host-proxy"]:[]}function BM(e){return e?["--telemetry-level",e]:[]}var Fee=/^([a-z0-9\-]+):(\d{1,5})$/;function Mee(e){let t=e.match(Fee);if(!(!t||t.length!==3))return{host:t[1],port:Number(t[2])}}async function HM(e,t,r){let n=await e.getTunnels();await Promise.all((r.forwardPorts||[]).filter(i=>!n.find(o=>o.remoteAddress.port===i)).map(async i=>{let o,s;if(typeof i=="number")o=i;else{let a=Mee(i);if(!a)return;s=a.host,o=a.port}return e.openTunnel(t,o,s)}))}async function qee(e,{remotePtyExec:t},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?St:e.output}),a="",c,l=new Promise(d=>{c=d});s.onData(d=>{a+=d,o==="continuous"&&e.output.raw(d),i.resolveOn&&i.resolveOn.exec(a)&&c()});let u=e.onDidInput&&e.onDidInput(d=>s.write(d)),f=await Promise.race([s.exit,l]);return u&&u.dispose(),o==="end"&&e.output.raw(a),f&&(f.code||f.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:a,code:f.code,signal:f.signal}):{cmdOutput:a}}async function Xo(e,{remoteExec:t},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?St:e.output}),a=[],c=[],l=new V_.StringDecoder,u=new V_.StringDecoder,f="",d="",p,h,m=new Promise((C,_)=>{p=C,h=_});s.stdout.on("data",C=>{a.push(C);let _=l.write(C);o==="continuous"&&e.output.write(_.replace(/\r?\n/g,`\r
`)),f+=_,i.resolveOn&&i.resolveOn.exec(f)&&p()}),s.stderr.on("data",C=>{c.push(C),d+=u.write(C)}),i.stdin instanceof Buffer?(s.stdin.write(i.stdin,C=>{C&&h(C)}),s.stdin.end()):i.stdin instanceof Nv.ReadStream&&i.stdin.pipe(s.stdin);let g=await Promise.race([s.exit,m]),v=Buffer.concat(a),y=Buffer.concat(c);o==="end"&&(e.output.write(f.replace(/\r?\n/g,`\r
`)),e.output.write(it(d)));let b=`${f}
${d}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:b,stdout:v,stderr:y,code:g.code,signal:g.signal}):{cmdOutput:b,stdout:v,stderr:y}}function Y_(e){let t=8*1024,r=e%t,n=(e-r)/t;return`(dd iflag=fullblock bs=${t} count=${n} 2>/dev/null; dd iflag=fullblock bs=${r} count=1 2>/dev/null)`}async function jee(e,t){let r=Ne.posix.join(vu(e.product.serverDataFolderName),".patchEtcEnvironmentMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await Gd(t.shellServer,r)){let n=await t.launchRootShellServer();await Bv(n,r)&&await n.exec(`cat >> /etc/environment <<'etcEnvrionmentEOF'
${Object.keys(t.env).map(i=>`
${i}="${t.env[i]}"`).join("")}
etcEnvrionmentEOF
`)}}async function $ee(e,t){let r=Ne.posix.join(vu(e.product.serverDataFolderName),".patchEtcProfileMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await Gd(t.shellServer,r)){let n=await t.launchRootShellServer();await Bv(n,r)&&await n.exec("sed -i -E 's/((^|\\s)PATH=)([^\\$]*)$/\\1${PATH:-\\3}/g' /etc/profile || true")}}async function pu(e,t,r,n){let i=await VM(e,t,r,n,"cat /proc/self/environ","\0");return i||(e.output.write("userEnvProbe: falling back to printenv"),await VM(e,t,r,n,"printenv",`
`)||{})}async function VM(e,t,r,n,i,o){var a;let{userEnvProbe:s}=r||{};if(e.output.write(`userEnvProbe: ${s||e.defaultUserEnvProbe}${s?"":" (default)"}`),s||(s=e.defaultUserEnvProbe),s==="none")return{};try{let l=(await(0,xM.promisify)(SM.randomBytes)(16)).toString("hex"),u=new RegExp(l+"([^]*)"+l),f=t.shell;e.output.write(`userEnvProbe shell: ${f}`);let d=Ne.posix.basename(f),p=`echo -n ${l}; ${i}; echo -n ${l}`,h;/^pwsh(-preview)?$/.test(d)?h=s==="loginInteractiveShell"||s==="loginShell"?["-Login","-Command"]:["-Command"]:h=[s==="loginInteractiveShell"?"-lic":s==="loginShell"?"-lc":s==="interactiveShell"?"-ic":"-c"];let m=Hr(e.output,he.Trace),g=Xo({output:m},{remoteExec:await n||t.remoteExec},[f,...h,p],t.installFolder);Promise.race([g,ho(2e3)]).then(async I=>{if(!I){let A,O=t.shellServer||await Yo(t.remoteExec,e.output);try{({processes:A}=await o_(O))}finally{t.shellServer||await O.process.terminate()}let q=A.find(J=>J.cmd.startsWith(f)&&J.cmd.indexOf(l)!==-1);if(q){let K=kL(A)[q.pid];e.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${s_(K)}`)}else e.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(I=>e.output.write(it(I&&(I.stack||I.message)||"Error reading process tree.")));let v=await Promise.race([g,ho(1e4)]);if(!v)return e.output.write(it("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let y=v.stdout.toString(),b=u.exec(y),C=b?b[1]:"";if(!C||C.trim()==="-n")return;let _=C.split(o).reduce((I,A)=>{let O=A.indexOf("=");return O!==-1&&(I[A.substring(0,O)]=A.substring(O+1)),I},{});e.output.write(`userEnvProbe parsed: ${JSON.stringify(_,void 0,"  ")}`,he.Trace),delete _.PWD;let P=_.PATH,S=(a=t.env)==null?void 0:a.PATH,x=!(e.allowSystemConfigChange&&t.launchRootShellServer)&&P&&S;if(x){let I=t.user;_.PATH=Uee(P,S,I==="root"||I==="0")}return e.output.write(`userEnvProbe PATHs:
Probe:     ${typeof P=="string"?`'${P}'`:"None"}
Container: ${typeof S=="string"?`'${S}'`:"None"}${x?`
Merged:    ${typeof _.PATH=="string"?`'${_.PATH}'`:"None"}`:""}`),_}catch(c){return e.output.write(it(c&&(c.stack||c.message)||"Error reading shell environment.")),{}}}function Uee(e,t,r){let n=e.split(":"),i=0;for(let o of t.split(":")){let s=n.indexOf(o);s===-1?(r||!/\/sbin(\/|$)/.test(o))&&n.splice(i++,0,o):i=s+1}return n.join(":")}async function zM(e){for(let t of e)await(typeof t=="function"?t():t)}var Fq=te(require("crypto")),cp=te(require("path"));function WM(e){return typeof e=="undefined"||e===null}function Bee(e){return typeof e=="object"&&e!==null}function Hee(e){return Array.isArray(e)?e:WM(e)?[]:[e]}function Vee(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function zee(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function Wee(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Gee=WM,Kee=Bee,Yee=Hee,Jee=zee,Qee=Wee,Xee=Vee,dr={isNothing:Gee,isObject:Kee,toArray:Yee,repeat:Jee,isNegativeZero:Qee,extend:Xee};function GM(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function rp(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=GM(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}rp.prototype=Object.create(Error.prototype);rp.prototype.constructor=rp;rp.prototype.toString=function(t){return this.name+": "+GM(this,t)};var fn=rp;function J_(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function Q_(e,t){return dr.repeat(" ",t-e.length)+e}function Zee(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",c,l,u=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)l=J_(e.buffer,n[s-c],i[s-c],e.position-(n[s]-n[s-c]),f),a=dr.repeat(" ",t.indent)+Q_((e.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=J_(e.buffer,n[s],i[s],e.position,f),a+=dr.repeat(" ",t.indent)+Q_((e.line+1).toString(),u)+" | "+l.str+`
`,a+=dr.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)l=J_(e.buffer,n[s+c],i[s+c],e.position-(n[s]-n[s+c]),f),a+=dr.repeat(" ",t.indent)+Q_((e.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var ete=Zee,tte=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],rte=["scalar","sequence","mapping"];function nte(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function ite(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(tte.indexOf(r)===-1)throw new fn('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=nte(t.styleAliases||null),rte.indexOf(this.kind)===-1)throw new fn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var zr=ite;function KM(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function ote(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function X_(e){return this.extend(e)}X_.prototype.extend=function(t){var r=[],n=[];if(t instanceof zr)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new fn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof zr))throw new fn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new fn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new fn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof zr))throw new fn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(X_.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=KM(i,"implicit"),i.compiledExplicit=KM(i,"explicit"),i.compiledTypeMap=ote(i.compiledImplicit,i.compiledExplicit),i};var ste=X_,ate=new zr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),cte=new zr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),lte=new zr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ute=new ste({explicit:[ate,cte,lte]});function fte(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function dte(){return null}function pte(e){return e===null}var hte=new zr("tag:yaml.org,2002:null",{kind:"scalar",resolve:fte,construct:dte,predicate:pte,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function mte(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function gte(e){return e==="true"||e==="True"||e==="TRUE"}function vte(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var yte=new zr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:mte,construct:gte,predicate:vte,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function wte(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Cte(e){return 48<=e&&e<=55}function bte(e){return 48<=e&&e<=57}function Ete(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!wte(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!Cte(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!bte(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function _te(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Ste(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!dr.isNegativeZero(e)}var xte=new zr("tag:yaml.org,2002:int",{kind:"scalar",resolve:Ete,construct:_te,predicate:Ste,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Pte=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function kte(e){return!(e===null||!Pte.test(e)||e[e.length-1]==="_")}function Ite(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Tte=/^[-+]?[0-9]+e/;function Ate(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(dr.isNegativeZero(e))return"-0.0";return r=e.toString(10),Tte.test(r)?r.replace("e",".e"):r}function Dte(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||dr.isNegativeZero(e))}var Rte=new zr("tag:yaml.org,2002:float",{kind:"scalar",resolve:kte,construct:Ite,predicate:Dte,represent:Ate,defaultStyle:"lowercase"}),Ote=ute.extend({implicit:[hte,yte,xte,Rte]}),Nte=Ote,YM=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),JM=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Lte(e){return e===null?!1:YM.exec(e)!==null||JM.exec(e)!==null}function Fte(e){var t,r,n,i,o,s,a,c=0,l=null,u,f,d;if(t=YM.exec(e),t===null&&(t=JM.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],f=+(t[11]||0),l=(u*60+f)*6e4,t[9]==="-"&&(l=-l)),d=new Date(Date.UTC(r,n,i,o,s,a,c)),l&&d.setTime(d.getTime()-l),d}function Mte(e){return e.toISOString()}var qte=new zr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Lte,construct:Fte,instanceOf:Date,represent:Mte});function jte(e){return e==="<<"||e===null}var $te=new zr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:jte}),Z_=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Ute(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=Z_;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function Bte(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=Z_,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function Hte(e){var t="",r=0,n,i,o=e.length,s=Z_;for(n=0;n<o;n++)n%3==0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function Vte(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var zte=new zr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Ute,construct:Bte,predicate:Vte,represent:Hte}),Wte=Object.prototype.hasOwnProperty,Gte=Object.prototype.toString;function Kte(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,Gte.call(i)!=="[object Object]")return!1;for(o in i)if(Wte.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Yte(e){return e!==null?e:[]}var Jte=new zr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Kte,construct:Yte}),Qte=Object.prototype.toString;function Xte(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],Qte.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function Zte(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}var ere=new zr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Xte,construct:Zte}),tre=Object.prototype.hasOwnProperty;function rre(e){if(e===null)return!0;var t,r=e;for(t in r)if(tre.call(r,t)&&r[t]!==null)return!1;return!0}function nre(e){return e!==null?e:{}}var ire=new zr("tag:yaml.org,2002:set",{kind:"mapping",resolve:rre,construct:nre}),QM=Nte.extend({implicit:[qte,$te],explicit:[zte,Jte,ere,ire]}),Qs=Object.prototype.hasOwnProperty,Vv=1,XM=2,ZM=3,zv=4,eS=1,ore=2,eq=3,sre=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,are=/[\x85\u2028\u2029]/,cre=/[,\[\]\{\}]/,tq=/^(?:!|!!|![a-z\-]+!)$/i,rq=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function nq(e){return Object.prototype.toString.call(e)}function mo(e){return e===10||e===13}function wc(e){return e===9||e===32}function dn(e){return e===9||e===32||e===10||e===13}function wu(e){return e===44||e===91||e===93||e===123||e===125}function lre(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function ure(e){return e===120?2:e===117?4:e===85?8:0}function fre(e){return 48<=e&&e<=57?e-48:-1}function iq(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function dre(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var oq=new Array(256),sq=new Array(256);for(Cc=0;Cc<256;Cc++)oq[Cc]=iq(Cc)?1:0,sq[Cc]=iq(Cc);var Cc;function pre(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||QM,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function aq(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=ete(r),new fn(t,r)}function Le(e,t){throw aq(e,t)}function Wv(e,t){e.onWarning&&e.onWarning.call(null,aq(e,t))}var cq={YAML:function(t,r,n){var i,o,s;t.version!==null&&Le(t,"duplication of %YAML directive"),n.length!==1&&Le(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Le(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&Le(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Wv(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&Le(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],tq.test(i)||Le(t,"ill-formed tag handle (first argument) of the TAG directive"),Qs.call(t.tagMap,i)&&Le(t,'there is a previously declared suffix for "'+i+'" tag handle'),rq.test(o)||Le(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Le(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Xs(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||Le(e,"expected valid JSON character");else sre.test(a)&&Le(e,"the stream contains non-printable characters");e.result+=a}}function lq(e,t,r,n){var i,o,s,a;for(dr.isObject(r)||Le(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],Qs.call(t,o)||(t[o]=r[o],n[o]=!0)}function Cu(e,t,r,n,i,o,s,a,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&Le(e,"nested arrays are not supported inside keys"),typeof i=="object"&&nq(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&nq(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)lq(e,t,o[l],r);else lq(e,t,o,r);else!e.json&&!Qs.call(r,i)&&Qs.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,Le(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function tS(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Le(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ir(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;wc(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(mo(i))for(tS(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Wv(e,"deficient indentation"),n}function Gv(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||dn(r)))}function rS(e,t){t===1?e.result+=" ":t>1&&(e.result+=dr.repeat(`
`,t-1))}function hre(e,t,r){var n,i,o,s,a,c,l,u,f=e.kind,d=e.result,p;if(p=e.input.charCodeAt(e.position),dn(p)||wu(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),dn(i)||r&&wu(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),dn(i)||r&&wu(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),dn(n))break}else{if(e.position===e.lineStart&&Gv(e)||r&&wu(p))break;if(mo(p))if(c=e.line,l=e.lineStart,u=e.lineIndent,ir(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=l,e.lineIndent=u;break}}a&&(Xs(e,o,s,!1),rS(e,e.line-c),o=s=e.position,a=!1),wc(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return Xs(e,o,s,!1),e.result?!0:(e.kind=f,e.result=d,!1)}function mre(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Xs(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else mo(r)?(Xs(e,n,i,!0),rS(e,ir(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Gv(e)?Le(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Le(e,"unexpected end of the stream within a single quoted scalar")}function gre(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Xs(e,r,e.position,!0),e.position++,!0;if(a===92){if(Xs(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),mo(a))ir(e,!1,t);else if(a<256&&oq[a])e.result+=sq[a],e.position++;else if((s=ure(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=lre(a))>=0?o=(o<<4)+s:Le(e,"expected hexadecimal character");e.result+=dre(o),e.position++}else Le(e,"unknown escape sequence");r=n=e.position}else mo(a)?(Xs(e,r,n,!0),rS(e,ir(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Gv(e)?Le(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Le(e,"unexpected end of the stream within a double quoted scalar")}function vre(e,t){var r=!0,n,i,o,s=e.tag,a,c=e.anchor,l,u,f,d,p,h=Object.create(null),m,g,v,y;if(y=e.input.charCodeAt(e.position),y===91)u=93,p=!1,a=[];else if(y===123)u=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(ir(e,!0,t),y=e.input.charCodeAt(e.position),y===u)return e.position++,e.tag=s,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=a,!0;r?y===44&&Le(e,"expected the node content, but found ','"):Le(e,"missed comma between flow collection entries"),g=m=v=null,f=d=!1,y===63&&(l=e.input.charCodeAt(e.position+1),dn(l)&&(f=d=!0,e.position++,ir(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,bu(e,t,Vv,!1,!0),g=e.tag,m=e.result,ir(e,!0,t),y=e.input.charCodeAt(e.position),(d||e.line===n)&&y===58&&(f=!0,y=e.input.charCodeAt(++e.position),ir(e,!0,t),bu(e,t,Vv,!1,!0),v=e.result),p?Cu(e,a,h,g,m,v,n,i,o):f?a.push(Cu(e,null,h,g,m,v,n,i,o)):a.push(m),ir(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}Le(e,"unexpected end of the stream within a flow collection")}function yre(e,t){var r,n,i=eS,o=!1,s=!1,a=t,c=0,l=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)eS===i?i=f===43?eq:ore:Le(e,"repeat of a chomping mode identifier");else if((u=fre(f))>=0)u===0?Le(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Le(e,"repeat of an indentation width identifier"):(a=t+u-1,s=!0);else break;if(wc(f)){do f=e.input.charCodeAt(++e.position);while(wc(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!mo(f)&&f!==0)}for(;f!==0;){for(tS(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),mo(f)){c++;continue}if(e.lineIndent<a){i===eq?e.result+=dr.repeat(`
`,o?1+c:c):i===eS&&o&&(e.result+=`
`);break}for(n?wc(f)?(l=!0,e.result+=dr.repeat(`
`,o?1+c:c)):l?(l=!1,e.result+=dr.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=dr.repeat(`
`,c):e.result+=dr.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,r=e.position;!mo(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Xs(e,r,e.position,!1)}return!0}function uq(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Le(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!dn(s))));){if(a=!0,e.position++,ir(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,bu(e,t,ZM,!1,!0),o.push(e.result),ir(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)Le(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function wre(e,t,r){var n,i,o,s,a,c,l=e.tag,u=e.anchor,f={},d=Object.create(null),p=null,h=null,m=null,g=!1,v=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),y=e.input.charCodeAt(e.position);y!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Le(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&dn(n))y===63?(g&&(Cu(e,f,d,p,h,null,s,a,c),p=h=m=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):Le(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=n;else{if(s=e.line,a=e.lineStart,c=e.position,!bu(e,r,XM,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);wc(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),dn(y)||Le(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Cu(e,f,d,p,h,null,s,a,c),p=h=m=null),v=!0,g=!1,i=!1,p=e.tag,h=e.result;else if(v)Le(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(v)Le(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===o||e.lineIndent>t)&&(g&&(s=e.line,a=e.lineStart,c=e.position),bu(e,t,zv,!0,i)&&(g?h=e.result:m=e.result),g||(Cu(e,f,d,p,h,m,s,a,c),p=h=m=null),ir(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)Le(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&Cu(e,f,d,p,h,null,s,a,c),v&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=f),v}function Cre(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Le(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Le(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!dn(s);)s===33&&(n?Le(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),tq.test(i)||Le(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),cre.test(o)&&Le(e,"tag suffix cannot contain flow indicator characters")}o&&!rq.test(o)&&Le(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Le(e,"tag name is malformed: "+o)}return r?e.tag=o:Qs.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:Le(e,'undeclared tag handle "'+i+'"'),!0}function bre(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Le(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!dn(r)&&!wu(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Le(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Ere(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!dn(n)&&!wu(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Le(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Qs.call(e.anchorMap,r)||Le(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ir(e,!0,-1),!0}function bu(e,t,r,n,i){var o,s,a,c=1,l=!1,u=!1,f,d,p,h,m,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=zv===r||ZM===r,n&&ir(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;Cre(e)||bre(e);)ir(e,!0,-1)?(l=!0,a=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=l||i),(c===1||zv===r)&&(Vv===r||XM===r?m=t:m=t+1,g=e.position-e.lineStart,c===1?a&&(uq(e,g)||wre(e,g,m))||vre(e,m)?u=!0:(s&&yre(e,m)||mre(e,m)||gre(e,m)?u=!0:Ere(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&Le(e,"alias node should not have any properties")):hre(e,m,Vv===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=a&&uq(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Le(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,d=e.implicitTypes.length;f<d;f+=1)if(h=e.implicitTypes[f],h.resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Qs.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,p=e.typeMap.multi[e.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(e.tag.slice(0,p[f].tag.length)===p[f].tag){h=p[f];break}h||Le(e,"unknown tag !<"+e.tag+">"),e.result!==null&&h.kind!==e.kind&&Le(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Le(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function _re(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(ir(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!dn(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Le(e,"directive name must not be less than one character in length");s!==0;){for(;wc(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!mo(s));break}if(mo(s))break;for(r=e.position;s!==0&&!dn(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&tS(e),Qs.call(cq,n)?cq[n](e,n,i):Wv(e,'unknown document directive "'+n+'"')}if(ir(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ir(e,!0,-1)):o&&Le(e,"directives end mark is expected"),bu(e,e.lineIndent-1,zv,!1,!0),ir(e,!0,-1),e.checkLineBreaks&&are.test(e.input.slice(t,e.position))&&Wv(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Gv(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ir(e,!0,-1));return}if(e.position<e.length-1)Le(e,"end of the stream or a document separator is expected");else return}function fq(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new pre(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Le(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)_re(r);return r.documents}function Sre(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=fq(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function xre(e,t){var r=fq(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new fn("expected a single document in the stream, but found more")}}var Pre=Sre,kre=xre,dq={loadAll:Pre,load:kre},pq=Object.prototype.toString,hq=Object.prototype.hasOwnProperty,nS=65279,Ire=9,np=10,Tre=13,Are=32,Dre=33,Rre=34,iS=35,Ore=37,Nre=38,Lre=39,Fre=42,mq=44,Mre=45,Kv=58,qre=61,jre=62,$re=63,Ure=64,gq=91,vq=93,Bre=96,yq=123,Hre=124,wq=125,Wr={};Wr[0]="\\0";Wr[7]="\\a";Wr[8]="\\b";Wr[9]="\\t";Wr[10]="\\n";Wr[11]="\\v";Wr[12]="\\f";Wr[13]="\\r";Wr[27]="\\e";Wr[34]='\\"';Wr[92]="\\\\";Wr[133]="\\N";Wr[160]="\\_";Wr[8232]="\\L";Wr[8233]="\\P";var Vre=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],zre=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Wre(e,t){var r,n,i,o,s,a,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&hq.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[s]=a;return r}function Gre(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new fn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+dr.repeat("0",n-t.length)+t}var Kre=1,ip=2;function Yre(e){this.schema=e.schema||QM,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=dr.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Wre(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ip:Kre,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Cq(e,t){for(var r=dr.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function oS(e,t){return`
`+dr.repeat(" ",e.indent*t)}function Jre(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Yv(e){return e===Are||e===Ire}function op(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==nS||65536<=e&&e<=1114111}function bq(e){return op(e)&&e!==nS&&e!==Tre&&e!==np}function Eq(e,t,r){var n=bq(e),i=n&&!Yv(e);return(r?n:n&&e!==mq&&e!==gq&&e!==vq&&e!==yq&&e!==wq)&&e!==iS&&!(t===Kv&&!i)||bq(t)&&!Yv(t)&&e===iS||t===Kv&&i}function Qre(e){return op(e)&&e!==nS&&!Yv(e)&&e!==Mre&&e!==$re&&e!==Kv&&e!==mq&&e!==gq&&e!==vq&&e!==yq&&e!==wq&&e!==iS&&e!==Nre&&e!==Fre&&e!==Dre&&e!==Hre&&e!==qre&&e!==jre&&e!==Lre&&e!==Rre&&e!==Ore&&e!==Ure&&e!==Bre}function Xre(e){return!Yv(e)&&e!==Kv}function sp(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function _q(e){var t=/^\n* /;return t.test(e)}var Sq=1,sS=2,xq=3,Pq=4,Eu=5;function Zre(e,t,r,n,i,o,s,a){var c,l=0,u=null,f=!1,d=!1,p=n!==-1,h=-1,m=Qre(sp(e,0))&&Xre(sp(e,e.length-1));if(t||s)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=sp(e,c),!op(l))return Eu;m=m&&Eq(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=sp(e,c),l===np)f=!0,p&&(d=d||c-h-1>n&&e[h+1]!==" ",h=c);else if(!op(l))return Eu;m=m&&Eq(l,u,a),u=l}d=d||p&&c-h-1>n&&e[h+1]!==" "}return!f&&!d?m&&!s&&!i(e)?Sq:o===ip?Eu:sS:r>9&&_q(e)?Eu:s?o===ip?Eu:sS:d?Pq:xq}function ene(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===ip?'""':"''";if(!e.noCompatMode&&(Vre.indexOf(t)!==-1||zre.test(t)))return e.quotingType===ip?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function c(l){return Jre(e,l)}switch(Zre(t,a,e.indent,s,c,e.quotingType,e.forceQuotes&&!n,i)){case Sq:return t;case sS:return"'"+t.replace(/'/g,"''")+"'";case xq:return"|"+kq(t,e.indent)+Iq(Cq(t,o));case Pq:return">"+kq(t,e.indent)+Iq(Cq(tne(t,s),o));case Eu:return'"'+rne(t)+'"';default:throw new fn("impossible error: invalid scalar style")}}()}function kq(e,t){var r=_q(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Iq(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function tne(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,Tq(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],c=s[2];o=c[0]===" ",n+=a+(!i&&!o&&c!==""?`
`:"")+Tq(c,t),i=o}return n}function Tq(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,c="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,c+=`
`+e.slice(i,o),i=o+1),s=a;return c+=`
`,e.length-i>t&&s>i?c+=e.slice(i,s)+`
`+e.slice(s+1):c+=e.slice(i),c.slice(1)}function rne(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=sp(e,i),n=Wr[r],!n&&op(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Gre(r);return t}function nne(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(Zo(e,t,a,!1,!1)||typeof a=="undefined"&&Zo(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Aq(e,t,r,n){var i="",o=e.tag,s,a,c;for(s=0,a=r.length;s<a;s+=1)c=r[s],e.replacer&&(c=e.replacer.call(r,String(s),c)),(Zo(e,t+1,c,!0,!0,!1,!0)||typeof c=="undefined"&&Zo(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=oS(e,t)),e.dump&&np===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function ine(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,c,l,u;for(s=0,a=o.length;s<a;s+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),c=o[s],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),!!Zo(e,t,c,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!Zo(e,t,l,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}function one(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,c,l,u,f,d;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new fn("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)d="",(!n||i!=="")&&(d+=oS(e,t)),l=s[a],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),!!Zo(e,t+1,l,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&np===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,f&&(d+=oS(e,t)),!!Zo(e,t+1,u,!0,f)&&(e.dump&&np===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=o,e.dump=i||"{}"}function Dq(e,t,r){var n,i,o,s,a,c;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,pq.call(a.represent)==="[object Function]")n=a.represent(t,c);else if(hq.call(a.represent,c))n=a.represent[c](t,c);else throw new fn("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}function Zo(e,t,r,n,i,o,s){e.tag=null,e.dump=r,Dq(e,r,!1)||Dq(e,r,!0);var a=pq.call(e.dump),c=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",f,d;if(u&&(f=e.duplicates.indexOf(r),d=f!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(u&&d&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(one(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(ine(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?Aq(e,t-1,e.dump,i):Aq(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(nne(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&ene(e,e.dump,t,o,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new fn("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function sne(e,t){var r=[],n=[],i,o;for(aS(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function aS(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)aS(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)aS(e[n[i]],t,r)}function ane(e,t){t=t||{};var r=new Yre(t);r.noRefs||sne(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Zo(r,0,n,!0,!0)?r.dump+`
`:""}var cne=ane,lne={dump:cne};function cS(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var pn=dq.load,qPe=dq.loadAll,jPe=lne.dump;var $Pe=cS("safeLoad","load"),UPe=cS("safeLoadAll","loadAll"),BPe=cS("safeDump","dump");var Zv=te(require("path"));var fS=te(require("path")),Lq=te(require("os"));var Rq=te(require("crypto"));var Oq=te(require("util"));var Mi={async readDocument(e){switch(e.scheme){case"file":try{return(await tt(e.fsPath)).toString()}catch(t){if(t&&t.code==="ENOENT")return;throw t}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}},async applyEdits(e,t,r){switch(e.scheme){case"file":let n=nr(r,t);await ad(e.fsPath,n);break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},Jv=class{constructor(t){this.fileHost=t}async readDocument(t){switch(t.scheme){case Jv.scheme:try{return(await this.fileHost.readFile(We(t,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,r,n){switch(t.scheme){case Jv.scheme:let i=nr(n,r);await this.fileHost.writeFile(We(t,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},Zt=Jv;Zt.scheme="vscode-fileHost";var Ec=class{constructor(t){this.shellServer=t}async readDocument(t){switch(t.scheme){case Ec.scheme:try{let{stdout:r}=await this.shellServer.exec(`cat ${t.path}`);return r}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,r,n){switch(t.scheme){case Ec.scheme:try{if(!Ec.nonce){let s=await(0,Oq.promisify)(Rq.randomBytes)(20);Ec.nonce=s.toString("hex")}let i=nr(n,r),o=`EOF-${Ec.nonce}`;await this.shellServer.exec(`cat <<'${o}' >${t.path}
${i}
${o}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},bc=Ec;bc.scheme="vscode-remote";var Nq=class{constructor(t){this.documents=t}async readDocument(t){let r=this.documents[t.scheme];if(!r)throw new Error(`Unsupported scheme: ${t.toString()}`);return r.readDocument(t)}async applyEdits(t,r,n){let i=this.documents[t.scheme];if(!i)throw new Error(`Unsupported scheme: ${t.toString()}`);return i.applyEdits(t,r,n)}};function Tr(e,t){let r={file:Mi,[Zt.scheme]:new Zt(e)};return t&&(r[bc.scheme]=new bc(t)),new Nq(r)}var lS=new Map;async function uS(e,t){let r=e.toString(),n=lS.get(r);if(n||lS.set(r,n=[]),n.push(t),n.length===1){for(;n.length;)await n[0](),n.shift();lS.delete(r)}}var Zs;(function(s){s[s.Slash=47]="Slash",s[s.Colon=58]="Colon",s[s.A=65]="A",s[s.Z=90]="Z",s[s.a=97]="a",s[s.z=122]="z"})(Zs||(Zs={}));function We(e,t){let r;return e.authority&&e.path.length>1&&(e.scheme==="file"||e.scheme===Zt.scheme)?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,t==="win32"&&(r=r.replace(/\//g,"\\")),r}function _u(e,t){return[e.join(t,".devcontainer","devcontainer.json"),e.join(t,".devcontainer.json")]}async function Qv(e,t){let r=_u(e.path,t);for(let n of r)if(await e.isFile(n))return Ve.file(n).with({scheme:Zt.scheme})}async function Xv(e){let t=_u(fS,e);for(let r of t)if(await zt(r))return r}var es=`{${Lq.EOL}}`;async function ui(e,t,r,n){t.scheme==="file"&&await An(fS.dirname(t.fsPath)),await e.applyEdits(t,r,n)}function Su(e){let t=fS.posix.dirname(e.path);return e.with({path:t})}function ap(e){if(!(e.extensions||e.settings||e.devPort!==void 0))return e;let t=G({},e),r=t.customizations||(t.customizations={}),n=r.vscode||(r.vscode={});return t.extensions&&(n.extensions=(n.extensions||[]).concat(t.extensions),delete t.extensions),t.settings&&(n.settings=G(G({},t.settings),n.settings||{}),delete t.settings),t.devPort!==void 0&&n.devPort===void 0&&(n.devPort=t.devPort,delete t.devPort),t}function _c(e,t,r){return ts(e,t.configFilePath,r)}function ts(e,t,r){let n=Su(t);return t.with({path:Zv.posix.resolve(n.path,e.platform==="win32"&&t.scheme!==bc.scheme?(Zv.win32.isAbsolute(r)?"/":"")+r.replace(/\\/g,"/"):r)})}function Wt(e){return"dockerFile"in e||"build"in e&&"dockerfile"in e.build}function ea(e){return e&&(Wt(e)||"image"in e||"dockerComposeFile"in e)}function Xr(e,t){return _c(e,t,une(t))}function une(e){return"dockerFile"in e?e.dockerFile:e.build.dockerfile}async function br(e,t,r,n){if(Array.isArray(t.dockerComposeFile)){if(t.dockerComposeFile.length)return t.dockerComposeFile.map(i=>We(_c(e,t,i),e.platform))}else if(typeof t.dockerComposeFile=="string")return[We(_c(e,t,t.dockerComposeFile),e.platform)];if(n){let i=r==null?void 0:r.COMPOSE_FILE;if(i)return i.split(e.path.delimiter).map(a=>e.path.resolve(n,a));try{let a=e.path.join(n,".env"),c=await e.readFile(a),l=/^COMPOSE_FILE=(.+)$/m.exec(c.toString()),u=l&&l[1].trim();if(u)return u.split(e.path.delimiter).map(f=>e.path.resolve(n,f))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let o=[e.path.resolve(n,"docker-compose.yml")],s=e.path.resolve(n,"docker-compose.override.yml");return await e.isFile(s)&&o.push(s),o}return[]}function fne(){return{contentHashes:{}}}async function Mq(e,t,r){let n=e.configurationTracking,i=n.getConfigurationState();if(i){let o=i.contentHashes,s=Object.keys(o),c=(await dS(e,t,r)).contentHashes,l=Object.keys(c),u=new Set(l);s.forEach(p=>u.delete(p));let f=new Set(s);l.forEach(p=>f.delete(p));let d=[];for(let p of s)p in c&&c[p]!==o[p]&&d.push(p);if(u.size||f.size||d.length){let p=await dS(e,t,r);(async()=>{await n.containerOutdated([...u,...f,...d].sort())==="ignore"&&await e.configurationTracking.updateConfigurationState(p)})().catch(console.error)}}else await qq(e,t,r)}async function ey(e,t,r){let n="Updating configuration state",i=e.common.output.start(n);await qq(e,t,r),e.common.output.stop(n,i)}async function qq(e,t,r){let n=await dS(e,t,r);await e.configurationTracking.updateConfigurationState(n)}async function dS(e,t,r){let n=fne();ty(n,cp.posix.basename(r.configFilePath.path),JSON.stringify(ge(G({},r),{forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0})));let i=Su(r.configFilePath).path;if(Wt(r)){let o=Xr(e.common.cliHost,r),s=await t.readDocument(o);s!==void 0&&ty(n,cp.posix.relative(i,o.path),s)}if("dockerComposeFile"in r){let o=await br(e.common.cliHost,r,e.common.cliHost.env,e.common.cliHost.cwd),s=await Promise.all(o.map(async a=>{let c=Ve.file(a).with({scheme:Zt.scheme});return{uri:c,content:await t.readDocument(c)}}));for(let{uri:a,content:c}of s)c!==void 0&&ty(n,cp.posix.relative(i,a.path),c);for(let a=s.length-1;a>=0;a--){let{uri:c,content:l}=s[a];if(l){let u=pn(l),f=u&&u.services,d=f&&f[r.service],p=d&&d.build,h=p&&(typeof p=="string"?p:p.context);if(h){let m=ts(e.common.cliHost,c,h),g=jq(m,p.dockerfile||"Dockerfile"),v=await t.readDocument(g);v!==void 0&&ty(n,cp.posix.relative(i,g.path),v)}if(d&&(d.image||d.build))break}}}return n}function ty(e,t,r){let n=Fq.createHash("sha256").update(r).digest("hex");e.contentHashes[t]=n}var ji=te(require("path")),vU=te(require("crypto"));var _r=te(require("path"));var zq=te(require("net")),vS=te(require("path"));var pS=te(require("path")),hS=te(require("http")),$q=te(require("os")),Uq=te(require("crypto"));async function Bq(e,t){let r=await mS(e),n=new Hq(r,t);return n.listen(),n}var Hq=class{constructor(t,r){this.ipcHandlePath=t;this.server=hS.createServer((n,i)=>{Promise.resolve(r(n,i)).catch(o=>console.error(o&&o.message||o))}),this.server.on("error",n=>console.error(n))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function Vq(e){return new Promise((t,r)=>{let n=[];e.setEncoding("utf8"),e.on("data",i=>n.push(i)),e.on("error",i=>r(i)),e.on("end",()=>{let i=JSON.parse(n.join(""));t(i)})})}async function dne(e){return new Promise((t,r)=>{Uq.randomBytes(e,(n,i)=>{n?r(n):t(i)})})}async function mS(e){let r=(await dne(20)).toString("hex"),n=`${e}-${r}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?pS.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):pS.join($q.tmpdir(),`${n}.sock`)}var gS=class{constructor(){this.messages=[]}push(t){this.messages.push(t),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(t){if(this.messages.length){let r=this.messages;return this.messages=[],r}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((r,n)=>{this.dequeueRequest={resolve:r,reject:n},typeof t=="number"&&setTimeout(n,t)})}};async function go(e,t,r){let n=await mS("ssh-askpass");return await new Promise((i,o)=>{zq.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async c=>{if(a+=c,a.endsWith(`
`))try{r.write(`SSH askpass request: ${a}`,he.Trace);let l=await t(JSON.parse(a));s.write(l,u=>{u&&console.error(u)}),s.end()}catch(l){console.error(l)}}),s.on("error",c=>console.error(c))}).on("error",s=>{o(s)}).listen(n,()=>{i()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:vS.join(e,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:process.versions.electron?"--ms-enable-electron-run-as-node":"",VSCODE_SSH_ASKPASS_MAIN:vS.join(e,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:n}}var pne=0;function pr(e){return e.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++pne)}:{}}async function hn(e,t){return(await ta(e,[t]))[0]}async function ta(e,t){let r=await ny(e,"container",t);for(let n of r){n.Ports=[];let i=n.NetworkSettings.Ports;for(let o in i){let[s,a]=o.split("/");for(let c of i[o]||[]){let{HostIp:l,HostPort:u}=c;n.Ports.push({IP:l,PrivatePort:parseInt(s),PublicPort:parseInt(u),Type:a})}}}return r}async function xu(e,t){return(await ny(e,"image",[t]))[0]}async function ry(e,t){return(await ny(e,"volume",[t]))[0]}async function lp(e,t){return ny(e,"volume",t)}async function ny(e,t,r){if(!r.length)return[];let n=fp(e),i=await ze(ge(G({},n),{args:(n.args||[]).concat(["inspect","--type",t,...r])}));try{return JSON.parse(i.stdout.toString())}catch(o){throw console.error({stdout:i.stdout.toString(),stderr:i.stderr.toString()}),o}}async function rs(e,t=!1,r=[]){let n=[];t&&n.push("-a");for(let o of r)n.push("--filter",`label=${o}`);return(await Ct(e,"ps","-q",...n)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function vo(e,t=[]){let r=[];for(let i of t)r.push("--filter",`label=${i}`);return(await Ct(e,"volume","ls","-q",...r)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function yS(e){return(await Ct(e,"volume","ls","-q","-f","dangling=true")).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function Wq(e){return(await Ct(e,"volume","prune","-f")).stdout.toString()}async function iy(e,t,r){let n=[];for(let i of r||[])n.push("--label",i);await Ct(e,"volume","create",...n,t)}async function oy(e,t){let{exec:r,cmd:n,args:i,env:o,output:s}=fp(e),a=[];for(let d in t)for(let p of t[d])a.push("--filter",`${d}=${p}`);let c=await CS(e)?"json":"{{json .}}",l=(i||[]).concat(["events","--format",c,...a]),u=await r({cmd:n,args:l,env:o,output:s}),f=[];return u.stderr.on("data",d=>f.push(d)),u.exit.then(({code:d,signal:p})=>{f.length&&s.write(it(Buffer.concat(f).toString())),(d||p&&p!=="SIGKILL")&&s.write(it(`Docker events terminated (code: ${d}, signal: ${p}).`))},d=>{s.write(it(d&&(d.stack||d.message)))}),u}async function Ct(e,...t){let r=fp(e);return ze(ge(G({},r),{args:(r.args||[]).concat(t)}))}async function wS(e){var t;try{let{stdout:r}=await Ct(e,"context","ls","--format","{{json .}}"),n=`[${r.toString().trim().split(/\r?\n/).join(",")}]`;return(t=JSON.parse(n).find(s=>s.Current))==null?void 0:t.Name}catch{return}}async function CS(e){if(("cliHost"in e?e.cliHost:e.common.cliHost).platform!=="linux")return!1;try{let{stdout:r}=await Ct(e,"-v");return r.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function sy(e,...t){let r=dp(e);return zs(ge(G({},r),{args:(r.args||[]).concat(t)}))}async function Sc(e,...t){let r=fp(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return ze(ge(G({},r),{args:(r.args||[]).concat(t)}))}async function Gq(e,...t){let r=dp(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return zs(ge(G({},r),{args:(r.args||[]).concat(t)}))}function Pu(e,t,r){return async function(n){let{exec:i,cmd:o,args:s,env:a}=fp(e),{argsPrefix:c,args:l}=Yq(t,r,n,!1);return i({cmd:o,args:(s||[]).concat(l),env:a,output:Kq(n.output,o,c)})}}async function up(e,t,r,n){if(!await n("node-pty"))throw new Error("Missing node-pty");return async function(o){let{ptyExec:s,cmd:a,args:c,env:l}=dp(e),{argsPrefix:u,args:f}=Yq(t,r,o,!0);return s({cmd:a,args:(c||[]).concat(f),env:l,output:Kq(o.output,a,u)})}}function Kq(e,t,r){return hne(e,`Run: ${t} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function hne(e,t,r){let n=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return Hr(ge(G({},e),{get dimensions(){return e.dimensions},event:o=>e.event("text"in o?ge(G({},o),{text:o.text.replace(n,r)}):o)}))}function Yq(e,t,r,n){let{env:i,cwd:o,cmd:s,args:a}=r,c=["exec","-i"];n&&c.push("-t"),t&&c.push("-u",t),i&&Object.keys(i).forEach(u=>c.push("-e",`${u}=${i[u]}`)),o&&c.push("-w",o),c.push(e);let l=c.slice();return c.push(s),a&&c.push(...a),{argsPrefix:l,args:c}}function fp(e,t){return"dockerEnv"in e?{exec:e.common.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:G(G({},e.dockerEnv),pr(e.dockerEnv)),output:e.common.output}:"cliHost"in e?{exec:e.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:G(G({},e.env),pr(e.env)),output:e.output}:ge(G({},e),{env:G(G({},e.env),pr(e.env))})}function dp(e,t){return"dockerEnv"in e?{ptyExec:e.common.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:G(G({},e.dockerEnv),pr(e.dockerEnv)),output:e.common.output}:"cliHost"in e?{ptyExec:e.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:G(G({},e.env),pr(e.env)),output:e.output}:ge(G({},e),{env:G(G({},e.env),pr(e.env))})}function bS(e){return e.toLowerCase().replace(/[^a-z0-9\._-]+/g,"").replace(/(\.[\._-]|_[\.-]|__[\._-]|-+[\._])[\._-]*/g,(t,r)=>r.substr(0,r.length-1))}var Cy=te(require("path")),z$=te(B$()),W$=te(require("url")),Coe=te(Ql());var H$=te(tu()),V$=te(require("url"));function xp(e,t){return new Promise((r,n)=>{let i=new V$.URL(e.url),o={hostname:i.hostname,port:i.port,path:i.pathname+i.search,method:e.type,headers:e.headers},s=H$.https.request(o,a=>{if(a.statusCode<200||a.statusCode>299)n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),t&&t.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,he.Error);else{a.on("error",n);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>r(Buffer.concat(c)))}});s.on("error",n),e.data&&s.write(e.data),s.end()})}var G$="devcontainer-features.tgz";function by(e){return e?{allFeatures:e.featureSets.map(r=>r.features).flat()}:void 0}function Tc(e){let t=typeof e=="string"?Cy.join(e,"dist"):e.distFolder;return Cy.join(t,"node_modules","vscode-dev-containers","container-features")}function Ey(e){let{type:t}=e;switch(t){case"local-cache":return"local-cache";case"direct-tarball":return Buffer.from(e.tarballUri).toString("base64");case"github-repo":return`github-${e.owner}-${e.repo}-${e.isLatest?"latest":e.tag}`;case"file-path":return Buffer.from(e.filePath).toString("base64")}}function NS(e){if(!e)return"n/a";let{type:t}=e;switch(t){case"local-cache":return"(cache)";case"direct-tarball":return"(tarball)";case"github-repo":return`${e.owner}/${e.repo}`;case"file-path":return"(file-path)"}}function boe(e,t){let r=new RegExp("^[a-zA-Z0-9_-]*$");if(!e.includes("/"))return t.write(`[${e}] - No slash, must be locally cached feature.`,he.Trace),{id:e,sourceInformation:{type:"local-cache"}};if(e.startsWith("http://")||e.startsWith("https://")){t.write(`[${e}] - Direct URI`,he.Trace),e=e.replace(/\/+$/,"");let f=e.lastIndexOf("#"),d=e.substring(f+1);if(d===""||!r.test(d)){t.write(`Parse error. Specify a feature id with alphanumeric, dash, or underscore characters. Provided: ${d}.`,he.Error);return}let p=new W$.URL(e.substring(0,f)).toString();return t.write(`[${e}] - uri: ${p} , id: ${d}`,he.Trace),{id:d,sourceInformation:{type:"direct-tarball",tarballUri:p}}}if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))return;let n="latest",i=e.split("@");if(i.length>2){t.write("Parse error. Use the '@' symbol only to designate a version tag.",he.Error);return}i.length===2&&(t.write(`[${e}] has version ${i[1]}`,he.Trace),n=i[1]);let s=i[0].split("/");if(s.length!==3||s.some(f=>f==="")||!r.test(s[2])){t.write("Invalid parse for GitHub/registry feature identifier. Follow format: '<publisher>/<feature-set>/<feature>'",he.Error);return}let a=s[0],c=s[1],l=s[2],u=LS({owner:a,repo:c,tag:n});return{id:l,sourceInformation:u}}function LS(e){let{owner:t,repo:r,tag:n}=e;return n==="latest"?{type:"github-repo",apiUri:`https://api.github.com/repos/${t}/${r}/releases/latest`,unauthenticatedUri:`https://github.com/${t}/${r}/releases/latest/download/${G$}`,owner:t,repo:r,isLatest:!0}:{type:"github-repo",apiUri:`https://api.github.com/repos/${t}/${r}/releases/tags/${n}`,unauthenticatedUri:`https://github.com/${t}/${r}/releases/download/${n}/${G$}`,owner:t,repo:r,tag:n,isLatest:!1}}async function Eoe(e,t){if(e.length===0){t.write("Parsed featureSet is empty.",he.Error);return}let r=gt(e.toString());if(!(r==null?void 0:r.features)||r.features.length===0){t.write("Parsed featureSet contains no features.",he.Error);return}return t.write(`Loaded devcontainer-features.json declares ${r.features.length} features and ${r.sourceInformation?"contains":"does not contain"} explicit source info.`,he.Trace),_oe(r)}async function FS(e,t){let r=await tt(Cy.join(e,"devcontainer-features.json"));return Eoe(r,t)}function _oe(e){return e.features.find(t=>t.extensions||t.settings)?ge(G({},e),{features:e.features.map(t=>{if(!(t.extensions||t.settings))return t;let r=G({},t),n=r.customizations||(r.customizations={}),i=n.vscode||(n.vscode={});return r.extensions&&(i.extensions=(i.extensions||[]).concat(r.extensions),delete r.extensions),r.settings&&(i.settings=G(G({},r.settings),i.settings||{}),delete r.settings),r})}):e}var MS=(e,t)=>`${e}-${Ey(t)}`;async function qS(e,t,r,n){var f;let{output:i}=e,o=await n(),s=o["com.visualstudio.code.devcontainers.id"],a=o.version,c=t.features||{},l={};for(let d of Object.keys(c)){let{id:p,sourceInformation:h}=(f=boe(d,i))!=null?f:{};if(p&&h){let m=MS(p,h);l[m]=c[d]}else{i.write(`Failed to read user declared feature ${d}. Skipping.`,he.Error);continue}}let u={};for(let d of r.featureSets)for(let p of d.features){Soe(p);let h=MS(p.id,d.sourceInformation);s&&(p.exclude||[]).some(m=>K$(m,s,a))?p.included=!1:"include"in p?p.included=!!s&&(p.include||[]).some(m=>K$(m,s,a)):p.included=!0,u[h]=u[h]||p.included,p.value=l[h]||!1}e.output.write(`Feature configuration:
`+JSON.stringify(ge(G({},r),{imageDetails:void 0}),void 0,"  "),he.Trace);for(let d of r.featureSets)d.features=d.features.filter(p=>{let h=MS(p.id,d.sourceInformation);return h in u&&p.included===u[h]?(delete u[p.id],!0):!1});return r}function Soe(e){if(e.values){let t=e.options||(e.options={});t.version={type:"string",[e.customValues?"proposals":"enum"]:e.values,default:e.values[0],description:e.hint}}delete e.type,delete e.values,delete e.customValues,delete e.hint}function K$(e,t,r){let n=e.indexOf("@"),[i,o]=n!==-1?[e.slice(0,n),e.slice(n+1)]:[e,void 0];return t===i&&(!o||!r||z$.satisfies(r,o))}function os(e){var t;return((t=e.options)==null?void 0:t.version)?"version":void 0}function Pp(e){var r,n;let t=os(e);if(!t)return!!e.value;if(typeof e.value=="object"){let i=e.value[t];return i===void 0&&e.options?(r=e.options[t])==null?void 0:r.default:i}return e.value===void 0&&e.options?(n=e.options[t])==null?void 0:n.default:e.value}function Y$(e){var r;let t=os(e);return t?e.options&&((r=e.options[t])==null?void 0:r.default):!0}var jS="com.docker.compose.project",J$="com.docker.compose.service";async function Q$(e,t,r,n,i,o,s,a,c,l,u,f,d,p){return xoe(e,t,r,n,i,o,X$(n),s,a,c,l,u,f,d,p)}async function xoe(e,t,r,n,i,o,s,a,c,l,u,f,d,p,h){var y,b;let{common:m}=e,{cliHost:g}=t,v;try{let C=await br(g,n,g.env,g.cwd),_=g.path.join(g.cwd,".env"),P=Array.isArray(n.dockerComposeFile)&&n.dockerComposeFile.length===0&&await g.isFile(_)?_:void 0,S=await kp(t,r,C),x=!l,I,A=async()=>I||(I=(async()=>{let X=G(G({},t.env),pr(t.env)),Q={cliHost:g,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:X,extensionPath:m.extensionPath,appRoot:m.appRoot,package:m.package,output:m.postCreate.output},ve=await Py(Q,o,p,m.getLogLevel(),a.Id,h,m.cliMode);return by(ve.featuresConfiguration)})());v=await Ru(e,a.Id,s,n.remoteUser),f&&l&&v.user!=="root"&&(v.launchRootShellServer?await $v(v,v.launchRootShellServer,s,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let O=Tr(g,v.shellServer);x||await ey(e,O,n);let q={cwd:i,dockerCLI:e.dockerCLI,dockerComposeCLI:await e.dockerComposeCLI(),env:m.env,containerId:a.Id,user:v.user,sessionId:m.sessionId,shutdownAction:n.shutdownAction,projectName:S,composeFiles:C,envFile:P,buildContainerRunArgs:u,service:n.service,runServices:n.runServices,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:J,doneWithDocuments:K}=await Sy(e,O,"dockerCompose",q,x?n:void 0);m.backgroundTasks.push(K);let ee=((b=(y=n.customizations)==null?void 0:y.vscode)==null?void 0:b.devPort)||Js,{hostOrContainerPort:re,hostPortServer:j,connectionToken:F,webConnectionToken:D,remoteEnv:$,serverDownloaded:Y}=await jv(m,v,n,A,ee,xy(e,t,o,a.Id,c,p,h));return J.hostPortServer=j,Au(m,v,re,F,D,a,r),{params:m,properties:v,config:n,resolvedAuthority:{host:na,port:re,connectionToken:F,extensionHostEnv:$},webConnectionToken:D,tunnelInformation:m.isLocalContainer?Du(a):{},dockerParams:e,dockerContainerId:a.Id,serverDownloaded:Y}}catch(C){let _=C instanceof $e?C:new $e({description:"An error occurred setting up the container.",originalError:C});throw a&&(_.manageContainer=!0,_.params=e.common,_.containerId=a.Id,_.dockerParams=e),v&&(_.containerProperties=v),_.config=n,_}}function X$(e){return e.workspaceFolder||"/"}async function Z$(e,t,r){if(kr(e)){let n=Gs(e),i=[];for(let o=0;o<t.length;o++){let s=await Jo(n,t[o],r);i.push(s)}return i}return t}async function eU(e,t,r){try{let n=[].concat(...t.map(o=>["-f",o]));r&&n.push("--env-file",r);let i=await e.dockerComposeCLI();(vc(i.version)||[])[0]>=2&&n.push("--profile","*");try{let{stdout:o}=await Sc(e,...n,"config"),s=o.toString();return e.output.write(s),pn(s)||{}}catch(o){if(!Buffer.isBuffer(o==null?void 0:o.stderr)||(o==null?void 0:o.stderr.toString().indexOf("UnicodeEncodeError"))===-1)throw o;if(e.cliHost.platform==="win32"){let{cmdOutput:c}=await Gq(ge(G({},e),{output:Hr({event:e.output.event,dimensions:{columns:999999,rows:1}},he.Info)}),...n,"config");return pn(c.replace(Bs,""))||{}}let{stdout:s}=await Sc(ge(G({},e),{env:ge(G({},e.env),{LANG:"en_US.UTF-8",LC_CTYPE:"en_US.UTF-8"})}),...n,"config"),a=s.toString();return e.output.write(a),pn(a)||{}}}catch(n){throw n instanceof $e?n:new $e({description:"An error occurred retrieving the Docker Compose configuration.",originalError:n,data:{fileWithError:t[0]}})}}async function tU(e,t,r){let n=await rs(e,!0,[`${jS}=${t}`,`${J$}=${r}`]);return n&&n[0]}async function rU(e,t,r){var n;return(n=e.find(i=>{let o=i.Config.Labels||{};return o[jS]===t&&o[J$]===r}))==null?void 0:n.Id}async function kp(e,t,r){let{cliHost:n}="cliHost"in e?e:e.common,i=await Poe(e),o=_y(n.env.COMPOSE_PROJECT_NAME||"",i);if(o)return o;try{let c=n.path.join(n.cwd,".env"),l=await n.readFile(c),u=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(l.toString()),f=u&&u[1].trim(),d=_y(f||"",i);if(d)return d}catch(c){if(!(c&&(c.code==="ENOENT"||c.code==="EISDIR")))throw c}let s=t.configFolderPath,a=r[0]?n.path.dirname(r[0]):n.cwd;return YF(n.platform,a,n.path.join(s,".devcontainer"))?_y(`${n.path.basename(s)}_devcontainer`,i):_y(n.path.basename(a),i)}function $S(e){let t=(e.Config.Labels||{})[jS];return t||void 0}function _y(e,t){return t?e.toLowerCase().replace(/[^-_a-z0-9]/g,""):e.toLowerCase().replace(/[^a-z0-9]/g,"")}async function Poe(e){try{let t=vc((await e.dockerComposeCLI()).version);return t?!mu(t,[1,21,0]):!0}catch{return!0}}function yo(e,t,r){let n;return()=>n||(n=(async()=>{let i=!1,o;try{o=(await Sc(ge(G({},e),{cmd:r}),"version","--short")).stdout}catch(s){if((s==null?void 0:s.code)!=="ENOENT")throw s;o=(await Sc(ge(G({},e),{cmd:t}),"compose","version","--short")).stdout,i=!0}return{version:o.toString().trim(),cmd:i?t:r,args:i?["compose"]:[]}})())}var wo=te(require("url")),nU=te(require("https"));var US;(function(t){t[t.CannotAccessRepository=2]="CannotAccessRepository"})(US||(US={}));function Co(e){return e.toLowerCase().indexOf("github.com")>=0?Doe(e):e.toLowerCase().indexOf("visualstudio.com")>=0?Toe(e):e.toLowerCase().indexOf("dev.azure.com")>=0?Ioe(e):e.toLowerCase().indexOf("gitlab.com")>=0?Aoe(e):koe(e)}function ss(e){let t="owner",r="repository";return{repository:"unknown",repositoryUrl:e,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function koe(e){var s;let t="unknown-owner",r,n=e,i;i=(s=wo.parse(e))==null?void 0:s.path;let o=i==null?void 0:i.split("/");return!o||o.length<1?ss(e):(r=o[o.length-1],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"unknown",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`})}function Ioe(e){var o,s;let t,r,n=e,i;if(ky(e)){let a=`http://${e}`;i=(o=wo.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return ss(e);t=c[3],r=c[4]}else{i=(s=wo.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return ss(e);t=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function Toe(e){var o,s;let t,r,n=e,i;if(ky(e)){let a=`http://${e}`;i=(o=wo.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return ss(e);t=c[3],r=c[4]}else{i=(s=wo.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return ss(e);t=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function Aoe(e){var o,s;let t,r,n=e,i;if(ky(e)){let a=`http://${e}`;i=(o=wo.parse(a))==null?void 0:o.path,i&&(i=i.replace("/:","/"));let c=i==null?void 0:i.split("/");if(!c||c.length<3)return ss(e);t=c[c.length-2],r=c[c.length-1]}else{i=(s=wo.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<3)return ss(e);t=a[a.length-2],r=a[a.length-1]}return r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function Doe(e){var c,l;let t,r,n=e,i,o,s;if(ky(e)){let u=`http://${e}`;s=(c=wo.parse(u))==null?void 0:c.path,s&&(s=s.replace("/:","/"))}else s=(l=wo.parse(e))==null?void 0:l.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return ss(e);if(t=a[1],r=a[2],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let u=e.match(/\/tree\/|\/commit\//);u&&u.index&&(n=e.substring(0,u.index),i=e.substring(u.index+u[0].length))}if(a[3]==="pull"){o=a[4];let u=e.match(/\/pull\//);u&&u.index&&(n=e.substring(0,u.index))}}return{repository:"github",repositoryUrl:n,ref:i,commit:a[3]==="commit",repositoryOwner:t,repositoryName:r,pullRequestId:o,fullRepositoryName:`${t}/${r}`}}function ky(e){return e=e.toLowerCase(),e.indexOf("://")<0?e.indexOf("@")<e.indexOf(":"):!1}var Iy=class extends Error{constructor(t,r){super();this.code=t,this.description=r}},Ty=class{constructor(t){this.inputUrl=t,this.gitUrlInfo=Co(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(t,r,n,i){}installExtension(){return null}},iU=class extends Ty{constructor(t){super(t)}async parseUrl(t){var o,s,a;let r=(o=this.gitUrlInfo)==null?void 0:o.repositoryOwner,n=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,i=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(t,r,n,i)}async getPullRequestInfo(t,r,n,i){var u,f,d,p,h,m,g,v,y,b,C;let o=await this.fetchPullRequestInfo(t,r,n,i),s=(f=(u=o.head)==null?void 0:u.repo)==null?void 0:f.clone_url,a=(p=(d=o.base)==null?void 0:d.repo)==null?void 0:p.clone_url;if(!a)throw new Iy(2,"Cannot access the head repository of the Pull Request.");let c=(h=o.head)==null?void 0:h.ref,l=((v=(g=(m=o.head)==null?void 0:m.repo)==null?void 0:g.owner)==null?void 0:v.login)===r?null:(C=(b=(y=o.head)==null?void 0:y.repo)==null?void 0:b.owner)==null?void 0:C.login;return{urlToClone:a,prRepositoryUrl:s,ref:c,sourceOwner:l}}async fetchPullRequestInfo(t,r,n,i){let o=`/repos/${r}/${n}/pulls/${i}`,s={"user-agent":"vscode-remote-containers"};t&&(s.authorization=`token ${t}`);let a={hostname:"api.github.com",port:443,path:o,method:"GET",headers:s};return new Promise((c,l)=>{let u="",f=nU.request(a,d=>{if(d.statusCode<200||d.statusCode>=300)return l(new Error(`Status Code: ${d.statusCode}`));d.on("data",p=>{u+=p}),d.on("end",()=>{let p=JSON.parse(u.toString());c(p)})});f.on("error",l),f.end()})}cloneOptions(t){return{url:t.urlToClone,fullClone:!0}}async postClone(t,r,n,i){if(t.sourceOwner){let l=t.prRepositoryUrl.replace(/\.[^/.]+$/,"");await ze({exec:r.exec,cmd:"git",args:["remote","add",t.sourceOwner,l],cwd:n,output:i}),await ze({exec:r.exec,cmd:"git",args:["fetch",t.sourceOwner,t.ref],cwd:n,output:i});try{await ze({exec:r.exec,cmd:"git",args:["checkout","-t",`${t.sourceOwner}/${t.ref}`],cwd:n,output:i})}catch(u){if(!(u.stderr&&u.stderr.startsWith(`fatal: A branch named '${t.ref}' already exists`)))throw u}await ze({exec:r.exec,cmd:"git",args:["config","--local",`remote.${t.sourceOwner}.github-pr-remote`,"true"],cwd:n,output:i})}else await ze({exec:r.exec,cmd:"git",args:["checkout",t.ref],cwd:n,output:i});let o=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,c=`${o}#${s}#${a}`;await ze({exec:r.exec,cmd:"git",args:["config","--local",`branch.${t.ref}.github-pr-owner-number`,c],cwd:n,output:i})}installExtension(){return"GitHub.vscode-pull-request-github"}},oU=class extends Ty{constructor(t){super(t)}async parseUrl(t){var r,n;return{urlToClone:(r=this.gitUrlInfo)==null?void 0:r.repositoryUrl,ref:(n=this.gitUrlInfo)==null?void 0:n.ref}}cloneOptions(t){let r=this.gitUrlInfo.commit;return{url:t.urlToClone,branch:!r&&t.ref||void 0,fullClone:r}}async postClone(t,r,n,i){this.gitUrlInfo.commit&&await ze({exec:r.exec,cmd:"git",args:["checkout",t.ref],cwd:n,output:i})}},BS=class extends Ty{constructor(t,r){super(t);this.branch=r}async parseUrl(t){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(t){return{url:t.urlToClone,branch:t.ref||void 0}}};function Ou(e,t){if(t)return new BS(e,t);let r=Co(e);if(r.repository==="github"){if(r.pullRequestId)return new iU(e);if(r.ref)return new oU(e)}return new BS(e)}var Ip=_r.join(__dirname,"..","node_modules","vscode-dev-containers","repository-containers");async function sU(e,t,r,n){if(t&&!/\/\.?devcontainer\.json$/.test(t.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${We(t,e.common.cliHost.platform)}).`);let i=e.parsedAuthority;if(!i||Dr(i))return Roe(e,i,t,r,n);if(mi(i))return i.inspectVolume?aU(e,i):Ooe(e,i,t);if(Ap(i))return aU(e,i);throw new Error(`Unexpected authority: ${JSON.stringify(i)}`)}async function Roe(e,t,r,n,i){let{common:o,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c}=e,{cliHost:l,env:u,output:f}=o,d=l.cwd,p=e.originalCwd||d,h=t&&dt(l.path,qd(t.hostPath)?l.path.join(d,_r.basename(t.hostPath)):d),m;h&&(m=await Loe(e,h),m&&(o.backgroundTasks.push(m==null?void 0:m.gitUnshallow),await m.gitClone()));let g={cliHost:l,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c,env:u,output:f},v=i?void 0:[`${KS}=${p}`],y=i||[`${YS}=${p}`,`${Ry}=${o.product.quality}`];return HS(e,g,v,y,p,d,r,n,h,t==null?void 0:t.settings,[],o.cliMode?"never":"on")}async function Ooe(e,t,r){let{repositoryPath:n,volumeName:i,folder:o}=t,s=hi(n);i=await dU(e,s,i);let{labels:a,remoteWorkspaceFolder:c}=pU(s,n,o,i),l=[...a],u=[...a,`${Ry}=${e.common.product.quality}`],{containerId:f,shellServer:d,config:p}=await s.cloneAndInitializeRepository(e,t,s,i,r),h=dt(_r.posix,o?s.workspaceFolder(o):s.fullRepositoryName),m=[`type=volume,source=${i},target=${_r.posix.dirname(h.rootFolderPath)},external=true`],g=await hU(e,f,c),v={},{HOME:y,USERPROFILE:b}=e.common.env;y!==void 0&&(v.HOME=y),b!==void 0&&(v.USERPROFILE=b);let C=GS(s,i,o),_=g.cliHost,P,S=Wt(p)||"image"in p;if(S||"dockerComposeFile"in p&&p.workspaceFolder){let x=S?ge(G({},p),{configFilePath:void 0,workspaceFolder:void 0,workspaceMount:""}):ge(G({},p),{configFilePath:void 0,workspaceFolder:h.rootFolderPath}),I=_.path.join(await _.tmpdir(),`devcontainer-${Ln()}.json`),A=`EOF-${I}`,O=`${I}_${Date.now()}`;await d.exec(`cat <<'${A}' >${O}
${JSON.stringify(x)}
${A}
mv ${O} ${I}`),P=Ve.from({scheme:Zt.scheme,path:I})}try{return await HS(e,g,l,u,e.common.cliHost.cwd,_.cwd,r,P,h,t.settings,m,"off",C,!0,void 0,v)}finally{Promise.all(e.common.backgroundTasks.filter(x=>typeof x!="function").map(x=>x.catch(()=>{}))).then(()=>Ct(e,"rm","-f",f))}}async function aU(e,t){let{common:r,dockerCLI:n,dockerComposeCLI:i,dockerComposePath:o}=e,{cliHost:s,env:a,output:c}=r,{volumeName:l}=t,u,f,d=Ap(t);d?(u=Dy,f="Inspect Volume"):(u=hi(t.repositoryPath).volumeDestination,f="Recovery Container");let p=[`${Ay}=${l}`],h=[`${Ay}=${l}`,`${Ry}=${r.product.quality}`],m=await fU(e),g=[`type=volume,source=${l},target=${u},external=true`],v={cliHost:s,dockerCLI:n,dockerComposeCLI:i,dockerComposePath:o,env:a,output:c},y=dt(s.path,m);return HS(e,v,p,h,m,m,void 0,void 0,y,t.settings,g,"never",void 0,!d,f)}async function HS(e,t,r,n,i,o,s,a,c,l,u,f,d,p,h,m){let{common:g,userRepositoryConfigurationPaths:v}=e,{output:y,extensionPath:b,appRoot:C,postCreate:_}=g,{cliHost:P}=t;e.cacheMount==="bind"&&await An(g.localCacheFolder);let S=e.cacheMount==="volume"?[...u,"type=volume,source=vscode,target=/vscode,external=true"]:e.cacheMount==="bind"?[...u,`type=bind,source=${g.localCacheFolder},target=/vscode`]:u;if(e.cacheMount==="volume"){let Q="vscode";(await vo(t)).indexOf(Q)===-1&&await iy(t,Q)}let x=s||(c?await bo(P,c,v,!a,y):void 0);if((x==null?void 0:x.scheme)==="file"&&P.type!=="local"){let Q=_r.dirname(x.fsPath),ve=_r.basename(x.fsPath),Ae=ve===".devcontainer.json"?Q:_r.dirname(Q),Se=P.path.join(await P.tmpdir(),`devcontainer-config-${Ln()}`);await Ac(Ae,P,Se,y),x=Ve.from({scheme:Zt.scheme,path:P.path.join(Se,...ve===".devcontainer.json"?[ve]:[_r.basename(Q),ve])})}typeof e.removeOnStartup=="string"&&await Un(e,e.removeOnStartup)&&await Ct(e,"rm","-f",e.removeOnStartup);let I=await cU(t,n);I&&e.removeOnStartup===!0&&r&&(await Ct(e,"rm","-f",I.Id),I=void 0);let A=!!I||!r,O=A?n:r,q=e.removeOnStartup===!0||!(I||r&&await cU(t,r)),J=G(G(G({},m),t.env),pr(t.env)),K={cliHost:P,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:J,extensionPath:b,appRoot:C,package:g.package,postCreate:_,output:g.postCreate.output},ee=g.postCreate.output.dimensions||g.output.dimensions,re=await Dp(K,["up",...t.cliHost.type==="local"&&g.persistedFolder?["--user-data-folder",g.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...A?["--container-data-folder",ci(e.common.product.serverDataFolderName)]:[],...A?["--container-system-data-folder",vu(e.common.product.serverDataFolderName)]:[],"--workspace-folder",o,...e.workspaceMountConsistencyDefault?["--workspace-mount-consistency",e.workspaceMountConsistencyDefault]:[],...[].concat(...O.map(Q=>["--id-label",Q])),"--log-level",Us(g.getLogLevel()),"--log-format","json",...x?["--config",We(x,P.platform)]:[],...a?["--override-config",We(a,P.platform)]:[],"--default-user-env-probe",g.defaultUserEnvProbe,...e.buildNoCache?["--build-no-cache"]:[],...e.removeOnStartup===!0?["--remove-existing-container"]:[],...e.expectExistingContainer?["--expect-existing-container"]:[],...[].concat(...S.map(Q=>["--mount",Q])),"--skip-post-create","--update-remote-user-uid-default",f,"--mount-workspace-git-root",String(!g.cliMode),...ee?["--terminal-columns",String(ee.columns),"--terminal-rows",String(ee.rows)]:[]]);if((re==null?void 0:re.outcome)!=="success")throw new $e({description:`devcontainer command failed: ${re?JSON.stringify(re):"data missing"}`});let j=await Un(e,re.containerId);if(!j)return gU(g.output,"Dev container not found.");let F=await VS(K,o,x,g.getLogLevel(),j.Id,a,g.cliMode),D=F.configuration,$=Nu(l),Y=h||(D.name?`Dev Container: ${D.name}${$}`:`Dev Container${$}`);g.setWorkspaceName(Y);let X;if(Wt(D)||"image"in D)X=await mU(e,t,c,D,F.workspace,i,o,j,A,q,p,O,x,a);else if("dockerComposeFile"in D){if(!c)throw new $e({description:"A Dev Container using Docker Compose requires a workspace folder."});X=await Q$(e,t,c,D,i,o,j,A,q,d,p,O,x,a)}else throw new $e({description:`Dev container config (${D.configFilePath}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`});return X}async function cU(e,t){let r=await rs(e,!0,t);return(await ta(e,r)).filter(i=>i.State.Status!=="removing")[0]}async function VS(e,t,r,n,i,o,s=!1){let{cliHost:a,output:c}=e,l=await Dp(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,...i?["--container-id",i]:[],"--log-level",Us(n),"--log-format","json",...r?["--config",We(r,a.platform)]:[],...o?["--override-config",We(o,a.platform)]:[],"--mount-workspace-git-root",String(!s),...c.dimensions?["--terminal-columns",String(c.dimensions.columns),"--terminal-rows",String(c.dimensions.rows)]:[]]);return l.configuration.configFilePath=Ve.revive(l.configuration.configFilePath).with({scheme:a.type==="local"?"file":Zt.scheme}),l}async function bo(e,t,r,n,i){let o=await zS(e,t,r,n,i);return o==null?void 0:o.uri}async function zS(e,t,r,n,i){let o=await SL(e,t,St),s=o&&await Tp(o,r);if(s)return{uri:s,location:"user"};let a=await Qv(e,t.configFolderPath);if(a)return{uri:a,location:"workspace"};let c=o&&await Tp(o,[Ip]);if(c)return{uri:c,location:"builtin"};n&&i&&((o==null?void 0:o.length)?i.write(`No dev container config found. Additional locations checked:
${[...WS(o,r),...WS(o,[Ip])].map(l=>`- ${_r.join(l,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function Tp(e,t){let r=WS(e,t);for(let n of r){let i=await Xv(n);if(i)return Ve.file(i)}}function WS(e,t){let r=[],n=new Set(e.map(Noe).filter(i=>!!i));for(let i of n)for(let o of t){let s=_r.join(o,i);r.push(s)}return r}function lU(e,t,r){let n=e.path.relative(t.rootFolderPath,We(r,e.platform));return n&&!n.startsWith("..")&&!e.path.isAbsolute(n)}function uU(e){if(e.scheme!=="file")return;let t=_r.relative(Ip,e.fsPath);if(t&&!t.startsWith("..")&&!_r.isAbsolute(t))return t}function Noe(e){let t;if(e.startsWith("https://"))t=e.substr(8);else{let r=/[^@:]+@([^:]+):(.+)/.exec(e);if(r)t=`${r[1]}/${r[2]}`;else return}if(!(t.toLowerCase().startsWith("github.com")&&(t=(/^[^/]+\/[^/]+\/[^/]+/.exec(t)||[])[0],!t)))return t.endsWith(".git")&&(t=t.substr(0,t.length-4)),t}async function Loe(e,t){var p;let{common:r,gitClone:n}=e,{cliHost:i}=r;if(!n)return;let o=tp(r),s=tp(r),a=Ou(n.url,n.branch),c=await a.parseUrl(n.tokenEnvVar?i.env[n.tokenEnvVar]:void 0),l=a.cloneOptions(c),u=ge(G(G({},n),l),{env:G(G({},n.env),l.env)}),f=await iv(r,r.cliHost,t.rootFolderPath,u,o.output,s.output),d=(p=f.gitClone)==null?void 0:p.then(()=>a.postClone(c,i,t.rootFolderPath,o.output));return{gitClone:async()=>{o.flush(),await d},gitUnshallow:async()=>{o.flush(),s.flush(),await f.gitUnshallow}}}function hi(e){return{repositoryPath:e,fullRepositoryName:Oy(e),repositoryName:Foe(e),workspaceFolder:yU,volumeDestination:JS(),oldVolumeName:Moe(e),alreadyCloned:!1,imageName:qoe(e),uniqueVolumeName:joe(e),getWorkspaceConfiguration:(t,r)=>$oe(t,r),getOldWorkspacePath:bU,cloneAndInitializeRepository:Uoe,getConfigurationFromImage:CU,gitUrlHandler:Ou(e),gitUrlInfo:Co(e)}}function Oy(e){let t=Co(e);return t==null?void 0:t.fullRepositoryName}function Foe(e){let t=Co(e);return t==null?void 0:t.repositoryName}function JS(){return"/workspaces"}function Moe(e){let t=Oy(e);return`vsc-${ji.posix.basename(t)}-${QS(e)}`}function qoe(e){let t=Oy(e),r=QS(e),n=ji.posix.basename(t);return bS(`vsc-${n}-${r}`)}function joe(e){let t=Co(e),r="";t&&t.repositoryName&&(r=t.repositoryName,t.ref?r=`${r}-${t.ref.replace(/\//g,"-")}`:t.pullRequestId&&(r=`${r}-pull-${t.pullRequestId}`));let n=QS(e);return`${r}-${n}`}function QS(e){return vU.createHash("md5").update(e).digest("hex")}function $oe(e,t){let r=yU(e),n=`type=volume,src=${t},dst=${JS()}`;return{workspaceFolder:r,workspaceMount:n}}function yU(e){return ji.posix.join(`${JS()}`,`${e}`)}async function Uoe(e,{folder:t,cloneInfo:r},n,i,o){var u;await Voe(e);let{containerId:s,shellServer:a}=await Boe(e,n,i,t,o,e.configProvider,r),{config:c}=await CU(e,n,t,o,a),l=(u=n.gitUrlHandler)==null?void 0:u.installExtension();if(l){let f=c.customizations||(c.customizations={}),d=f.vscode||(f.vscode={}),p=d.extensions||(d.extensions=[]);p.includes(l)||p.push(l)}return{repository:n,volumeName:i,containerId:s,shellServer:a,config:c}}async function Boe(e,t,r,n,i,o,s){let{common:a}=e,{output:c,loadNativeModule:l}=a,u=t.fullRepositoryName,f,d,p,h;e.common.progress(Vr.CloningRepository);let m=GS(t,r,n,e.buildContainerRunArgs);n?(c.write(`Cloning Github repository: ${u} into ${t.workspaceFolder(n)}
\r`),f=`fatal: destination path '${t.workspaceFolder(n)}' already exists`,h=t.workspaceFolder(n),p=`Repository '${u}' was already cloned into '${t.workspaceFolder(n)}'.
\r`):(c.write(`Cloning Github repository: ${u} into volume ${r}
\r`),f=`fatal: destination path '${u}' already exists`,h=`${u}`,p=`Repository '${u}' was already cloned into volume.`);let g=t.gitUrlHandler;if(!g)throw new $e({description:"Could not analyze the URL."});s?d=g.cloneOptions(s):d={url:t.repositoryPath};let{stdout:v}=await Ct(e,...m),y=v.toString().trim(),b=Pu(e,y,"root"),C=await Yo(b,c),_,P,S=Promise.resolve(),x;if(!a.cliMode){let q=await zd(a,{remoteExec:b,user:"root",nodeExecutable:"node",shellServer:C});_=q.remoteContainersCLI,P=q.remoteEnv,S=q.ready,x=q.mrpcExec}let I=await up(e,y,"root",l),A=Ks("container",h,{},await x||b,I,()=>{throw new Error("not implemented")},void 0,c);try{a.cliMode||(e.common.isCopyGitConfigEnabled&&(await yc(e.common,{homeFolder:"/root",shellServer:C},[".gitconfig"],"git"),await Uv(e.common,{homeFolder:"/root",shellServer:C},{})),await yu({shellServer:C,nodeExecutable:"node"},_,c,"global"),await yc(e.common,{homeFolder:"/root",shellServer:C},[".ssh","known_hosts"],"ssh"),await S);let q=tp(a),J=await iv(a,A,h,ge(G({},d),{env:G(G({},P),d.env)}),c,q.output);if(await J.gitClone,J.gitUnshallow&&(a.backgroundTasks.push(J.gitUnshallow.then(()=>{})),J.gitUnshallow.then(q.flush,q.flush)),J.gitClone&&s)try{await g.postClone(s,A,h,c)}catch{return XS(e,y,`Failed to checkout the repository ${s.urlToClone}.`)}}catch(q){let J=q&&(q.cmdOutput||q.stack||q.message)||String(q);if(J=J.replace(Bs,""),J.replace(/[\r\n]+/gm,"").includes(f))c.write(p),t.alreadyCloned=!0;else return XS(e,y,`Git clone failed. ${J}`)}let{configRaw:O}=await wU(e,t,n,i,C);if(!ea(O)&&o){c.write(`Repository ${u} has no development container files.
\r`);let q=!0;for(;q;){let J=await o.createConfiguration(h,A);if(J)q=!1;else if(J=await o.showError("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started.","Select Configuration"),J!=="Select Configuration")return XS(e,y,"Cancelled container configuration selection.")}}return{containerId:y,shellServer:C}}function GS(e,t,r,n=[]){return r?["run","-d","--mount",`type=volume,src=${t},dst=${e.volumeDestination}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${ZS}`,"sleep","infinity"]:["run","-d","--mount",`type=volume,src=${t},dst=${e.fullRepositoryName}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${ZS}`,"sleep","infinity"]}function XS(e,t,r){throw t&&Ct(e,"rm","-f",t),new $e({description:r})}async function wU(e,t,r,n,i){let o,s;if(r?s=t.workspaceFolder(r):s=`${bU(t.repositoryPath)}`,n)return o=(await i.exec(`cat ${n.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:o&&gt(o),configFile:n,workspaceFolder:s};if(n=await Tp([t.repositoryPath],e.userRepositoryConfigurationPaths),n&&(o=(await tt(n.fsPath)).toString()),!n)for(let a of _u(ji.posix,s))try{o=(await i.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,n=Ve.from({scheme:"vscode-remote",path:a});break}catch{}return n||(n=await Tp([t.repositoryPath],[Ip]),n&&(o=(await tt(n.fsPath)).toString())),{configRaw:o&&gt(o),configFile:n,workspaceFolder:s}}async function CU(e,t,r,n,i){let{configRaw:o,configFile:s,workspaceFolder:a}=await wU(e,t,r,n,i);if(!s||!o)throw new $e({description:"The repository does not have a 'devcontainer.json' configuration file."});let{common:c,configUpdater:l}=e,{cliHost:u,output:f}=c,d=ap(G({},o)),p=d;l&&(d.configFilePath=s,p=l(d),delete p.configFilePath);let h=Rv({platform:u.platform,configFile:s,env:u.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},p);return h.configFilePath=s,("workspaceMount"in h||"workspaceFolder"in h)&&f.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:h}}function bU(e){return`/workspaces/${ji.posix.basename(Oy(e))}`}var ZS="vsc-volume-bootstrap";var ex="bootstrap.Dockerfile",Hoe="volume.Dockerfile";async function Voe(e){let{common:t,development:r}=e,{cliHost:n,output:i}=t,o=t.package.version,s=n.path.join(await nx(n),"bootstrap-image",r?`${o}-dev-${Date.now()}`:o),a=n.path.join(s,ex),c=!await n.isFolder(s);if(!c&&!await n.isFile(a)){let u="Removing incomplete bootstrap-image folder.",f=i.start(u),d=`${s}-${Ln()}`;await n.rename(s,d),await n.rm(d,{recursive:!0,force:!0}),c=!await n.isFolder(s),i.stop(u,f)}if(c){let u=`${s}-${Ln()}`,f=n.path.join(u,".vscode-remote-containers","dist",`dev-containers-cli-${o}`);await n.mkdirp(n.path.join(f,"dist","spec-node")),await n.writeFile(n.path.join(u,ex),await tt(ji.join(t.extensionPath,"scripts",ex))),await n.writeFile(n.path.join(f,"package.json"),await tt(ji.join(t.extensionPath,"package.json"))),await n.writeFile(n.path.join(f,"dist","spec-node","devContainersSpecCLI.js"),await tt(ji.join(t.extensionPath,"dist","spec-node","devContainersSpecCLI.js")));let d=Tc(t.extensionPath),p=n.path.join(f,"dist","node_modules","vscode-dev-containers","container-features");await Ac(d,n,p,i),await n.rename(u,s)}await sy(e,...["build","-f",a,"-t",ZS,s])}async function fU(e){let{common:t,development:r}=e,{cliHost:n,output:i}=t,o=t.package.version,s=n.path.join(await nx(n),"inspect-volume",r?`${o}-dev-${Date.now()}`:o),a=n.path.join(s,Hoe),c=!await n.isFolder(s);if(!c&&!await n.isFile(a)){let l="Removing incomplete inspect-volume folder.",u=i.start(l),f=`${s}-${Ln()}`;await n.rename(s,f),await n.rm(f,{recursive:!0,force:!0}),c=!await n.isFolder(s),i.stop(l,u)}if(c){let l=`${s}-${Ln()}`;await Ac(ji.join(t.extensionPath,"scripts","inspect-volume"),n,l,i),await n.rename(l,s)}return s}async function dU(e,t,r){let n=[`vsch.local.repository=${t.repositoryPath}`];return r?r===Bn?(r=t.uniqueVolumeName,n.push("vsch.local.repository.unique=true")):n.push("vsch.local.repository.unique=false"):(r=t.oldVolumeName,n.push("vsch.local.repository.unique=false")),t.gitUrlInfo.ref&&n.push(`vsch.local.repository.branch=${t.gitUrlInfo.ref}`),t.gitUrlInfo.pullRequestId&&n.push(`vsch.local.repository.pullRequestId=${t.gitUrlInfo.pullRequestId}`),(await vo(e)).indexOf(r)===-1&&await iy(e,r,n),r}var Ny="vsch.local.repository",tx="vsch.local.repository.volume",rx="vsch.local.repository.folder";function pU(e,t,r,n){return r?{labels:[`${Ny}=${t}`,`${tx}=${n}`,`${rx}=${r}`],remoteWorkspaceFolder:e.workspaceFolder(r)}:{labels:[`${Ny}=${t}`],remoteWorkspaceFolder:e.getOldWorkspacePath(t)}}async function hU(e,t,r){let{loadNativeModule:n,output:i}=e.common,o=Pu(e,t,"root"),s=await up(e,t,"root",n),a=Ks("container",r,{},o,s,()=>{throw new Error("not implemented")},"node",i);return{cliHost:a,dockerCLI:"docker",dockerComposeCLI:yo({exec:a.exec,env:{},output:i},"docker","docker-compose"),dockerComposePath:"docker-compose",env:{},output:i}}var KS="devcontainer.local_folder",Ay="vsch.local.volume",Dy="/volume",Ry="vsch.quality",YS="vsch.local.folder";async function mU(e,t,r,n,i,o,s,a,c,l,u,f,d,p){let{common:h}=e,m,g;try{let v=!l,y;return m=async()=>y||(y=(async()=>{let b=G(G({},t.env),pr(t.env)),C={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:b,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,output:h.postCreate.output},_=await Py(C,s,d,h.getLogLevel(),a.Id,p,h.cliMode);return by(_.featuresConfiguration)})()),g=await Ru(e,a.Id,i.workspaceFolder,n.remoteUser),u&&l&&i.workspaceFolder&&g.user!=="root"&&(g.launchRootShellServer?await $v(g,g.launchRootShellServer,i.workspaceFolder,n.configFilePath.path):h.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files.")),await Woe(a,c,e,t,g,n,m,r,v,o,s,f,d,p)}catch(v){throw zoe(v,a,e,g,n)}}function zoe(e,t,r,n,i){let o=e instanceof $e?e:new $e({description:"An error occurred setting up the container.",originalError:e});return t&&(o.manageContainer=!0,o.params=r.common,o.containerId=t.Id,o.dockerParams=r),n&&(o.containerProperties=n),i&&(o.config=i),o}async function Woe(e,t,r,n,i,o,s,a,c,l,u,f,d,p){var x,I;let{common:h}=r,m=Tr(h.cliHost,i.shellServer);c||await ey(r,m,o);let g={cwd:l,dockerCLI:r.dockerCLI,env:h.env,containerId:e.Id,user:i.user,sessionId:h.sessionId,shutdownAction:o.shutdownAction,logLevel:h.getLogLevel(),delay:1e4},{shutdownArgs:v}=await Sy(r,m,"singleContainer",g,c?o:void 0),{hostOrContainerPort:y,hostPortServer:b,connectionToken:C,webConnectionToken:_,remoteEnv:P,serverDownloaded:S}=await jv(h,i,o,s,((I=(x=o.customizations)==null?void 0:x.vscode)==null?void 0:I.devPort)||Js,xy(r,n,u,e.Id,t,d,p));return v.hostPortServer=b,Au(h,i,y,C,_,e,a),{params:h,properties:i,config:o,resolvedAuthority:{host:na,port:y,connectionToken:C,extensionHostEnv:P},webConnectionToken:_,tunnelInformation:h.isLocalContainer?Du(e):{},dockerParams:r,dockerContainerId:e.Id,serverDownloaded:S}}function Lu(e){let t=e.Config.Labels||{},r=t[KS]||t[YS];return r||void 0}function Dc(e){let t=(e.Config.Labels||{})[Ny];return t||void 0}function Ly(e){let t=(e.Config.Labels||{})[tx];return t||void 0}function EU(e){let t=(e.Config.Labels||{})[Ay];return t||void 0}function _U(e){let t=(e.Config.Labels||{})[rx];return t||void 0}function gU(e,t){throw e.write(it(t)),new Error(t)}var SU=te(require("path"));async function xU(e,t,r,n,i,o){let s,a=new Promise(h=>s=h),c=new gS,l=[],u=await Bq("vscode-remote-containers",async(h,m)=>{let g=await Vq(h),v=[];if(g.type==="poll")try{v=await c.dequeue(6e4)}catch{}else if(g.type==="reply"){let y=l[g.sequence];y&&(y(g.reply),delete l[g.sequence])}else g.type==="done"&&s?s():g.type==="log"&&n.event(g.event);m.write(JSON.stringify(v)),m.end()});u.server.unref();let f=SU.join(r,"dist","shutdown","shutdownMonitorProcess"),d=[u.ipcHandlePath,e,he[t],i||"",o.getTime().toString()];n.write(`Forking shutdown monitor: ${f} ${d.join(" ")}\r
`);let p=ZF(f,d,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return p.on("error",h=>{console.error(h)}),p.unref(),{queue:c,sequence:0,replies:l,done:a}}async function Fy(e,t,r){let n=e.sequence++,i=new Promise(s=>e.replies[n]=s);return e.queue.push({type:"configure",sequence:n,options:t}),await i}async function PU({queue:e,done:t}){e.push({type:"cleanup"}),await t}var TU=te(require("util"));var Rp=te(require("string_decoder"));var Bn="__UNIQUE__",na="127.0.0.1";function Fu(e,t){let r=e.platform==="win32"&&!e.env.SSH_AUTH_SOCK?E_:e.type==="wsl"?e.env.SSH_AUTH_SOCK:void 0,n={DOCKER_CONTEXT:"default"};return t&&("context"in t?n.DOCKER_CONTEXT=t.context:(t.host&&(t.host.startsWith("ssh://")&&e.type==="ssh"?n.VSCODE_DOCKER_HOST=t.host:n.DOCKER_HOST=t.host),t.certPath&&(n.DOCKER_CERT_PATH=t.certPath),t.tlsVerify&&(n.DOCKER_TLS_VERIFY=t.tlsVerify))),r&&(n.SSH_AUTH_SOCK=r),n}function ia(e){let t;if(e.DOCKER_CONTEXT&&e.DOCKER_CONTEXT!=="default")t={context:e.DOCKER_CONTEXT};else{t={};let r=e.VSCODE_DOCKER_HOST||e.DOCKER_HOST;r&&(t.host=r),e.DOCKER_CERT_PATH&&(t.certPath=e.DOCKER_CERT_PATH),e.DOCKER_TLS_VERIFY&&(t.tlsVerify=e.DOCKER_TLS_VERIFY),Object.keys(t).length||(t=void 0)}return t}function My(e,t){t&&("context"in t&&t.context&&e.write(`Context: ${t.context}\r
`),"host"in t&&t.host&&e.write(`Host: ${t.host}\r
`),"certPath"in t&&t.certPath&&e.write(`CertPath: ${t.certPath}\r
`),"tlsVerify"in t&&t.tlsVerify&&e.write(`TLSVerify: ${t.tlsVerify}\r
`))}function qy(e){return!e.VSCODE_DOCKER_HOST&&!e.DOCKER_HOST&&(!e.DOCKER_CONTEXT||e.DOCKER_CONTEXT==="default")}function Nu(e){return e&&("context"in e||e.host)?` @ ${"context"in e?e.context:e.host}`:""}async function Un(e,t){try{return await hn(e,t)}catch{return}}function Au(e,t,r,n,i,o,s){let a=o.Ports.filter(d=>!!d.PublicPort),c="";if(e.authority&&s){let d=s.isWorkspaceFile?"workspace":"folder",p=t.remoteWorkspaceFolder||"/",h=s.isWorkspaceFile?mn.posix.join(p,e.cliHost.path.basename(s.workspaceOrFolderPath)):p;c=`&${d}=${encodeURIComponent(`vscode-remote://${e.authority}${h}`)}`}let l=[...a.length?["Published Ports:"]:[],...a.map(d=>`${d.PrivatePort}/${d.Type} -> ${d.IP}:${d.PublicPort}`),...a.length?[""]:[],...e.web?[`VS Code Web: http://localhost:${r}?tkn=${n||i}${c}`,""]:[]],u=l.reduce((d,p)=>Math.max(p.length,d),0),f="-".repeat(u);u>0&&e.output.write(`\r
\r
${f}\r
${l.join(`\r
`)}${f}\r
\r
`)}async function jy(e){let{common:t}=e,{output:r}=t,n="Check Docker is running",i=r.start(n);try{let{stdout:o}=await Ct(e,"version","--format","{{.Server.APIVersion}}"),s=o.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s);r.write(`Server API version: ${s.trim()}`)}catch(o){console.error(o);let s=o&&(o.stderr?o.stderr.toString():o.message)||"";s&&r.write(it(s));let a="Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed.",c=o&&(o.stderr?o.stderr.toString().toLowerCase():o.message)||"";throw c.indexOf("permission denied")!==-1?c.indexOf("ssh")!==-1?a="Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction.":a="Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group.":c.indexOf("ENOENT")!==-1&&(a="The 'docker' command was not found. Make sure Docker is installed."),new $e({description:a,originalError:`Docker returned an error code ${o.code}, message: ${o.message}`})}finally{r.stop(n,i)}}function Dr(e){return e.hostPath!==void 0}function mi(e){return e.repositoryPath!==void 0}function Ap(e){return!mi(e)&&e.volumeName!==void 0}function gi(e){let t=DU("dev-container",e);if(!!t)return typeof t=="string"?{hostPath:t}:"repositoryPath"in t?t.dockerHost?{repositoryPath:t.repositoryPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`,cloneInfo:t.cloneInfo}}:t:"hostPath"in t&&t.dockerHost?{hostPath:t.hostPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`}}:t}function Op(e,t,r,n){let i=r?JSON.stringify({hostPath:e,localDocker:n,settings:r}):e;return`vscode-remote://dev-container+${Buffer.from(i,"utf8").toString("hex")}${t}`}function Rc(e,t,r,n,i,o){if(e){let a=hi(e);if(!t){let l=JSON.stringify({repositoryPath:e,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(l,"utf8").toString("hex")}${a.getOldWorkspacePath(e)}`}let c=JSON.stringify({repositoryPath:e,volumeName:t,folder:r,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(c,"utf8").toString("hex")}${a.workspaceFolder(r)}`}let s=JSON.stringify({volumeName:t,settings:i});return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${Dy}`}function $y(e){let t=DU("attached-container",e);if(!!t)return typeof t=="string"?{containerId:t}:(t.dockerHost&&(t.settings={host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`},delete t.dockerHost),t)}function AU(e,t,r){let n=JSON.stringify({containerName:e,settings:t,cwd:r});return`attached-container+${Buffer.from(n,"utf8").toString("hex")}`}function DU(e,t){try{let[r,n]=t.split("+"),i=r===e&&n?Buffer.from(n,"hex").toString("utf8"):void 0;return i?i.startsWith("{")?JSON.parse(i):i:void 0}catch(r){console.warn(r);return}}async function RU(e,t,r,n=!1){return!n&&await r_(e,t,r)||t}function OU(e,t,r){let n=e.path.relative(e.path.dirname(t),r);return`/workspaces/${e.platform==="win32"?n.replace(/\\/g,"/"):n}`}function NU(e,t,r){if(e==="win32")return t;let n=`${Koe(r,"/")}/`;return(e==="linux"?t.startsWith(n):t.toLowerCase().startsWith(n.toLowerCase()))&&(t=`~/${t.substr(n.length)}`),t}function Koe(e,t){if(t.length===0)return e;for(;e.endsWith(t);)e=e.substr(0,e.length-t.length);return e}function jq(e,t){return e.with({path:mn.posix.resolve(e.path,t)})}async function Sy(e,t,r,n,i){let{common:o,onRemoveOnShutdownChanged:s}=e;if(o.cliMode)return{shutdownArgs:{},doneWithDocuments:Promise.resolve()};let a=o.output.start("Setup shutdown monitor"),c=await xU(r,o.getLogLevel(),o.extensionPath,o.output,o.logFilePath?mn.dirname(o.logFilePath):void 0,o.sessionStart);Fy(c,n,o.output).catch(d=>console.error(d)),s&&s(async d=>{n.rebuild=!!d,n.delay=0,await Fy(c,n,o.output)}),o.onDidChangeLogLevel(async d=>{n.logLevel=d,await Fy(c,n,o.output)});let l={},u=async()=>{let d=PU(c);l.hostPortServer&&await(0,TU.promisify)(l.hostPortServer.close.bind(l.hostPortServer))(),await d};o.shutdowns.push(u);let f=i?Mq(e,t,i).catch(console.error):Promise.resolve();return o.output.stop("Setup shutdown monitor",a),{monitor:c,shutdownArgs:l,doneWithDocuments:f}}function Du(e){return{environmentTunnels:e.Ports.filter(t=>!!t.PublicPort).map(t=>({remoteAddress:{port:t.PrivatePort,host:t.IP},localAddress:t.IP+":"+t.PublicPort}))}}async function Ru(e,t,r,n,i){let{common:o}=e,s="Inspecting container",a=o.output.start(s),c=await hn(e,t);o.output.stop(s,a);let l=n||c.Config.User||"root",[,u,,f]=/([^:]*)(:(.*))?/.exec(l),d=Yoe(c.Config.Env),p=Pu(e,t,l),h=await up(e,t,l,o.loadNativeModule),m=Pu(e,t,"root"),g=c.Mounts.find(b=>b.Type==="volume"&&b.Name==="vscode"),v=c.Mounts.find(b=>b.Type==="bind"&&b.Source===o.localCacheFolder),y=g&&mn.posix.join(g.Destination,/^\.*(.*)$/.exec(o.product.serverDataFolderName)[1])||(v==null?void 0:v.Destination);return Fv({params:o,createdAt:c.Created,startedAt:c.State.StartedAt,sharedDataFolder:y,sharedDataFolderIsLocalCacheFolder:!g&&!!v,remoteWorkspaceFolder:r,containerUser:u==="0"?"root":u,containerGroup:f,containerEnv:d,remoteExec:p,remotePtyExec:h,remoteExecAsRoot:m,rootShellServer:i})}function Yoe(e){return(e||[]).reduce((t,r)=>{let n=r.indexOf("=");return n!==-1&&(t[r.substr(0,n)]=r.substr(n+1)),t},{})}async function nx(e){return e.path.join(await e.tmpdir(),e.platform==="linux"?`vsch-${await e.getUsername()}`:"vsch")}async function Eo(){return mn.join(IU.tmpdir(),process.platform==="linux"?`vsch-${await xv()}`:"vsch")}async function LU(e){let{common:t,dockerCLI:r,dockerComposeCLI:n,dockerComposePath:i,dockerEnv:o}=e,{cliHost:s,output:a}=t;return{cliHost:s,dockerCLI:r,dockerComposeCLI:n,dockerComposePath:i,env:o,output:a}}async function FU(e,t){return e.type==="local"&&t?e.path.join(t,"data"):e.path.join(await e.homedir(),".vscode-remote-containers","data")}async function Ac(e,t,r,n){await t.mkdirp(r);let i=kU.c({cwd:e,filter:l=>(console.log(l),!0)},["."]),o=new Promise((l,u)=>{i.on("error",u),i.on("finish",l)}),s=await t.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:r,output:n}),a=new Rp.StringDecoder;s.stdout.on("data",l=>{n.write(a.write(l))});let c=new Rp.StringDecoder;s.stderr.on("data",l=>{n.write(it(c.write(l)))}),i.pipe(s.stdin),await s.exit,await o}async function Dp(e,t){let{cliHost:r,postCreate:n,output:i}=e,o=await Zoe(e),s=Qoe(r),a;return await Joe({exec:r.exec,cwd:o.cwd,cmd:s.cmd,args:[...s.args,o.script,...t],env:Xoe(e,s.cmd),stdin:n==null?void 0:n.onDidInput,output:i,stdoutData:c=>a=c,stderrData:c=>{i.event(c)}}),a}async function Joe(e){let{exec:t,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,stdoutData:c,stderrData:l}=e,u=await t({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((f,d)=>{let p=new Rp.StringDecoder,h="";u.stdout.on("data",y=>{h+=p.write(y);let b=h.split(`
`);h=b.pop();for(let C of b)if(C.trim())try{c(JSON.parse(C))}catch{a.write(C)}}),u.stdout.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let m=new Rp.StringDecoder,g="";u.stderr.on("data",y=>{g+=m.write(y);let b=g.split(`
`);g=b.pop();for(let C of b)if(C.trim())try{l(JSON.parse(C))}catch{a.write(C)}}),u.stderr.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let v=[];u.exit.then(({code:y})=>{try{v.forEach(b=>b.dispose()),y?(a.write(`Exit code ${y}`),d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,code:y})):f()}catch(b){d(b)}},d),typeof s=="function"&&v.push(s(y=>u.stdin.write(y)))})}function Qoe(e){if(e.type==="local")return po?{cmd:O_,args:[]}:{cmd:process.argv[0],args:process.versions.electron&&process.versions["microsoft-build"]?["--ms-enable-electron-run-as-node"]:[]};if(e.nodeExecutable)return{cmd:e.nodeExecutable,args:[]};throw new Error("Node executable required")}function Xoe(e,t){let{cliHost:r,env:n,appRoot:i}=e;return G(G(G({},n),r.type==="local"?i?{NODE_PATH:`${r.path.join(i,"node_modules.asar")}${mn.delimiter}${r.path.join(i,"node_modules")}`}:void 0:r.type==="container"?void 0:{NODE_PATH:r.path.join(r.path.dirname(t),"node_modules")}),po?{TS_NODE_PROJECT:void 0}:{})}async function Zoe(e){let{cliHost:t,extensionPath:r,output:n}=e,i=mn.join(r,...po?["node_modules","@devcontainers","cli","src"]:["dist"],"spec-node",`devContainersSpecCLI.${po?"t":"j"}s`),o=t.type==="local"?r:t.path.join(await t.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${e.package.version}`),s=t.type==="local"?i:t.path.join(o,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","ssh"].indexOf(t.type)!==-1&&!await t.isFile(s)){let a=`${o}-${Ln()}`,c=t.path.join(a,"dist","spec-node","devContainersSpecCLI.js");await t.mkdirp(t.path.dirname(c)),await t.writeFile(t.path.join(a,"package.json"),await tt(mn.join(r,"package.json"))),await t.writeFile(c,await tt(i));let l=Tc(r),u=t.path.join(a,"dist","node_modules","vscode-dev-containers","container-features");await Ac(l,t,u,n),await Ac(mn.join(r,"scripts"),t,t.path.join(a,"scripts"),n),await t.rename(a,o)}return{cwd:o,script:s}}function xy(e,t,r,n,i,o,s){return async(a,c,l,u)=>{let{common:f}=e,{cliHost:d}=t,p=G(G({},t.env),pr(t.env)),h={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:p,extensionPath:f.extensionPath,appRoot:f.appRoot,package:f.package,postCreate:f.postCreate,output:f.postCreate.output},m=f.postCreate.output.dimensions||f.output.dimensions,g=await Dp(h,["run-user-commands",...t.cliHost.type==="local"&&f.persistedFolder?["--user-data-folder",f.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...i?["--container-data-folder",ci(e.common.product.serverDataFolderName)]:[],...i?["--container-system-data-folder",vu(e.common.product.serverDataFolderName)]:[],"--workspace-folder",r,"--container-id",n,"--log-level",Us(f.getLogLevel()),"--log-format","json",...o?["--config",We(o,d.platform)]:[],...s?["--override-config",We(s,d.platform)]:[],"--default-user-env-probe",f.defaultUserEnvProbe,"--skip-non-blocking-commands",String(a),"--prebuild",String(l),"--stop-for-personalization",String(c),...[].concat(...Object.keys(u).map(v=>["--remote-env",`${v}=${u[v]}`])),"--mount-workspace-git-root",String(!f.cliMode),...m?["--terminal-columns",String(m.columns),"--terminal-rows",String(m.rows)]:[]]);if((g==null?void 0:g.outcome)!=="success")throw new $e({description:`devcontainer command failed: ${g?JSON.stringify(g):"data missing"}`});return g.result}}async function Py(e,t,r,n,i,o,s=!1){let{cliHost:a,output:c}=e,l=await Dp(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,"--container-id",i,"--log-level",Us(n),"--log-format","json",...r?["--config",We(r,a.platform)]:[],...o?["--override-config",We(o,a.platform)]:[],"--include-features-configuration","--mount-workspace-git-root",String(!s),...c.dimensions?["--terminal-columns",String(c.dimensions.columns),"--terminal-rows",String(c.dimensions.rows)]:[]]);return l.configuration.configFilePath=Ve.revive(l.configuration.configFilePath).with({scheme:a.type==="local"?"file":Zt.scheme}),l}var Ut=te(require("vscode"));var Oc={id:"openDocumentation",title:"Open Documentation",isLastAction:!1,applicable:(e,t)=>!t,execute:async e=>{await Ut.env.openExternal(Ut.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},Nc={id:"reloadWindow",title:"Reload Window",isLastAction:!0,applicable:(e,t)=>!t&&e.data.reload!==!1,execute:async e=>{e.manageContainer&&e.dockerParams&&e.containerId&&await Ct(e.dockerParams,"stop","-t","0",e.containerId),await Ut.commands.executeCommand("workbench.action.reloadWindow")}},MU={id:"rebuildContainer",title:"Rebuild Container",isLastAction:!0,applicable:(e,t)=>e.manageContainer&&!!e.dockerParams&&!!e.containerId&&!t,execute:async e=>{await Ct(e.dockerParams,"rm","-f",e.containerId),await Ut.commands.executeCommand("workbench.action.reloadWindow")}},Mu={id:"openRecent",title:"Open Recent...",isLastAction:!0,applicable:(e,t)=>!t,execute:async e=>{await Ut.commands.executeCommand("workbench.action.openRecent")}},qU={id:"startContainer",title:"Start Container",isLastAction:!0,applicable:e=>!!e.dockerParams&&!!e.containerId&&e.data.start===!0,execute:async e=>{await Ct(e.dockerParams,"start",e.containerId),await Ut.commands.executeCommand("workbench.action.reloadWindow")}},jU={id:"chooseContainer",title:"Choose Container",isLastAction:!0,applicable:e=>e.data.attach===!0,execute:async()=>{await Ut.commands.executeCommand("remote-containers.attachToRunningContainer")}},oa={id:"closeRemote",title:"Close Remote",isLastAction:!0,applicable:(e,t)=>{if(!t)return!1;let r=Ut.workspace.workspaceFile;return!(r&&r.scheme==="untitled"||Ut.workspace.textDocuments.some(i=>i.isDirty))},execute:async e=>{await Ut.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},qu=[{id:"retry",title:"Retry",isLastAction:!0,applicable:(e,t)=>t&&e.data.reload!==!1,execute:Nc.execute},{id:"moreActions",title:"More Actions...",isCloseAffordance:!0,isLastAction:!1,applicable:(e,t)=>t,execute:async e=>{}},{id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(e,t)=>t&&!!e.data.learnMoreUrl,async execute(e){await Ut.env.openExternal(Ut.Uri.parse(e.data.learnMoreUrl))}}];async function sa(e,t,r,n=!1,i){var d,p,h,m,g,v;let o=e instanceof $e?e:new $e({description:"An error occurred setting up the container.",originalError:e});if(i){i.show();let y=o.originalError&&(o.originalError.stack||o.originalError.message)||o.originalError;if(y!==void 0){i.log.write(it(String(y)));let b=(p=(d=o.originalError)==null?void 0:d.stdout)==null?void 0:p.toString().trim();b&&i.log.write(b);let C=(m=(h=o.originalError)==null?void 0:h.stderr)==null?void 0:m.toString().trim();C&&i.log.write(it(C)),((g=o.originalError)==null?void 0:g.code)&&i.log.write(`Exit code ${(v=o.originalError)==null?void 0:v.code}`)}}if(e.message.indexOf("Cancelled container configuration selection")!==-1)throw await Ut.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Ut.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let s=o.actions;s.length||(s=[Oc]);let a=await s.reduce(async(y,b)=>await b.applicable(o,!0)?[...await y,b]:y,Promise.resolve([])),c=await Ut.window.showErrorMessage(o.description,{modal:!0},...a);if(c&&($U(r,t,c.id),await c.execute(o)),c&&c.isLastAction){if(n)throw Ut.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let l=await s.reduce(async(y,b)=>await b.applicable(o,!1)?[...await y,b]:y,Promise.resolve([])),u=l.map(y=>({label:y.title,action:y}));async function f(){let b=await(l.length?Ut.window.showQuickPick(u,{ignoreFocusOut:!0,placeHolder:"Pick an action to help resolve the problem."}):Promise.resolve(void 0));b&&($U(r,t,b.action.id),b.action.execute(o).catch(console.error),b.action.isLastAction||await f())}if(f().catch(console.error),n)throw Ut.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function $U(e,t,r){e.sendTelemetryEvent("errorAction",{resolver:t,action:r})}var pe=te(require("vscode")),lC=te(require("path"));var ez=te(gV()),_a=te(Z3());var ope="remote.containers.defaultExtensions",_i="remote-containers.revealLogTerminal",kk="remote-containers.revealPostCreateTerminal",Rh="remote-containers.openDevContainerFile",tz="remote-containers.openRepositoryInVolume",uC="remote-containers.openRepositoryInUniqueVolume",rz="remote-containers.openRepositoryFromRemoteHub",nz="remote-containers.openRepositoryFromRemoteHubWithEditSession",iz="remote-containers.openPullRequestInVolume",Oh=pe.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),Nh=pe.Uri.parse("https://aka.ms/vscode-dev-containers"),oz=new NE,Yr={onRemoveOnShutdownChangedEmitter:oz,onRemoveOnShutdownChanged:oz.event,results:new Map},hl,To=e=>eM(e,pe.env.appRoot);function fC(e,t,r,n){return async(i,o)=>{if(pe.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0),o.resolveAttempt>1){let s=r.get(i);if(!s)throw new Error("Reconnect attempt without old result.");let a=`Reconnection attempt ${o.resolveAttempt-1}`,c=e.log.start(a),{cliHost:l}=s.params;if(l.reconnect)try{await l.reconnect()}catch(u){throw e.log.write(it(String(u&&(u.stack||u.message)||u))),pe.RemoteAuthorityResolverError.TemporarilyNotAvailable("Cannot reconnect to remote host.")}if(s.dockerContainerId){let u=await Un(s.dockerParams,s.dockerContainerId);if(!u)throw pe.RemoteAuthorityResolverError.NotAvailable("Container no longer exists.");if(u.State.Status==="paused")throw pe.RemoteAuthorityResolverError.TemporarilyNotAvailable("Container is paused.");if(u.State.Status!=="running")throw pe.RemoteAuthorityResolverError.NotAvailable("Container is no longer running.")}return e.log.stop(a,c),ge(G({},s.resolvedAuthority),{isTrusted:s.isTrusted})}else{let s="Resolving Remote",a=e.log.start(s),c=await n(i,e,t);return spe(c.params,c.properties).catch(l=>{}),r.set(i,c),e.log.stop(s,a),pe.window.withProgress({location:pe.ProgressLocation.Window,title:Epe,cancellable:!1},async l=>{await zM(c.params.backgroundTasks)}).then(void 0,l=>{e.log.write(it(String(l&&(l.stack||l.message)||l)))}),ge(G(G({},c.resolvedAuthority),c.tunnelInformation),{isTrusted:c.isTrusted})}}}async function spe(e,t){if(!t.nodeExecutable)return;let r=await tt(lC.join(e.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:n}=await Xo(e,t,[t.nodeExecutable,"-e",r],void 0,{silent:!0}),i=n.toString().trim();e.sendTelemetryEvent("extraInfo",{remoteCloud:i})}var Ik;async function ape(e){return Ik||(Ik=go(lC.join(__dirname,"..",".."),bs,e)),Ik}var Lh={};async function bs(e,t=!0){var r;if(e.counter&&((r=Lh[e.prompt])==null?void 0:r.from)===e.counter&&delete Lh[e.prompt],!Lh[e.prompt]){if(!t)return"";Lh[e.prompt]={result:Promise.resolve(pe.window.showInputBox({prompt:e.prompt||"Enter password",password:!0,ignoreFocusOut:!0}).then(n=>n||"")),from:e.counter}}return Lh[e.prompt].result}async function yt(e,t,r,n=!0,i=ape(t),o=!0){let s=!r;if(s){if(Yr.results.size){let g=[...Yr.results.values()].filter(v=>v.dockerParams)[0];return LU(g.dockerParams)}if(hl)return hl}r&&typeof r!="string"&&"scheme"in r&&(r.scheme==="file"?r=r.fsPath:r=fu(r));let a;if(!r){let g=(pe.workspace.workspaceFolders||[])[0];if(pe.env.remoteName==="wsl")g?r=fu(g.uri):r={wslDistro:Ev(pe.env.remoteAuthority),wslPath:"/"};else if(pe.env.remoteName==="ssh-remote"){let v=cpe(pe.env.remoteAuthority);if(v){let{user:y,hostName:b,port:C}=v;a={host:`ssh://${y?`${y}@`:""}${b}${C?`:${C}`:""}`},g?r=g.uri.path:r="/"}}else(g==null?void 0:g.uri.scheme)==="file"&&(r=g.uri.fsPath);r||(r=process.cwd())}let c=a&&"host"in a&&a.host||void 0,l=n?Xi():{executeInWSL:"never",defaultDistro:void 0},u=Fi(c,r,To,l,e.extensionPath,await Eo(),await Jd(pe.env.appRoot),t,Ro,{sshAskpassEnv:i,settings:Df()});o&&!await Promise.race([u,ho(1e3)])&&await pe.window.withProgress({location:pe.ProgressLocation.Notification,title:`[Setting up Remote-Containers (show log)](command:${_i} "Show details in terminal")`,cancellable:!1},async()=>{await u});let f=await u,d=Qi(),p=Ao();if(!a){let g=pe.workspace.getConfiguration("docker"),v=g.get("context")||f.env.DOCKER_CONTEXT;if(!v){let y={cliHost:f,dockerCLI:d,dockerComposeCLI:yo({exec:f.exec,env:{},output:St},d,p),dockerComposePath:p,env:{},output:St};v=await wS(y)||"default"}v&&v!=="default"?a={context:v}:(a=ia(f.env)||{},"context"in a||(Tk(a,g,"host"),Tk(a,g,"certPath"),Tk(a,g,"tlsVerify"),Object.keys(a).length||(a=void 0)))}let h=G(G({},await i),Fu(f,a)),m={cliHost:f,dockerCLI:d,dockerComposeCLI:yo({exec:f.exec,env:h,output:t},d,p),dockerComposePath:p,env:h,output:t};return s&&(hl=m),m}var dC;function sz(e){if(dC)return dC;let t=upe(e);return e.subscriptions.push(t),e.subscriptions.push(t.event(()=>{let r=hl==null?void 0:hl.cliHost;hl=void 0,(r==null?void 0:r.terminate)&&r.terminate()})),dC=t.event,dC}function cpe(e){let t=/^ssh-remote\+(.*)$/.exec(e);if(!t)return;let r=t[1];try{let n=JSON.parse(Buffer.from(r,"hex").toString("utf8"));if(n&&n.hostName)return n}catch{}return{hostName:r}}function Tk(e,t,r){let n=t.get(r);n&&(e[r]=n)}var lpe=["remote.containers.dockerPath","remote.containers.executeInWSL","remote.containers.executeInWSLDistro","docker.context","docker.host","docker.certPath","docker.tlsVerify"];function upe(e){let t=new pe.EventEmitter,r=pe.workspace.onDidChangeConfiguration(async c=>{lpe.some(l=>c.affectsConfiguration(l))&&t.fire()}),n,i,o,s=()=>{(async()=>{i||(i=await Fi(void 0,process.cwd(),To,Xi(),e.extensionPath,await Eo(),void 0,St,Ro));let c={cliHost:i,dockerCLI:Qi(),dockerComposeCLI:yo({exec:i.exec,env:{},output:St},Qi(),Ao()),dockerComposePath:Ao(),env:{},output:St},l=await wS(c);l===void 0?o=setTimeout(s,2*60*1e3):(l!==n&&(n!==void 0&&t.fire(),n=l),o=setTimeout(s,2*1e3))})().catch(console.error)};s();let a=t.dispose;return t.dispose=()=>{r.dispose(),o&&clearTimeout(o),a.call(t)},t}async function ml(){let e=pe.workspace.workspaceFolders;if((e==null?void 0:e.length)===1){let t=e[0].uri;return Ak(t)}return null}async function Ak(e){if(e&&e.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(e.authority)){let r=gi(e.authority);if(Dr(r))return null;if(mi(r)&&r.inspectVolume&&r.inspectVolume===!0)return r}return null}function pC(e){return{getConfigurationState:()=>e.get("configurationState"),updateConfigurationState:async t=>e.update("configurationState",t),containerOutdated:fpe}}async function fpe(e){let t="Rebuild",r="Ignore",n=await pe.window.showInformationMessage(`Configuration file(s) changed: ${e.join(", ")}. The container might need to be rebuilt to apply the changes.`,t,r);if(n===t)return pe.commands.executeCommand("remote-containers.rebuildContainer");if(n===r)return"ignore"}async function dpe(e){return e?az():Array.from(new Set([...pe.workspace.getConfiguration().get(ope)||[],...az()]))}function az(){let e=pe.env.language,t=e.indexOf("-"),r=cz(e)||(t!==-1?cz(e.substr(0,t)):void 0);return r?[r]:[]}function cz(e){let t=e.toLowerCase();return pe.extensions.all.filter(r=>{var i;let n=r.packageJSON&&r.packageJSON.contributes;return((i=n==null?void 0:n.localizations)==null?void 0:i.length)?!!n.localizations.find(o=>{var s;return((s=o==null?void 0:o.languageId)==null?void 0:s.toLowerCase())===t}):!1}).map(r=>r.id)[0]}function lz(){return!!pe.workspace.getConfiguration().get("workbench.enableExperiments")}function ppe(){return!!pe.workspace.getConfiguration().get("remote.containers.enableWebAccess")}function hC(){return pe.workspace.getConfiguration().get("remote.containers.workspaceMountConsistency")||"cached"}function mC(){return!!pe.workspace.getConfiguration().get("remote.containers.experimentalUpdateRemoteUserUIDOnMacOS")}function gC(){var e;return(e=pe.workspace.getConfiguration().get("remote.containers.cacheVolume"))!=null?e:!0}function hpe(){let e=pe.workspace.getConfiguration().get("remote.containers.copyGitConfig");return typeof e=="boolean"?e:!0}function mpe(){return pe.workspace.getConfiguration().get("remote.containers.gitCredentialHelperConfigLocation")||"global"}function Qi(){return pe.workspace.getConfiguration().get("remote.containers.dockerPath")||"docker"}function Xi(){return{executeInWSL:Dk(),defaultDistro:Rk()}}function Dk(){return process.platform!=="win32"?"never":pe.workspace.getConfiguration().get("remote.containers.executeInWSL",!1)?"always":"forWSLPath"}function Rk(){if(process.platform==="win32")return pe.workspace.getConfiguration().get("remote.containers.executeInWSLDistro")||void 0}function Ao(){return pe.workspace.getConfiguration().get("remote.containers.dockerComposePath")||"docker-compose"}function vC(){let e=pe.workspace.getConfiguration().get("remote.containers.logLevel")||"debug";return $O(e)}var gpe=e=>pe.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration("remote.containers.logLevel")&&e(vC())});function vpe(){let e=pe.workspace.getConfiguration();return{repository:(e.get("remote.containers.dotfiles.repository","")||e.get("dotfiles.repository","")).trim()||void 0,installCommand:(e.get("remote.containers.dotfiles.installCommand","")||e.get("dotfiles.installCommand","")).trim()||void 0,targetPath:(e.get("remote.containers.dotfiles.targetPath","")||e.get("dotfiles.targetPath","")).trim()||"~/dotfiles"}}function Df(){let e=pe.workspace.getConfiguration();return{executablePath:e.get("remote.SSH.path"),configFilePath:e.get("remote.SSH.configFile")}}function Es(e,t,r,n,i,o,s){var u,f;let a={resolver:t,outcome:r};n&&(a.hostType=n.cliHost.type),i&&(a.configProperties=JSON.stringify(Object.keys(i)),a.configExtensions=JSON.stringify(((f=(u=i.customizations)==null?void 0:u.vscode)==null?void 0:f.extensions)||[]),a.configFeatures=JSON.stringify(Object.keys(i.features||{})),"image"in i?a.configType="image":Wt(i)?a.configType="dockerfile":"dockerComposeFile"in i&&(a.configType="dockerCompose")),o&&(a.hardwareId=o.osRelease.hardware,a.osReleaseId=o.osRelease.id,a.osReleaseVersion=o.osRelease.version);let c=s&&s.originalError,l=c&&(c.stack||c.message||String(c))||s&&s.description;l&&(a.errorMessage=l),e.sendTelemetryEvent("resolver",a)}var uz=class{constructor(t){this.onClose=t;this.writeEmitter=new pe.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.inputEmitter=new pe.EventEmitter;this.onDidInput=this.inputEmitter.event;this.queue=[];this.ready=!1}open(){this.ready=!0,this.queue.forEach(t=>this.writeEmitter.fire(t))}close(){this.ready=!1,this.onClose()}write(t){this.queue.push(t),this.ready&&this.writeEmitter.fire(t)}handleInput(t){this.inputEmitter.fire(t)}},yC=class{constructor(t,r,n=void 0){this.sessionStart=r;this.outputTerminal=new uz(()=>this._terminal=void 0);this.onDidInput=this.outputTerminal.onDidInput;this._name="Dev Containers";this._revealOnNextOutput=!1;let i=o=>{this.outputTerminal.write(o),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=t?lC.join(t,`remoteContainers-${r.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=ype(i,vC,this.logFilePath,r,n),Object.defineProperty(this.log,"dimensions",{get:()=>{var o;return(o=this._terminal)==null?void 0:o.dimensions}}),this.log.onDidChangeDimensions=o=>pe.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&o(s.dimensions)})}get name(){return this._name}set name(t){this._name=t}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(t){this._revealOnNextOutput=t}show(){this._terminal||(this._terminal=pe.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function ype(e,t,r,n,i=void 0){let o=[];return r&&o.push(BO(r,()=>Math.min(he.Debug,t()))),o.push(HO(e,t,n)),Hr(UO(o,i))}async function Ok(e,t){let r=await Un(e,t.Id);if(r&&r.State.Status==="running")try{await Ct(e,"stop",r.Id)}catch(n){pe.window.showErrorMessage(`Error stopping container: ${n.message}`)}}async function wC(e,t){let r=await Un(e,t.Id);if(r&&r.State.Status!=="running")try{await Ct(e,"start",r.Id)}catch(n){pe.window.showErrorMessage(`Error starting container: ${n.message}`)}}async function fz(e,t){try{await Ct(e,"rm",t)}catch(r){pe.window.showErrorMessage(`Error removing container: ${r.message}`)}}async function Nk(e,t){try{await Ct(e,"volume","rm","--force",t)}catch(r){pe.window.showErrorMessage(`Error removing volume: ${r.message}`)}}function wpe(){return pe.env.sessionId!=="someValue.sessionId"?pe.env.sessionId:`${pe.env.sessionId}_${Date.now()}`}function Cpe(e,t){let r=pe.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:t,tildify:!0}});e.shutdowns.push(r.dispose.bind(r))}async function dz(e,t){if(e.globalState.get("removeOnStartup")===t)return await e.globalState.update("removeOnStartup",null),!0;let r=e.workspaceState.get("removeOnStartup",!1);return r&&await e.workspaceState.update("removeOnStartup",null),r}async function pz(e,t){await e.workspaceState.update("removeOnStartup",t)}async function Lk(e,t){await e.globalState.update("removeOnStartup",t)}async function hz(e,t){return e.globalState.get("buildNoCache")===t?(await e.globalState.update("buildNoCache",null),!0):!1}async function Fh(e,t){await e.globalState.update("buildNoCache",t)}async function Mh(e,t,r,n,i){await e.globalState.update("openEditorsOnStartup",{workspaceFolder:t,fileWithError:r==null?void 0:r.toString(),logFile:n,openLog:i})}async function mz(e){var r;let t=e.globalState.get("openEditorsOnStartup");if(t){await e.globalState.update("openEditorsOnStartup",void 0);let n=(r=pe.workspace.workspaceFolders)==null?void 0:r.some(o=>o.uri.fsPath===t.workspaceFolder||o.uri.path===t.workspaceFolder),i=await ml();if(n||i&&i.repositoryPath===t.workspaceFolder&&(n=!0),n){let o=t.fileWithError?Ve.parse(t.fileWithError):void 0;if(t.openLog==="onTheSide"&&await vz(o),t.openLog&&t.logFile){let s={viewColumn:t.openLog==="onTheSide"?pe.ViewColumn.Beside:pe.ViewColumn.One,preserveFocus:!0},a=await pe.window.showTextDocument(pe.Uri.file(t.logFile),s),c=new pe.Position(a.document.lineCount-1,0);a.selection=new pe.Selection(c,c),a.revealRange(a.selection)}return t.openLog!=="onTheSide"&&await vz(o),!0}}return!1}function gz(e){return[`vscode-remote:/workspaces/${e}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${e}/.devcontainer.json`]}async function vz(e){return e?pe.commands.executeCommand("vscode.open",pe.Uri.parse(e.toString()),{viewColumn:pe.ViewColumn.One}):pe.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:pe.ViewColumn.One})}async function Fk(e){if(Yr.results.size)return[...Yr.results.values()].filter(o=>o.config).map(o=>o.config.configFilePath);let t=Do(),r=pe.workspace.workspaceFolders||[],n=await Promise.all(r.map(async o=>{let s=dt(e.path,We(o.uri,e.platform));return await bo(e,s,t)})),i=pe.workspace.workspaceFile;if(i&&i.scheme!=="untitled"){let o=dt(e.path,We(i,e.platform)),s=await bo(e,o,t);s&&n.indexOf(s)===-1&&n.unshift(s)}return n.filter(o=>!!o)}function Do(){return pe.workspace.getConfiguration().get("remote.containers.repositoryConfigurationPaths")||[]}async function bpe(e,t,r="localhost"){await pe.workspace.openTunnel({remoteAddress:{host:r,port:t}})}function yz(e,t){let r=new yC(void 0,t);r.name="Configuring...",r.revealOnNextOutput=!0;let n=!1;r.onDidInput(()=>{n&&(n=!1,r.dispose())});let i,o={enabled:!0,skipNonBlocking:!1,output:tM(r.log,"postCreate",e),onDidInput:r.onDidInput,done:()=>{r.shown&&(r.log.raw("[1mDone. Press any key to close the terminal.[0m"),n=!0),i()},promise:new Promise(s=>i=s)};return{channel:r,postCreate:o}}async function Rf(e){let{authority:t,extensionContext:r,sessionStart:n,progress:i,cliHost:o,env:s,cwd:a,isLocalContainer:c,telemetry:l,output:u,logFilePath:f,allowSystemConfigChange:d,postCreate:p}=e,h=ppe(),m=ge(G({computeExtensionHostEnv:!0},l),{appRoot:pe.env.appRoot,localCacheFolder:await Eo(),extensionPath:r.extensionPath,webConnectionToken:void 0,sessionId:wpe(),sessionStart:n,authority:t,cliHost:o,env:s,cwd:a,isLocalContainer:c,getAdditionalExtensionsToInstall:dpe,isCopyGitConfigEnabled:hpe(),credentialHelperConfigLocation:mpe(),dotfilesConfiguration:vpe(),progress:Spe(i),output:u,logFilePath:f,allowSystemConfigChange:d,defaultUserEnvProbe:"loginInteractiveShell",postCreate:p,getTelemetryLevel:()=>l.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:vC,onDidChangeLogLevel:gpe,loadNativeModule:To,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:g=>Cpe(m,g),openTunnel:bpe,getTunnels:()=>Promise.resolve(pe.workspace.tunnels),onAdoptProcess:pe.window.onDidOpenTerminal,persistedFolder:await FU(o,r.globalStoragePath),alternateDownload:Ro});return m}async function Ro(e,t){let r=await pe.commands.executeCommand("_workbench.downloadResource",pe.Uri.parse(e));if(!r)throw new $e({description:"Downloading the VS Code Server failed. Please try again later."});await $o(r.fsPath,t)}var Of=`[Starting Dev Container (show log)](command:${_i} "Show details in terminal")`,Epe=`[Configuring Dev Container](command:${kk} "Show details in terminal")`,_pe={[Vr.Begin]:"",[Vr.CloningRepository]:"Cloning Repository",[Vr.BuildingImage]:"Building image",[Vr.StartingContainer]:"Starting container",[Vr.InstallingServer]:"Installing server",[Vr.StartingServer]:"Starting server",[Vr.End]:""};function Spe(e){let t=0;return r=>{let n=Vr.End-r,i=(100-t)/(n+1);e.report({message:_pe[r],increment:i}),t+=i}}async function wz(e,t,r){let{name:n,publisher:i,version:o,aiKey:s}=t;if(!s)return MO(t,r);let a=i?`${i}.${n}`:n,c=new ez.default(a,o,s);e.subscriptions.push(c);let l=new Cz(c),u=xpe(r),f=lz()?(0,_a.getExperimentationService)(a,o,u,l,e.globalState):void 0;return{sendTelemetryEvent:l.sendTelemetryEvent.bind(l),isCachedFlightEnabled:async d=>f&&lz()?f.isCachedFlightEnabled(d):!1,product:r,package:t,getTelemetryLevel:()=>c.telemetryLevel}}var Cz=class{constructor(t){this.baseReporter=t;this.sharedProperties={}}sendTelemetryEvent(t,r,n){this.baseReporter.sendTelemetryEvent(t,G(G({},this.sharedProperties),r),n)}setSharedProperty(t,r){this.sharedProperties[t]=r}postEvent(t,r){let n={};for(let[i,o]of r)n[i]=o;this.sendTelemetryEvent(t,n)}};function xpe(e){switch(e.quality){case"stable":return _a.TargetPopulation.Public;case"insider":return _a.TargetPopulation.Insiders;case"exploration":return _a.TargetPopulation.Internal;case void 0:return _a.TargetPopulation.Team;default:return _a.TargetPopulation.Public}}var qh="Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container.",Mk="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function jh(e,t){if((t==null?void 0:t.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-"))||e.globalState.get(Mk))return!0;let r="Got It",n="Learn More",i=await pe.window.showWarningMessage("Cloning a repository in a Dev Container may execute arbitrary code. ",{modal:!0,detail:"Only clone a repository in a Dev Container if you trust its authors."},r,n);return i===r?(await e.globalState.update(Mk,!0),!0):(i===n&&pe.env.openExternal(pe.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var qk="userConfirmedAttachToContainerRequiresTrust";async function Sa(e){if(e.globalState.get(qk))return!0;let t="Got It",r="Learn More",n=await pe.window.showWarningMessage("Attaching to a container may execute arbitrary code.",{modal:!0,detail:"Only attach to a container if you trust its origin."},t,r);return n===t?(await e.globalState.update(qk,!0),!0):(n===r&&pe.env.openExternal(pe.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function bz(e){e.globalState.setKeysForSync([Mk,qk,jk])}function Ez(){let e=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(e)&&(process.env.PATH=`${e}:/usr/local/bin`)}var jk="updatedToPreRelease2",Ppe="2022-01-19T05:14:31.474Z";async function _z(e,t){try{t.quality==="insider"&&t.date&&t.date.localeCompare(Ppe)>=0&&!e.globalState.get(jk,!1)&&(await e.globalState.update(jk,!0),await pe.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(r){console.error(r)}}async function Nf(e,t,r,n,i=!1){try{return VS(e,t,r,vC(),void 0,n,i)}catch{return}}var xt=te(require("vscode")),st=te(require("path")),D9=te(require("fs"));var xs=te(iT()),R9=te(f9());var O9=te(require("util"));var d9=te(require("path"));var Jwe=["png","md","json","txt","map"],Qwe=["node_modules",".git","bin","out","dist",".vscode-test"],Xwe=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],p9={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},h9={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},Zwe=["docker-existing-docker-compose","docker-existing-dockerfile","codespaces-linux"];async function IT(e,t){for(let r of t)if(r.metaData){if(Zwe.indexOf(d9.basename(r.definitionFolder))>-1)continue;let n=0,i=0,o=r.metaData.get("languagesPlatforms");if(o){let s=o.split(",").map(a=>a.trim());if(s[0]==="Any")n+=5;else for(let a of s)if(h9[a]){let c=h9[a];for(let l of c)e.fileTypes.get(l.toLowerCase())&&(n+=10),e.mostPopularFileType===l&&(n+=10)}else if(p9[a]){let c=p9[a],l=!1;for(let u of c)e.configFiles.get(u)&&(l=!0,i+=20);l||(i-=20)}}r.recommendationScore=n+(i<0?-4:i)}}async function m9(e,t){return eCe(e,t.rootFolderPath,Qwe,Jwe)}async function eCe(e,t,r,n){let i=new Map,o=new Map,s=500;function a(p,h,m,g){let v=[];(e.readDirWithTypes||e.readDir)(p).then(b=>{if(m.count>=s)return m.count+=b.length,m.maxReached=!0,g(v);let C=b.length;if(C===0)return g(v);let _=b;m.count+b.length>s&&(m.maxReached=!0,C=s-m.count,_=b.slice(0,C)),m.count+=b.length;for(let P of _){let S=Array.isArray(P)?P[0]:P;(Array.isArray(P)?Promise.resolve((P[1]&cd.File)!=0):e.isFile(e.path.join(p,S))).then(I=>{I?(v.push(S),--C==0&&g(v)):h.indexOf(S)===-1?a(e.path.join(p,S),h,m,A=>{if(v=v.concat(A),--C==0)return g(v)}):--C==0&&g(v)},()=>{if(--C==0)return g(v)})}},()=>g(v))}let c=p=>{i.has(p)?i.set(p,i.get(p)+1):i.set(p,1)},l=p=>{for(let h of Xwe)h.pattern.test(p)&&(o.has(h.tag)?o.set(h.tag,o.get(h.tag)+1):o.set(h.tag,1))},u=p=>{if(p.lastIndexOf(".")>=0){let h=p.split(".").pop();h&&!n.includes(h)&&c(h.toLowerCase())}l(p)},f=p=>[...p.entries()].reduce((h,m)=>m[1]>h[1]?m:h,["",0])[0],d={count:0,maxReached:!1};return new Promise((p,h)=>{a(t,r,d,async m=>{m.forEach(u),p({configFiles:o,fileTypes:i,fileCount:d.count,mostPopularFileType:f(i)})})})}var S0=te(require("path"));var Ra=te(require("vscode"));async function x0(){await Ra.window.showInformationMessage("You need to first save your workspace in a folder containing all its workspace folders.",{modal:!0})}function Oa(e,t){let r=Ra.workspace.fs;return{platform:e,path:e==="win32"?S0.win32:S0.posix,async isFile(n){try{return((await r.stat(Ss(e,t,n))).type&Ra.FileType.File)!=0}catch(i){if((i==null?void 0:i.code)==="FileNotFound")return!1;throw i}},async readFile(n){try{let i=await r.readFile(Ss(e,t,n));return Buffer.from(i)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let o=new Error(`Could not read file: ${n}`);throw o.originalError=i,o.code="ENOENT",o}throw i}},async rename(n,i){try{let o=Ss(e,t,n),s=Ss(e,t,n);await r.rename(o,s)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let s=new Error(`Could not rename  ${n} -> ${i}`);throw s.originalError=o,s.code="ENOENT",s}throw o}},async writeFile(n,i){await r.writeFile(Ss(e,t,n),i)},async readDir(n){return(await r.readDirectory(Ss(e,t,n))).map(o=>o[0])},async readDirWithTypes(n){return r.readDirectory(Ss(e,t,n))},async mkdirp(n){await r.createDirectory(Ss(e,t,n))},async toCommonURI(n){return Ss(e,t,n)}}}function Ss(e,t,r){let n=e==="win32"?"/"+r.replace(/\\/g,"/"):r;return t.with({path:n})}var P0=class{async readDocument(t){try{let r=await Ra.workspace.fs.readFile(t);return Buffer.from(r).toString()}catch{return}}async applyEdits(t,r,n){let i=nr(n,r);await Ra.workspace.fs.writeFile(t,Buffer.from(i))}};var Ie=te(require("vscode"));var Jt=te(require("vscode")),k0=te(require("path"));async function TT(e,t){var i,o;let{fileHost:r}=e,n=await e.findDevContainerFiles();if(n.length){let s=n.length>1?(i=await Jt.window.showQuickPick(n.map(f=>({label:f.scheme==="file"?f.fsPath:f.toString(),uri:f})),{placeHolder:"Select a container configuration file"}))==null?void 0:i.uri:n[0];if(!s)return;let a=r.path.dirname(We(s,r.platform)),c=r.path.basename(a)===".devcontainer"?r.path.dirname(a):a,l=dt(r.path,c),u=await xm(r,l);if(u){let f=ge(G({},u.object),{configFilePath:u.uri}),d=await qo();if("image"in f)return{workspace:l,config:u,imageName:f.image,manifest:await Pm(f.image,d)};if(Wt(f)){let p=((o=f.build)==null?void 0:o.args)||{},h=Xr(r,f),m=await AT(r,h,p);if(m)return G({workspace:l,config:u},m)}if("dockerComposeFile"in f){let p=await br(r,f),h=await t.readDockerComposeConfig(p,void 0),m=await g9(r,p,c,u.uri,f,h);if(m)return G({workspace:l,config:u},m)}return{workspace:l,config:u}}}else{let s="Add Files...";await Jt.window.showInformationMessage("No container configuration file found.",{modal:!0},s)===s&&await Sm(e)}}async function g9(e,t,r,n,i,o){var f;let s=((o==null?void 0:o.services)||{})[i.service]||{},a=I0(e,t,r,s),c=a?ts(e,n,a):void 0,l=c&&await AT(e,c,((f=s.build)==null?void 0:f.args)||{}),u=await qo();if(l)return l;if(typeof s.image=="string")return{imageName:s.image,manifest:await Pm(s.image,u)}}function I0(e,t,r,n){let i=t.length?e.path.dirname(t[0]):r,o=n.build;if(typeof o=="string")return e.path.resolve(i,o,"Dockerfile");if(o&&typeof o=="object"&&typeof o.context=="string"){let s=typeof o.dockerfile=="string"?o.dockerfile:"Dockerfile";return e.path.resolve(i,o.context,s)}}async function AT(e,t,r){let i=await Tr(e).readDocument(t);if(i){let o=(/^\s*FROM\s+(\S+)(\s|$)/m.exec(i)||[])[1]||void 0;if(o){let s=o.replace(/\$\{([^\}]+)\}/,(c,l)=>r[l]||c),a=await qo();return{imageName:s,manifest:await Pm(s,a)}}}}async function v9(e){let t=await TT(e,{readDockerComposeConfig:async(r,n)=>{if(r[0])try{let i=await e.fileHost.readFile(r[0]);return pn(i.toString())}catch(i){e.output.write(it(String(i&&(i.stack||i.message)||i)))}return{}}});t&&await DT(e,t,{})}async function DT(e,t,r){var h;let{fileHost:n}=e,{workspace:i,config:o}=t,s=Jt.window.createQuickPick();s.ignoreFocusOut=!0;let a={fileHost:n,workspace:i,quickPick:s,telemetry:await e.telemetry,output:e.output},c={featureSets:[]},l=await A0(),u=Tc({distFolder:l}),f=await FS(u,a.output);if(!f)return;f=ge(G({},f),{sourceInformation:{type:"local-cache"}}),c.featureSets.push(f),c=await qS(a,o.object,c,async()=>{var m,g;return G({"com.visualstudio.code.devcontainers.id":(m=t.manifest)==null?void 0:m.definitionName,version:(g=t.manifest)==null?void 0:g.definitionVersion},r)});let d=((h=c.featureSets.find(m=>m.sourceInformation.type==="local-cache"))==null?void 0:h.features.filter(m=>m.included))||[];if(!d.length){await Jt.window.showInformationMessage("No container features available for the current base image.",{modal:!0});return}let p=await Em(a,d,d.filter(m=>m.value!==!1));try{if(p){let m=o.text,g=o.text;for(let v of d){let y=p[v.id];if(y!==Pp(v)){let b=["features",v.id];if(y!==!1&&typeof v.value=="object"){let _=os(v);_&&b.push(_)}let C=Ft(g,b,y!==!1?y:void 0,{formattingOptions:{}});g=nr(g,C)}}m!==g&&await Tr(n).applyEdits(o.uri,[{content:g,offset:0,length:o.text.length}],o.text)}}finally{s.dispose()}}async function T0(e,t,r,n){var u,f;if(!_m())return t;let i=t.configText,o=(u=e.existingConfig)==null?void 0:u.object.features;if(!e.replaceExistingConfig&&o){r=ge(G({},r),{features:G(G({},r.features),o)});for(let d in o){let p=Ft(i,["features",d],o[d],{formattingOptions:{}});i=nr(i,p)}}let s=Oa(process.platform,Ve.file(t.configFilePath)),a=await RT(e,s,r,t.basePath,k0.basename(t.definitionFolder)),c=((f=((a==null?void 0:a.featureSets)||[]).find(d=>d.sourceInformation.type==="local-cache"))==null?void 0:f.features.filter(d=>d.included))||[],l=await Em(e,c,c.filter(d=>d.value!==!1),!0);if(!!l){if(l==="back")return n();for(let d of c){let p=l[d.id];if(p!==Pp(d)){let h=["features",d.id];if(p!==!1&&typeof d.value=="object"){let g=os(d);g&&h.push(g)}let m=Ft(i,h,p!==!1?p:void 0,{formattingOptions:{}});i=nr(i,m)}}return ge(G({},t),{configText:i})}}async function RT(e,t,r,n,i){var u;let o;if("image"in r)o=await Pm(r.image,n);else if(Wt(r)){let f=((u=r.build)==null?void 0:u.args)||{},d=Xr(t,r),p=await AT(t,d,f);o=p==null?void 0:p.manifest}else if("dockerComposeFile"in r){let f=await br(t,r);if(f.length&&await t.isFile(f[0])){let d=await t.readFile(f[0]),p=pn(d.toString()),h=await g9(t,f,e.workspace.rootFolderPath,r.configFilePath,r,p);o=h==null?void 0:h.manifest}o=o||i&&await OT(i,k0.join(n,"manifests"))||void 0}let s=await A0(),a=Tc({distFolder:s}),c={featureSets:[]},l=await FS(a,e.output);if(!!l)return l=ge(G({},l),{sourceInformation:{type:"local-cache"}}),c.featureSets.push(l),c=await qS(e,r,c,async()=>({"com.visualstudio.code.devcontainers.id":o==null?void 0:o.definitionName,version:o==null?void 0:o.definitionVersion})),c}var bm={iconPath:new Jt.ThemeIcon("check-all"),tooltip:"Finish"};async function Em(e,t,r,n=!1){if(!t.length)return{};let i={iconPath:new Jt.ThemeIcon("info"),tooltip:"Open Documentation"},o=e.quickPick.onDidTriggerItemButton(l=>{let u=l.item.feature.documentationURL;Jt.env.openExternal(Jt.Uri.parse(u))}),s=await xn(e.quickPick,t.map(l=>({label:l.name,picked:r.indexOf(l)!==-1,buttons:l.documentationURL?[i]:void 0,feature:l})).sort((l,u)=>l.label.localeCompare(u.label)),"Select additional features to install",void 0,!0,n?[Jt.QuickInputButtons.Back,bm]:[bm]);if(o.dispose(),!s)return;if(s.button===Jt.QuickInputButtons.Back)return"back";let a=s.pick.map(l=>l.feature),c={};for(let l of t){let u=a.indexOf(l)!==-1;c[l.id]=u?Pp(l)||Y$(l):!1}return s.button===bm?c:rCe(e,c,a,()=>Em(e,t,a))}function tCe(e){let t=os(e),r=t&&e.options&&e.options[t];return!!r&&r.type==="string"&&("enum"in r||"proposals"in r)}async function rCe(e,t,r,n){let i=r.filter(tCe);return async function o(s,a,c){if(!a.length)return s;let l=a[0],u=l.options[os(l)],f=("enum"in u&&u.enum||"proposals"in u&&u.proposals||[]).map(h=>({label:String(h),value:h,picked:Pp(l)===h})),d=f.length===1?{pick:f[0],button:"ok"}:await xn(e.quickPick,f,u.description||"Select a value",void 0,void 0,[Jt.QuickInputButtons.Back,bm],"proposals"in u);if(!d)return;if(d.button===Jt.QuickInputButtons.Back)return c();let p=ge(G({},s),{[l.id]:d.pick.value});return d.button===bm?s:o(p,a.slice(1),()=>o(s,a,c))}(t,i,n)}var y9="remote.containers.experimentalContainerFeatures";function w9(){return Jt.commands.executeCommand("setContext","experimentalContainerFeatures",_m()),Jt.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration(y9)&&Jt.commands.executeCommand("setContext","experimentalContainerFeatures",_m())})}function _m(){return Jt.workspace.getConfiguration().get(y9,!0)}var NT=te(require("path"));function C9(e){return{provideCompletionItems(t,r,n){let i=yN(t.getText(),t.offsetAt(r)),o=t.getWordRangeAtPosition(r)||new Ie.Range(r,r);if(i.path[0]==="extensions"||i.path[0]==="vscode"&&i.path[1]==="extensions"){let s=gt(t.getText());return s.configFilePath=t.uri,nCe(s,o)}if(_m()&&i.path[0]==="features"){let s=gt(t.getText());s.configFilePath=t.uri;try{return iCe(e,s,i,o)}catch(a){console.error(a)}}return[]}}}function nCe(e,t){var n,i;let r=((e==null?void 0:e.extensions)||[]).concat(((i=(n=e==null?void 0:e.customizations)==null?void 0:n.vscode)==null?void 0:i.extensions)||[]);if(Array.isArray(r)){let o=Ie.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||r.indexOf(s.id)>-1));if(o.length)return o.map(s=>{let a=new Ie.CompletionItem(s.id),c=`"${s.id}"`;return a.kind=Ie.CompletionItemKind.Value,a.insertText=c,a.range=t,a.filterText=c,a})}}async function iCe(e,t,r,n){var o,s;let i=t&&t.features||{};if(typeof i=="object"){if(t.configFilePath.scheme==="vscode-remote"&&e.fileHost.type==="local"){t=ge(G({},t),{configFilePath:t.configFilePath.with({scheme:Zt.scheme,authority:""})});let m=Ie.env.remoteName&&Ie.env.remoteName!=="test"?"linux":process.platform,g=((o=(Ie.workspace.workspaceFolders||[])[0])==null?void 0:o.uri)||Ve.file(process.cwd());e=ge(G({},e),{fileHost:await Oa(m,g)})}let{path:a}=e.fileHost,c=We(t.configFilePath,e.fileHost.platform),l=a.basename(c),u=a.dirname(c),f=dt(a,l===".devcontainer.json"?u:a.dirname(u)),d=await qo(),p=await RT(ge(G({},e),{workspace:f}),e.fileHost,t,d),h=((s=((p==null?void 0:p.featureSets)||[]).find(m=>m.sourceInformation.type==="local-cache"))==null?void 0:s.features.filter(m=>m.included))||[];if(r.path.length===2)if(r.isAtPropertyKey){let m=h.filter(g=>!(g.id in i));if(m.length)return m.map(g=>{let v=new Ie.CompletionItem(g.id),y=`"${g.id}": `;return v.kind=Ie.CompletionItemKind.Property,v.insertText=y,v.range=n,v.filterText=y,v})}else{let m=r.path[1],g=h.find(v=>v.id===m);if(g){let v=os(g),y=v&&(g.options||{})[v]||{type:"boolean",description:"Set to true to install."},b=(y.type==="string"?("enum"in y&&y.enum||"proposals"in y&&y.proposals||[""]).map(C=>`"${C}"`):["true","false"]).map(C=>({label:C,text:C}));return b.push({label:"{}",text:new Ie.SnippetString(`{
	$1
}$0`)}),b.map(({label:C,text:_},P)=>{let S=new Ie.CompletionItem(C);return S.kind=Ie.CompletionItemKind.Value,S.insertText=_,S.range=n,S.sortText=`${P}_${C}`,S})}}else if(r.path.length===3){let m=r.path[1],g=h.find(v=>v.id===m);if(g){let v=g.options||{};if(r.isAtPropertyKey)return Object.keys(v).filter(y=>!(y in(i[m]||{}))).map(y=>{let b=new Ie.CompletionItem(y),C=`"${y}": `;return b.kind=Ie.CompletionItemKind.Property,b.insertText=C,b.range=n,b.filterText=C,b.detail=v[y].description,b});{let y=r.path[2],b=v[y];if(b)return(b.type==="string"?("enum"in b&&b.enum||"proposals"in b&&b.proposals||[""]).map(_=>`"${_}"`):["true","false"]).map((_,P)=>{let S=new Ie.CompletionItem(_),x=_;return S.kind=Ie.CompletionItemKind.Value,S.insertText=x,S.range=n,S.filterText=x,S.sortText=`${P}_${_}`,S})}}}}}async function b9(e){let t=await LT(e);if((t==null?void 0:t.scheme)===Zt.scheme){let r=We(t,e.fileHost.platform);t=await e.fileHost.toCommonURI(r)}t&&await Ie.window.showTextDocument(Ie.Uri.parse(t.toString()))}async function LT(e){let t=await e.findDevContainerFiles();if(!t.length){let n="Add Files...";await Ie.window.showInformationMessage("No container configuration file found.",{modal:!0},n)===n&&await Sm(e)&&(t=await e.findDevContainerFiles())}if(!t.length)return;let r;return t.length===1?r={uri:t[0]}:r=await Ie.window.showQuickPick(t.map(n=>({label:n.scheme==="file"?n.fsPath:n.toString(),uri:n})),{placeHolder:"Select a container configuration file"}),r==null?void 0:r.uri}async function E9(e,t){var n,i,o,s,a,c,l;let r=await LT(e);if(r){let u=Tr(e.fileHost);r.scheme==="file"&&!await zt(r.fsPath)?await ui(Mi,r,[],es):r.scheme==="vscode-remote"&&(u=new P0);let f=await u.readDocument(r);if(f){let d=!/\.?devcontainer\.json/.test(NT.default.posix.basename(r.path)),p=gt(f),h=!d&&(((i=(n=p.customizations)==null?void 0:n.vscode)==null?void 0:i.extensions)||!p.extensions),m=(h?(s=(o=p.customizations)==null?void 0:o.vscode)==null?void 0:s.extensions:p.extensions)||[],g=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if((p.extensions||[]).concat(((c=(a=p.customizations)==null?void 0:a.vscode)==null?void 0:c.extensions)||[]).indexOf(t)===-1){m.push(t);let v;h?((l=p.customizations)==null?void 0:l.vscode)?v=Ft(f,["customizations","vscode","extensions"],m,{formattingOptions:{}}):p.customizations?v=Ft(f,["customizations","vscode"],{extensions:m},{formattingOptions:{}}):v=Ft(f,["customizations"],{vscode:{extensions:m}},{formattingOptions:{}}):v=Ft(f,["extensions"],m,{formattingOptions:{}}),await u.applyEdits(r,v,f),await Ie.window.showInformationMessage(`Extension has been added to the ${g}.`)}else await Ie.window.showInformationMessage(`Extension is already included in the ${g}.`)}}}async function _9(e,t){var s,a;let r=await Ie.commands.executeCommand("remote.tunnel.label",t);if(r===void 0)return;let n=r.label,i=r.port,o=await LT(e);if(o){let c=Tr(e.fileHost);o.scheme==="file"&&!await zt(o.fsPath)?await ui(Mi,o,[],es):o.scheme==="vscode-remote"&&(c=new P0);let l=await c.readDocument(o);if(l){let f=(s=gt(l).portsAttributes)!=null?s:{},d=(a=f[`${i}`])!=null?a:{},p=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if(f&&d&&d.label===n)await Ie.window.showInformationMessage(`Port attributes are already included in the ${p}.`);else{d.label=n,f[`${i}`]=d;let h=Ft(l,["portsAttributes"],f,{formattingOptions:{}});await c.applyEdits(o,h,l),await Ie.window.showInformationMessage(`Port attributes have been added to the ${p}.`)}}}}function S9(e,t){let r=Ie.languages.createDiagnosticCollection("devcontainer");return Ie.window.activeTextEditor&&FT(Ie.window.activeTextEditor.document,r,t.output),e.subscriptions.push(Ie.workspace.onDidChangeTextDocument(n=>{n&&FT(n.document,r,t.output)})),e.subscriptions.push(Ie.workspace.onDidOpenTextDocument(n=>{n&&FT(n,r,t.output)})),r.dispose}function FT(e,t,r){let n=NT.default.basename(e.uri.fsPath);if(/\.?devcontainer\.json/.test(n)){let i=Xg(e.getText());if(!i)return;let o=Zg(i)||{},s=[...sCe(e,o,r),...aCe(i,e)];t.set(e.uri,s)}}function oCe(e,t){let r=new RegExp("^[a-zA-Z0-9_-]*$");if(!e)return{type:void 0,tooltip:"Empty feature id"};if(!e.includes("/")&&!e.includes("\\")&&r.test(e))return{type:"local-cache",isLegacy:!0,level:Ie.DiagnosticSeverity.Warning};if(e.startsWith("http://"))return{type:void 0,tooltip:"Direct tarball references must be served over HTTPS.",level:Ie.DiagnosticSeverity.Error};if(e.startsWith("https://"))try{return Ie.Uri.parse(e,!0).scheme==="https"?{type:"direct-tarball",level:void 0}:{type:void 0,level:Ie.DiagnosticSeverity.Error,tooltip:"Failed to parse scheme of URI"}}catch{return{type:void 0,level:Ie.DiagnosticSeverity.Error,tooltip:"Invalid URI"}}if(e.startsWith("/"))return{type:void 0,tooltip:"Absolute file paths are not allowed.  Local file path must be indicated relative to the devcontainer.json.",level:Ie.DiagnosticSeverity.Error};if(e.startsWith("./")||e.startsWith("../"))return{type:"file-path"};if(e.split("/").length===3&&e.length>=5&&!e.includes("."))return new RegExp("^[a-zA-Z0-9_/@-]*$").test(e)?{type:"github-repo",isLegacy:!0,level:Ie.DiagnosticSeverity.Warning}:{type:void 0,tooltip:"GitHub release feature id contains invalid characters",level:Ie.DiagnosticSeverity.Error};let i=e.split("/");return e.includes(".")&&i.length>1&&i[1].length>=1?new RegExp("^[a-zA-Z0-9_/:.-]*$").test(e)?{type:"oci"}:{type:void 0,level:Ie.DiagnosticSeverity.Error,tooltip:"OCI Feature id contains invalid characters"}:{type:void 0,level:Ie.DiagnosticSeverity.Error,tooltip:"Failed to parse feature identifier."}}function sCe(e,t,r){let n=t==null?void 0:t.features;if(!n)return[];let i=[];return Object.keys(n).forEach(o=>{var a;let s=oCe(o,r);for(let c=0;c<e.lineCount;c++){let l=e.lineAt(c);if(l.text.includes(`"${o}"`)){let u=l.text.indexOf(o),f=u+o.length;if(s.hint){let p={message:s.hint,severity:Ie.DiagnosticSeverity.Hint,range:new Ie.Range(new Ie.Position(c,u),new Ie.Position(c,f))};i.push(p)}if(s.level!==void 0){let d=(a=s.tooltip)!=null?a:"",p=s.level,h={message:d,severity:p,range:new Ie.Range(new Ie.Position(c,u),new Ie.Position(c,f)),code:{target:Ie.Uri.parse("https://containers.dev/implementors/features/#referencing-a-feature"),value:"referencing-a-feature"}};i.push(h)}break}}}),i}function aCe(e,t){return["extensions","settings","devPort"].filter(r=>Vs(e,[r])&&Vs(e,["vscode",r])).map(r=>{var s,a;let n=(((a=(s=Vs(e,[r]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],i=t.positionAt(n.offset),o=t.positionAt(n.offset+n.length);return{message:`Legacy "${r}" property when "${r}" property under "vscode" is also present.`,range:new Ie.Range(i,o),severity:Ie.DiagnosticSeverity.Warning}})}var Mr=te(require("vscode")),x9=te(require("os")),yr=te(require("path"));var P9=te(Ql()),Jf=te(iT());var k9=te(require("fs")),MT={"user-agent":"devcontainer"};async function I9(e){let{fileHost:t,output:r}=e;r.write(" -- CREATEDEVCONTAINER v2");let n=await qT();if(n){let i=We(n,t.platform),o=dt(t.path,i),s=await nu(t,o);if(s){let c="Continue";if(await Mr.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},c)!==c)return!1}let a=await cCe(e,o);if(a){let c=await t.toCommonURI(a);return c&&Mr.window.showTextDocument(Mr.Uri.parse(c.toString())),!0}}return!1}async function cCe(e,t){let{fileHost:r,telemetry:n,output:i}=e,o=await n,s=await xm(r,t),c=!!ea(s==null?void 0:s.object)&&!!s;if(c){on(o,"exists");let _=We(s.uri,r.platform);if(!await Mr.window.showWarningMessage(`Dev Container configuration '${r.path.relative(t.configFolderPath,_)}' file already exists.`,{modal:!0},"Continue")){let S=await r.toCommonURI(_);S&&Mr.window.showTextDocument(Mr.Uri.parse(S.toString()));return}}let l=Mr.window.createQuickPick();l.ignoreFocusOut=!0;let u=new Set,f="remote.containers.additionalDefinitionIndexes",d=Mr.workspace.getConfiguration().get(f)||[];d.length===0?i.write("No additional indexes provided via setting"):(i.write(`${d.length} additional indexes provided via setting.`),d.forEach(_=>u.add(_)));let p=Mr.workspace.getConfiguration().get("remote.containers.useEmbeddedV1PackagedCache")||!1,h=x9.tmpdir(),m=yr.join(h,"collectionsMetadataCache.json"),g=ge(G({},e),{quickPick:l,replaceExistingConfig:c,existingConfig:s,telemetry:o,workspace:t,codespaces:!!e.codespaces,indexes:u,tmpDir:h,collectionsMetadataCache:m,useEmbeddedV1PackagedCache:p}),v=await T9(g,{});if(!v){i.write("Failed to get definitions",he.Error);return}let{mergedDefinitions:y,cachedAt:b,collectionsContainer:C}=v;return y.sort((_,P)=>{let S=_==null?void 0:_.categories.some(I=>I==="Core"),x=P==null?void 0:P.categories.some(I=>I==="Core");return S&&x?0:S?-1:1}),D0(g,y,b,C)}async function D0(e,t,r,n){var p;let{output:i,quickPick:o,fileHost:s,useEmbeddedV1PackagedCache:a}=e,c=[{iconPath:new Mr.ThemeIcon("cloud-download"),tooltip:"Clear definitions cache and refetch.",action:"clear-cache"}],l=await xn(o,t,`Select a container configuration definition (last cached ${r})`,void 0,void 0,c);if(!l)return;let u=l==null?void 0:l.pick,f=u==null?void 0:u.type,d=l==null?void 0:l.button;if(d!=="ok"&&d.action==="clear-cache"){i.write("Refresh Cache!");let h=await T9(e,{clearCache:!0});if(!h){o.dispose();return}return D0(e,h.mergedDefinitions,h.cachedAt,h.collectionsContainer)}if(f==="singleContainer"||f==="dockerCompose"){let h=await dCe(e,{},u);if(h==="back")return D0(e,t,r,n);(!h||Object.keys(h).length===0)&&i.write("No options returned",he.Trace);let m,g=u.srcInfo;if(g){let v=(p=n.collections.find(y=>Ey(y.sourceInformation)===Ey(g)&&y.features))==null?void 0:p.features;if(v){let y=v.map(b=>ge(G({},b),{value:!1}));m=await Em(e,v,y,!0)}}else i.write("No srcInfo for selected definition.  Not offering features.",he.Warning);if(m==="back")return D0(e,t,r,n);o.busy=!0,o.enabled=!1;try{let v;if(i.write(`useEmbeddedV1PackagedCache is ${a}`),a)v=await uCe(e,u);else{let S=await yCe(e,u);if(!S){i.write("Failed to fetch definition",he.Error),o.dispose();return}v=await lCe(e,S)}if(!v){i.write("Failed during configuration copy",he.Error),o.dispose();return}let{devcontainerjsonPath:y,config:b,configText:C}=v,_=await fCe(e,h,b,C);if(!_){i.write("Failed during application of options",he.Error),o.dispose();return}C=_.configText;let P=await pCe(e,m,C);if(!P){i.write("Failed during application of features",he.Error),o.dispose();return}return C=P.configText,await s.writeFile(y,Buffer.from(C)),y}finally{o&&o.dispose()}}i.write("Undefined behavior in definition selection UX",he.Error),o.dispose()}async function lCe(e,t){let{workspace:r,fileHost:n,output:i}=e,{rootFolderPath:o}=r;await ks(o,{recursive:!0,force:!0}),await n.mkdirp(o),await P9.x({file:t,cwd:o});let s=yr.join(o,".devcontainer","devcontainer.json");if(!await n.isFile(s)){i.write(`No devcontainer.json found at expected path:  ${s}`),e.quickPick.dispose();return}let a=(await n.readFile(s)).toString(),c=gt(a),l=JSON.stringify(c,void 0,4);if(c.configFilePath=Ve.parse(s),!a||a===""||!c){i.write("devcontainer.json has no contents or could not be parsed.",he.Error),e.quickPick.dispose();return}return{rootFolderPath:o,devcontainerjsonPath:s,config:c,configText:l}}async function uCe(e,t){let{workspace:r,fileHost:n,output:i}=e,{rootFolderPath:o}=r;await ks(o,{recursive:!0,force:!0}),await n.mkdirp(yr.join(o,".devcontainer"));let s=yr.join(await qo(),"containers",t.id),a=(await R0(s)).map(d=>yr.relative(s,d));for(let d of a){let p=yr.join(s,d),h=n.path.sep!==yr.sep?d.replace(yr.sep===yr.win32.sep?/\\/g:/\//g,n.path.sep):d,m=n.path.join(o,h);await n.mkdirp(yr.dirname(m)),(0,k9.copyFileSync)(p,m)}let c=yr.join(o,".devcontainer","devcontainer.json"),l=(await n.readFile(c)).toString(),u=gt(l),f=JSON.stringify(u,void 0,4);if(u.configFilePath=Ve.parse(c),!l||l===""||!u){i.write("devcontainer.json has no contents or could not be parsed.",he.Error),e.quickPick.dispose();return}return{rootFolderPath:o,devcontainerjsonPath:c,config:u,configText:f}}async function fCe(e,t,r,n){var a;let{output:i,fileHost:o}=e;if(!t||Object.keys(t).length===0)return{configText:n};if(!r)return;i.write("Applying selected options to devcontainer.json");let s=Object.keys(t);if(Wt(r)){let c=((a=r.build)==null?void 0:a.args)||{};s.forEach(l=>{let u=t[l];if(!u)return;let f=c[l];if(u!==f){let d=Ft(n,["build","args",l],u,{formattingOptions:{}});n=nr(n,d)}})}else if("dockerComposeFile"in r){let c=await br(o,r);if(c.length&&await o.isFile(c[0])){let l=(await o.readFile(c[0])).toString(),u;s.forEach(f=>{let d=t[f];if(!d)return;u||(u=Jf.parseDocument(l,{lineCounter:new Jf.LineCounter}));let p=u.getIn(["services","app","build"]);p.has("args")||p.set("args",new Jf.YAMLMap),p.get("args").set(f,String(d))}),u&&await o.writeFile(c[0],Buffer.from(u.toString()))}}return{configText:n}}async function dCe(e,t,r){if(!r.options)return;let n=r.options,i=Object.keys(n),o=i.length;if(!!i.length)return async function s(a,c,l){if(!c.length)return a;let u=c[0],f=n[u],d=("enum"in f&&f.enum||"proposals"in f&&f.proposals||[]).map(m=>({label:String(m),value:m})),p=d.length===1?{pick:d[0],button:"ok",picked:void 0}:await xn(e.quickPick,d,(f==null?void 0:f.description)||"Select a value",void 0,void 0,[Mr.QuickInputButtons.Back]);if(!p)return;if(p.button===Mr.QuickInputButtons.Back)return c.length===o?"back":l();let h=ge(G({},a),{[u]:p.pick.value});return s(h,c.slice(1),()=>s(a,c,l))}(t,i,async()=>{})}async function pCe(e,t,r){let{output:n}=e;if(!t||!r){n.write("No features selected or no devcontainer.json to apply features to.",he.Warning);return}let i=r,o=Object.keys(t);for(let s of o){let a=t[s],c=["features",s];if(a!==!1){let l=Ft(i,c,a,{formattingOptions:{}});i=nr(i,l)}}return{configText:i}}async function T9(e,{clearCache:t=!1}){let{output:r,collectionsMetadataCache:n,fileHost:i,useEmbeddedV1PackagedCache:o}=e;r.write("--- In getDefinitions_v2");let s;!t&&n&&await i.isFile(n)?s=gt((await i.readFile(n)).toString()):o?s=await mCe(e):s=await hCe(e);let a=s==null?void 0:s.collections,c=s==null?void 0:s.cachedAt;if(!s||!a||!c||a.length===0){r.write("Failed to gather definition collections metadata",he.Error);return}let l=[];for(let u of a){let f=u.sourceInformation,d=f?NS(f)+"/":"";for(let p of u.definitions)l.push(ge(G({},p),{srcInfo:f,label:(p==null?void 0:p.displayName)||p.id||"ERR: No id",description:`${d}${p.id}`,detail:(p==null?void 0:p.description)||"No Description"}))}return{mergedDefinitions:l,cachedAt:c,collectionsContainer:s}}async function hCe(e){let{output:t}=e;t.write("Populating collection(s) cache from internet...");let r=await gCe(e);if(!r){t.write("Failed to fetch collection names from indexes",he.Error);return}return await vCe(e,r)}async function mCe(e){let{output:t,fileHost:r}=e;t.write("Populating collection(s) cache from from embedded package...");let n=[],i=yr.join(await qo(),"devcontainer-collection.json");if(!await r.isFile(i)){t.write("Embedded package does not contain devcontainer-collection.json",he.Error);return}let o=gt((await r.readFile(i)).toString()),s={type:"local-cache"};return o.sourceInformation=s,n.push(o),await A9(e,n)}async function A9(e,t){let{output:r,tmpDir:n,collectionsMetadataCache:i,fileHost:o}=e,s={collections:t,cachedAt:"never"};if(s.cachedAt=new Date().toISOString(),r.write(`Fetched ${t.length} collections.`),r.write(`Cached at: ${s.cachedAt}`),i&&n){r.write(`Caching collection metadata to ${e.collectionsMetadataCache}`);let a=yr.join(n,`metadata-tmp-${new Date().getMilliseconds()}`);await o.writeFile(a,Buffer.from(JSON.stringify(s))),await o.rename(a,i)}else r.write("Did not write collection to cache. Needs cache directory and path to cache to.",he.Warning);return s}async function gCe(e){let{indexes:t,output:r}=e;if(!t)return;let n=new Set;for await(let i of t){let o={type:"GET",url:i,headers:MT},s;try{s=await xp(o,r)}catch(c){r.write(`Failed to fetch index ${i} - ${c==null?void 0:c.message}`,he.Error);continue}if(!s||s.length===0){r.write(`Did not receive a valid response from index defined at: ${i}`,he.Error);continue}s.toString().split(`
`).filter(c=>c&&c.trim()!=="").forEach(c=>{n.add(c)})}if(n.add("https://github.com/microsoft/vscode-dev-containers/releases/latest/download/devcontainer-collection.json"),n.size===0){r.write("No collections set. Exiting.",he.Warning);return}return n}async function vCe(e,t){let{output:r,tmpDir:n,collectionsMetadataCache:i}=e;if(!n||!i){r.write("Missing required metadata",he.Error);return}let o=[];for await(let s of t){let a={type:"GET",url:s,headers:MT},c;try{c=await xp(a,r)}catch(f){r.write(`Failed to fetch collection ${s} - ${f==null?void 0:f.message}`,he.Error);continue}if(!c||c.length===0){r.write(`Did not receive a valid response from collection defined at: ${s}`,he.Error);continue}let l=gt(c.toString()),u=LS(l.sourceInformation);l.sourceInformation=u,o.push(l)}if(o.length===0){r.write("No collections set. Exiting.",he.Warning);return}return await A9(e,o)}async function yCe(e,t){let{output:r,tmpDir:n,fileHost:i}=e;if(!n||n===""){r.write("ERR: No tmpDir defined.",he.Error);return}let o=`devcontainer-definition-${t.id}`;if(!t.srcInfo){r.write(`ERR: No srcInfo defined for definition ${t.id}`,he.Error);return}let s=`https://github.com/${NS(t.srcInfo)}/releases/latest/download/${o}.tgz`,a={type:"GET",url:s,headers:MT},c;try{c=await xp(a,r)}catch(u){r.write(`Failed to fetch definition ${s} - ${u==null?void 0:u.message}`,he.Error);return}if(!c||c.length===0){r.write(`Did not receive a valid response from definition defined at: ${s}`,he.Error);return}let l=yr.join(n,`${o}-${new Date().getMilliseconds()}.tgz`);return await i.writeFile(l,c),l}async function N9(e,t){return S9(e,t),{async openConfiguration(){return b9(t)},async createConfiguration(){return xt.workspace.getConfiguration().get("remote.containers.experimentalAddDefinitionUX")||!1?I9(t):Sm(t)},async addExtensionToConfiguration(r){return E9(t,r)},async addPortLabelToConfiguration(r){return _9(t,r)},async configureContainerFeatures(){return v9(t)},createCompletionItemProvider(){return C9(t)}}}async function Sm(e){let{fileHost:t,output:r}=e;r.write(" -- CREATEDEVCONTAINER v1");let n=await qT();if(n){let i=We(n,t.platform),o=dt(t.path,i),s=await nu(t,o);if(s){let c="Continue";if(await xt.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},c)!==c)return!1}let a=await km(e,o);if(a){let c=await t.toCommonURI(a);return c&&xt.window.showTextDocument(xt.Uri.parse(c.toString())),!0}}return!1}async function qT(){let e=xt.workspace.workspaceFile,t=xt.workspace.workspaceFolders,r;if(e){if(e.scheme==="untitled"){await x0();return}r=e}else if(t&&t.length)if(t.length>1){let n=await xt.window.showWorkspaceFolderPick({placeHolder:"Select a folder to create a container configuration for"});n&&(r=n.uri)}else r=t[0].uri;return r}function xn(e,t,r,n,i,o,s){if(e.value="",e.title=n||"Add Development Container Configuration Files",e.placeholder=r,e.canSelectMany=!!i,Array.isArray(t))if(e.items=t,i)e.selectedItems=t.filter(l=>l.picked);else{let l=t.find(u=>u.picked);l&&(e.activeItems=[l])}e.buttons=o?Array.isArray(o)?o:[xt.QuickInputButtons.Back]:[];let a=[],c=new Promise((l,u)=>{if(Array.isArray(t)||(e.busy=!0,t.then(f=>{if(e.busy=!1,e.items=f,i)e.selectedItems=f.filter(d=>d.picked);else{let d=f.find(p=>p.picked);d&&(e.activeItems=[d])}},f=>{e.busy=!1,u(f)})),a.push(e.onDidAccept(()=>{let f=i?e.selectedItems.slice():e.selectedItems[0];l(Array.isArray(o)?{pick:f,button:"ok"}:f),a.forEach(d=>d.dispose())})),e.buttons.length&&a.push(e.onDidTriggerButton(f=>{let d=i?e.selectedItems.slice():e.activeItems[0];l(o===!0?"back":{pick:d,button:f}),a.forEach(p=>p.dispose())})),a.push(e.onDidHide(()=>{a.forEach(f=>f.dispose()),e.dispose(),l(void 0)})),s){let f;a.push(e.onDidChangeValue(d=>{let p=d.trim().toLowerCase(),h=!p||e.items.find(m=>m.label.toLowerCase()===p);if(h&&f)e.items=e.items.filter(m=>m!==f),f=void 0;else if(!h){let m=e.items.filter(g=>g!==f);m.push(f={label:`Other: ${d}`,value:d}),e.items=m}}))}});return e.show(),c}var jT={label:"Learn More",description:"Documentation on predefined container definitions",alwaysShow:!0,type:"help"};async function km(e,t){let{fileHost:r,telemetry:n}=e,i=await n,o=await xm(r,t),a=!!ea(o==null?void 0:o.object)&&!!o;if(a){on(i,"exists");let l=We(o.uri,r.platform);if(!await xt.window.showWarningMessage(`Dev Container configuration '${r.path.relative(t.configFolderPath,l)}' file already exists.`,{modal:!0},"Continue")){let f=await r.toCommonURI(l);f&&xt.window.showTextDocument(xt.Uri.parse(f.toString()));return}}let c=xt.window.createQuickPick();return c.ignoreFocusOut=!0,$T(ge(G({},e),{quickPick:c,replaceExistingConfig:a,existingConfig:o,telemetry:i,workspace:t,codespaces:!!e.codespaces,tmpDir:void 0,indexes:void 0,collectionsMetadataCache:void 0,useEmbeddedV1PackagedCache:void 0}))}async function O0(){return await kCe(void 0)}async function $T(e){let{fileHost:t,workspace:r,telemetry:n,existingFilesLearnMoreLink:i}=e,o=await t.readDir(r.rootFolderPath),s=o.filter(p=>/docker.*compose/i.test(p)).map(p=>t.path.join(r.rootFolderPath,p)),a=o.filter(p=>/dockerfile/i.test(p)).map(p=>t.path.join(r.rootFolderPath,p)),c=a.map(p=>{let h=t.path.basename(p);return{label:`From '${h}'`,description:H9(t,p),dockerfile:h,dockerfilePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerfile"}}),l=s.map(p=>{let h=t.path.basename(p);return{label:`From '${h}'`,description:H9(t,p),dockerComposeFile:h,dockerComposePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerComposeFile"}});if(!(a.length>0||s.length>0))return N0(e,void 0);let f={label:"From a predefined container configuration definition...",detail:"Use a base configuration from the container definition registry",alwaysShow:!0,type:"predefined"},d=await xn(e.quickPick,[f,...c,...l,...i?[jT]:[]],"How would you like to create your container configuration?");if(!d){on(n,"canceled");return}if(d.type==="help"){on(n,"help"),xt.env.openExternal(i);return}if(d.type==="predefined")return N0(e,()=>$T(e));if(d.type==="dockerComposeFile")return SCe(e,d.dockerComposePath,()=>$T(e));if(d.type==="dockerfile")return _Ce(e,d.dockerfilePath)}function L9(e){let t=e.metaData.get("categories");return t?t.trim().split(", ").indexOf("Core")>-1:!1}async function wCe(e){let{fileHost:t,workspace:r,predefinedDefinitionsLearnMoreLink:n}=e,i=e.stats||(e.stats=await m9(t,r)),o=await z9(e,IT.bind(null,i)),s=[];i.mostPopularFileType.length===0?s=await PCe(e):s=o.filter(c=>c.recommendationScore&&c.recommendationScore>0&&L9(c));let a;return s.length>0?a=[{label:"Show All Definitions...",detail:"Show all available predefined container definitions.",alwaysShow:!0,type:"showAll"},...n?[jT]:[],...s]:a=[...n?[jT]:[],...o],{items:a,stats:i}}async function N0(e,t){let{telemetry:r,predefinedDefinitionsLearnMoreLink:n}=e,i=wCe(e),{infoButton:o,sub:s}=M9(e),a=i.then(l=>l.items.map(u=>u.type==="baseConfiguration"?ge(G({},u),{buttons:[o]}):u)),c=await xn(e.quickPick,a,"Select a container configuration definition",void 0,void 0,!!t);if(s.dispose(),c==="back")return t();if(!c){on(r,"canceled");return}if(c.type==="help"){on(r,"help"),xt.env.openExternal(n);return}if(c.type==="showAll")return F9(e,(await i).stats,()=>N0(e,t));if(c.type==="baseConfiguration")return q9(e,c,()=>N0(e,t))}async function F9(e,t,r){let{telemetry:n}=e,i=await z9(e,IT.bind(null,t)),{infoButton:o,sub:s}=M9(e),a=i.map(l=>l.type==="baseConfiguration"?ge(G({},l),{buttons:[o]}):l),c=await xn(e.quickPick,a,"Select a container configuration definition",void 0,void 0,!0);if(s.dispose(),c==="back")return r();if(c&&c.type==="baseConfiguration")return q9(e,c,()=>F9(e,t,r));on(n,"canceled")}function M9(e){let t={iconPath:new xt.ThemeIcon("info"),tooltip:"Open Documentation"},r=e.quickPick.onDidTriggerItemButton(n=>{let i=`https://github.com/microsoft/vscode-dev-containers/blob/main/containers/${st.basename(n.item.definitionFolder)}/README.md`;xt.env.openExternal(xt.Uri.parse(i))});return{infoButton:t,sub:r}}async function q9(e,t,r){let{telemetry:n}=e,i=await CCe(e,t);if(!i){on(n,"canceled");return}return i==="back"?r():(on(n,"definition",st.basename(i.definitionFolder)),UT(e,i))}async function UT(e,t){let{quickPick:r}=e;r.busy=!0,r.enabled=!1;try{return await DCe(e,t)}finally{r.hide()}}async function CCe(e,t){let r=gt(t.configText);if(r.configFilePath=Ve.file(t.configFilePath),Wt(r))return bCe(e,t,r,async()=>"back",(n,i)=>j9(e,n,r,i));if("dockerComposeFile"in r){let n=Oa(process.platform,Ve.file(t.configFilePath));return ECe(e,t,n,r,async()=>"back",(i,o)=>$9(e,i,n,r,o))}return T0(e,t,r,async()=>"back")}async function bCe(e,t,r,n,i){var c;let o=Xr({platform:process.platform},r),s=((c=r.build)==null?void 0:c.args)||{},a=await U9(o,s);return async function l(u,f,d){if(!f.length)return i(ge(G({},t),{configText:u}),d);let p=f[0],h=await xn(e.quickPick,p.items,p.placeholder,void 0,void 0,!0);if(!h)return;if(h==="back")return d();let m=u;if(h.value!==p.default){let g=Ft(m,["build","args",p.name],h.value,{formattingOptions:{}});m=nr(m,g)}return l(m,f.slice(1),()=>l(u,f,d))}(t.configText,a,n)}async function j9(e,t,r,n){var u;let i=Xr({platform:process.platform},r),o=((u=r.build)==null?void 0:u.args)||{},{options:s,hasOptions:a}=await B9(i,o),c=s.length?await xn(e.quickPick,s,a?`Select the options for the '${t.label}' dev container`:`Select the install options for the '${t.label}' dev container`,void 0,!0,!0):[];if(!c)return;if(c==="back")return n();let l=t.configText;for(let f of s){let d=c.indexOf(f)!==-1;if(d!==f.default){let p=Ft(l,["build","args",f.name],String(d),{formattingOptions:{}});l=nr(l,p)}}return T0(e,ge(G({},t),{configText:l}),r,s.length?()=>j9(e,t,r,n):n)}async function ECe(e,t,r,n,i,o){var a;let s=await br(r,n);if(s.length&&await r.isFile(s[0])){let c=t.files||{},l=c[s[0]]||(await r.readFile(s[0])).toString(),u=pn(l),f=((u==null?void 0:u.services)||{})[n.service]||{},d=e.workspace.rootFolderPath,p=I0(r,s,d,f);if(p){let h=n.configFilePath,m=ts(r,h,p),g=((a=f.build)==null?void 0:a.args)||{},v=await U9(m,g),y;return async function b(C,_){if(!C.length)return y&&(c[s[0]]=y.toString()),o(ge(G({},t),{files:c}),_);let P=C[0],S=await xn(e.quickPick,P.items,P.placeholder,void 0,void 0,!0);if(!!S){if(S==="back")return _();if(S.value!==P.default){y||(y=xs.parseDocument(l,{lineCounter:new xs.LineCounter}));let x=y.getIn(["services","app","build"]);x.has("args")||x.set("args",new xs.YAMLMap),x.get("args").set(P.name,S.value)}return b(C.slice(1),()=>b(C,_))}}(v,i)}}return o(t,i)}async function $9(e,t,r,n,i){var c;let o=!1,s=t.files||{},a=await br(r,n);if(a.length&&await r.isFile(a[0])){let l=s[a[0]]||(await r.readFile(a[0])).toString(),u=pn(l),f=((u==null?void 0:u.services)||{})[n.service]||{},d=e.workspace.rootFolderPath,p=I0(r,a,d,f);if(p){let h=n.configFilePath,m=ts(r,h,p),g=((c=f.build)==null?void 0:c.args)||{},{options:v,hasOptions:y}=await B9(m,g);o=!!v.length;let b=v.length?await xn(e.quickPick,v,y?`Select the options for the '${t.label}' dev container`:`Select the install options for the '${t.label}' dev container`,void 0,!0,!0):[];if(!b)return;if(b==="back")return i();let C;for(let _ of v){let P=b.indexOf(_)!==-1;if(P!==_.default){C||(C=xs.parseDocument(l,{lineCounter:new xs.LineCounter}));let S=C.getIn(["services","app","build"]);S.has("args")||S.set("args",new xs.YAMLMap),S.get("args").set(_.name,String(P))}}C&&(s[a[0]]=C.toString())}}return T0(e,ge(G({},t),{files:s}),n,o?()=>$9(e,t,r,n,i):i)}async function U9(e,t){let r=(await tt(e.fsPath)).toString(),n=/^#\s*\[Choice\]\s*([^:\r\n]+):(.*)\r?\nARG\s+([^=\s]+)="?([^"\r\n]*)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);return o.map(([,s,a,c,l])=>{let u=t[c]||l,f=a.trim().split(",").map(p=>p.trim()).map(p=>({label:p,description:p===u?"(default)":void 0,value:p})),d=f.findIndex(p=>p.value===u);return d!==-1&&f.unshift(...f.splice(d,1)),{placeholder:s||c,name:c,default:u,items:f}})}async function B9(e,t){let r=(await tt(e.fsPath)).toString(),n=/^#\s*\[(Option|Install)\]\s*(.+)\r?\nARG\s+([^=\s]+)="?(true|false)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);let s=o.map(([,c,l,u,f])=>{let p=(t[u]||f)==="true";return{type:c.toLowerCase(),label:l||u,picked:p,name:u,default:p}}),a=s.some(c=>c.type==="option");return a&&s.filter(c=>c.type==="install").forEach(c=>c.label=`Install ${c.label}`),{options:s,hasOptions:a}}function H9(e,t){let r=xt.workspace.workspaceFolders||[];if(r.length<2)return;let n=r.find(i=>e.platform==="win32"?t.toLowerCase().startsWith(i.uri.fsPath.toLowerCase()):t.startsWith(i.uri.fsPath));return n&&n.name}async function _Ce(e,t){let{fileHost:r,workspace:n,telemetry:i}=e,s=(await O0()).find(a=>st.basename(a.definitionFolder)==="docker-existing-dockerfile");if(s){let a=st.relative(s.definitionFolder,s.configFilePath),c=r.path.sep!==st.sep?a.replace(st.sep===st.win32.sep?/\\/g:/\//g,r.path.sep):a,l=r.path.resolve(n.configFolderPath,c),u=r.path.relative(r.path.dirname(l),t),f=r.platform==="win32"?u.replace(/\\/g,"/"):u,d="dockerFile"in gt(s.configText)?["dockerFile"]:["build","dockerfile"],p=Ft(s.configText,d,f,{formattingOptions:{}}),h=nr(s.configText,p);return on(i,"dockerFile"),UT(e,ge(G({},s),{configText:h}))}else{on(i,"existingDockerfileDefinitionNotFound");return}}async function SCe(e,t,r){let{fileHost:n,workspace:i,telemetry:o}=e,s=(await n.readFile(t)).toString(),a=pn(s);if(!a){await xt.window.showErrorMessage(`Invalid docker-compose file "${t}"`,{modal:!0});return}let c=a.version,l=Object.keys(a&&a.services||{}),u=l.length<2?l[0]||"":await xn(e.quickPick,l.map(h=>({label:h,type:"service"})),"Select a service",void 0,void 0,!0);if(u==="back")return r();if(u===void 0){on(o,"canceled");return}let f=typeof u=="string"?u:u.label,p=(await O0()).find(h=>st.basename(h.definitionFolder)==="docker-existing-docker-compose");if(p){let h=st.relative(p.definitionFolder,p.configFilePath),m=n.path.sep!==st.sep?h.replace(st.sep===st.win32.sep?/\\/g:/\//g,n.path.sep):h,g=n.path.resolve(i.configFolderPath,m),v=n.path.relative(n.path.dirname(g),t),y=n.platform==="win32"?v.replace(/\\/g,"/"):v,b=gt(p.configText).dockerComposeFile,C=Array.isArray(b)?b.slice(1):[],_=[y,...C],P=Ft(p.configText,["dockerComposeFile"],_,{formattingOptions:{}}),S=nr(p.configText,P),x=Ft(S,["service"],f,{formattingOptions:{}}),I=nr(S,x),A=C.reduce((q,J)=>(q[_c({platform:process.platform},{configFilePath:Ve.file(p.configFilePath)},J).fsPath]=!0,q),{}),O=ge(G({},p),{configText:I,async copyFile(q,J){if(A[q]){let K=this.files&&this.files[q]||(await tt(q)).toString(),ee=pn(K);ee.version&&c&&ee.version!==c&&(K=K.replace(new RegExp(`^(version:.*)(${ee.version.replace(/\./g,"\\.")})`,"m"),`$1${c}`));let re=Object.keys(ee&&ee.services||{});re.length&&(K=K.replace(new RegExp(`\\b${re[0]}\\b`),f)),await n.writeFile(J,Buffer.from(K))}else{let K=this.files&&this.files[q]?Buffer.from(this.files[q]):await tt(q);await n.writeFile(J,K)}}});return on(o,"dockerComposeFile"),UT(e,O)}else{on(o,"existingDockerComposeDefinitionNotFound");return}}function on(e,t,r){let n={outcome:t};r&&(n.definitionName=r),e.sendTelemetryEvent("createConfiguration",n)}function xCe(e,t){let r=t.recommendationScore===void 0?0:t.recommendationScore,n=e.recommendationScore===void 0?0:e.recommendationScore;return r-n}var V9=["docker-existing-docker-compose","docker-existing-dockerfile"];async function z9(e,t){let{codespaces:r}=e,n=(await O0()).filter(i=>V9.indexOf(st.basename(i.definitionFolder))===-1);return r&&(n=n.filter(i=>!/^\s*no\b/i.test(i.metaData.get("codespaces")||"yes"))),t?(await t(n),n.sort(xCe)):n.sort((i,o)=>i.label.localeCompare(o.label))}async function PCe(e){let{codespaces:t}=e,r=(await O0()).filter(n=>V9.indexOf(st.basename(n.definitionFolder))===-1);return r=r.filter(n=>L9(n)),t&&(r=r.filter(n=>!/^\s*no\b/i.test(n.metaData.get("codespaces")||"yes"))),r.sort((n,i)=>n.label.localeCompare(i.label))}async function kCe(e){let t=!e;e=e!=null?e:await qo();let r=new R9.default,n=st.join(e,"containers"),i=st.join(e,"containers-readmes"),o=await Zn(n);return(await Promise.all(o.map(async a=>{var b;let c=st.join(n,a),l=await Xv(c),u=l&&await ACe(l);if(!u)return;let f=gt(u);f.configFilePath=Ve.file(l);let[,d,p]=((b=f.name)==null?void 0:b.match(/^(.*)(\([^)]*\))$/))||[],h=(d==null?void 0:d.trim())||f.name||a,m=p,g,v=st.join(i,a,"README.md"),y=new Map;if(await zt(v))try{let C=await tt(v,{encoding:"utf8"}),_=/\#\s*summary.*\n*(.*)/i.exec(C);if(_){let P=r.render(_[1]);g=ICe(P);let S=g.indexOf(". ");S!==-1&&(g=g.substr(0,S+1))}y=TCe(C)}catch(C){console.error(C)}return{label:h,description:m,type:"baseConfiguration",detail:g,definitionFolder:c,configText:u,configFilePath:l,metaData:y,isV2:!t,basePath:e}}))).filter(a=>!!a)}function ICe(e){return e.replace(/<[^>]*>/g,"").trim().replace(/&#([0-9]+);/g,function(t,r){return String.fromCodePoint(parseInt(r,10))}).replace(/&#x([0-9a-f]+);/g,function(t,r){return String.fromCodePoint(parseInt(r,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(t){switch(t){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return t})}function TCe(e){let t=new Map,r=!1,n=/^\s*\|\s*Metadata\s*\|\s*Value\s*\|/i,i=/^\s*\|/gi,o={categories:/^\s*\|\s*\*Categories\*\s*\|\s*(.*)\s*\|/i,contributors:/^\s*\|\s*\*Contributors\*\s*\|\s*(.*)\s*\|/i,definitionType:/^\s*\|\s*\*Definition type\*\s*\|\s*(.*)\s*\|/i,codespaces:/^\s*\|\s*\*Works in Codespaces\*\s*\|\s*(.*)\s*\|/i,languagesPlatforms:/^\s*\|\s*\*Languages, platforms\*\s*\|\s*(.*)\s*\|/i},s=e.toString().split(`
`);for(let a of s)if(!r)a.match(n)&&(r=!0);else{if(!a.match(i))break;for(let c in o){let l=a.match(o[c]);l&&l[1]&&t.set(c,l[1])}}return t}async function ACe(e){return await zt(e)?(await tt(e)).toString():void 0}async function DCe(e,t){let{fileHost:r,workspace:n,replaceExistingConfig:i,existingConfig:o,output:s}=e,a=n.configFolderPath,c="Skip",l=(await R0(t.definitionFolder)).map(d=>st.relative(t.definitionFolder,d)),u,f;for(let d of l){let p=st.join(t.definitionFolder,d),h=p===t.configFilePath,m=r.path.sep!==st.sep?d.replace(st.sep===st.win32.sep?/\\/g:/\//g,r.path.sep):d,g=r.path.join(a,m);if(h&&!i&&o){let v=gt(t.configText);try{f=RCe(r,v,g,o)}catch(y){await NCe(y,r,g,m,s);return}g=We(o.uri,r.platform)}else if(await r.isFile(g)){let v=await xt.window.showInformationMessage(`File '${m}' already exists, overwrite?`,{modal:!0},c,"Overwrite");if(!v)return;if(v===c)continue}if(await r.mkdirp(r.path.dirname(g)),h)u=g,await r.writeFile(g,Buffer.from(f||t.configText));else if(t.copyFile)await t.copyFile(p,g);else{let v=t.files&&t.files[p]?Buffer.from(t.files[p]):await tt(p);await r.writeFile(g,v)}}return u}function RCe(e,t,r,n){var u,f,d,p,h,m,g,v,y,b,C,_,P,S;let i=n.text,o=We(n.uri,e.platform);if("image"in t)i=Tt(i,["image"],t.image);else if("dockerFile"in t){let x=Qf(e,r,o,t.dockerFile);if(i=Tt(i,["dockerFile"],x),t.context){let I=Qf(e,r,o,t.context);i=Tt(i,["context"],I)}}else if("build"in t){let x=Qf(e,r,o,t.build.dockerfile);if(i=Tt(i,["build","dockerfile"],x),t.build.context){let I=Qf(e,r,o,t.build.context);i=Tt(i,["build","context"],I)}i=Tt(i,["build","target"],t.build.target),i=Tt(i,["build","args"],t.build.args)}else if("dockerComposeFile"in t){let x=OCe(e,r,o,t.dockerComposeFile);i=Tt(i,["dockerComposeFile"],x),i=Tt(i,["service"],t.service),i=Tt(i,["workspaceFolder"],t.workspaceFolder)}t.features&&(i=Tt(i,["features"],t.features));let s=HT(((f=(u=t.customizations)==null?void 0:u.vscode)==null?void 0:f.settings)||t.settings,((p=(d=n.object.customizations)==null?void 0:d.vscode)==null?void 0:p.settings)||n.object.settings);((m=(h=n.object.customizations)==null?void 0:h.vscode)==null?void 0:m.settings)||!n.object.settings?((g=n.object.customizations)==null?void 0:g.vscode)?i=Tt(i,["customizations","vscode","settings"],s):n.object.customizations?i=Tt(i,["customizations","vscode"],{settings:s}):i=Tt(i,["customizations"],{vscode:{settings:s}}):i=Tt(i,["settings"],s);let a=BT(n.object.forwardPorts,t.forwardPorts);i=Tt(i,["forwardPorts"],a);let c=BT(((y=(v=n.object.customizations)==null?void 0:v.vscode)==null?void 0:y.extensions)||n.object.extensions,((C=(b=t.customizations)==null?void 0:b.vscode)==null?void 0:C.extensions)||t.extensions);if(((P=(_=n.object.customizations)==null?void 0:_.vscode)==null?void 0:P.extensions)||!n.object.extensions?((S=n.object.customizations)==null?void 0:S.vscode)?i=Tt(i,["customizations","vscode","extensions"],c):n.object.customizations?i=Tt(i,["customizations","vscode"],{extensions:c}):i=Tt(i,["customizations"],{vscode:{extensions:c}}):i=Tt(i,["extensions"],c),"image"in t||Wt(t)){let x=BT(n.object.mounts,t.mounts);i=Tt(i,["mounts"],x);let I=HT(t.containerEnv,n.object.containerEnv);i=Tt(i,["containerEnv"],I),i=Tt(i,["containerUser"],t.containerUser);let A=W9(n.object.runArgs,t.runArgs);i=Tt(i,["runArgs"],A)}i=Tt(i,["postCreateCommand"],t.postCreateCommand);let l=HT(t.remoteEnv,n.object.remoteEnv);return i=Tt(i,["remoteEnv"],l),i=Tt(i,["remoteUser"],t.remoteUser),i}function Tt(e,t,r){if(r===void 0)return e;let n=Ft(e,t,r,{formattingOptions:{}});return nr(e,n)}function OCe(e,t,r,n){return Array.isArray(n)?n.map(i=>Qf(e,t,r,i)):Qf(e,t,r,n)}function Qf({path:e},t,r,n){let i=e.resolve(e.dirname(t),n);return e.relative(e.dirname(r),i)||"."}function BT(e,t){var r;return(r=W9(e,t))==null?void 0:r.filter((n,i,o)=>o.indexOf(n)===i)}function W9(e,t){if(!!(t==null?void 0:t.length))return(e||[]).concat(t)}function HT(e,t){if(!(!e||!Object.keys(e).length))return Object.assign({},e,t)}async function xm(e,t){let r=await Qv(e,t.configFolderPath);if(!r)return;let n=await Tr(e).readDocument(r);if(!n)return;let i=gt(n);return{uri:r,text:n,object:i}}async function R0(e){let t=await Zn(e);return[].concat(...await Promise.all(t.map(async r=>{let n=st.join(e,r);return(await(0,O9.promisify)(D9.lstat)(n)).isDirectory()?R0(n):n})))}async function NCe(e,t,r,n,i){i.write(it(e&&(e.stack||e.message)));let o=await t.toCommonURI(r),s=await xt.window.showErrorMessage(`Could not update '${n}' due to errors in its content. Try fixing these first.`,{modal:!0},...o?["Open devcontainer.json"]:[]);o&&s&&xt.window.showTextDocument(xt.Uri.parse(o.toString()))}async function Pm(e,t){return(await LCe(t)).find(n=>{var i,o;return(o=(i=n.build)==null?void 0:i.tags)==null?void 0:o.some(s=>{let l=`^mcr.microsoft.com/vscode/devcontainers/${s.split(/\$\{[^}]*\}/).map(u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g").join(".*")}$`;return new RegExp(l).test(e)})})}async function LCe(e){let t=st.join(e,"manifests");return(await Promise.all((await Zn(t)).map(r=>OT(r,t)))).filter(Boolean)}async function OT(e,t){let r=st.join(t,e,"definition-manifest.json");if(await zt(r)){let n=(await tt(r)).toString(),i=gt(n);return i.definitionName=e,i}}async function A0(){let e=await sd(st.join(__dirname,"node_modules","vscode-dev-containers"))?[]:await sd(st.join(__dirname,"..","node_modules","vscode-dev-containers"))?[".."]:["..",".."];return st.join(__dirname,...e)}async function qo(){return st.join(await A0(),"node_modules","vscode-dev-containers")}async function G9(e,t,r,n,i,o){let s=gi(r);if(Dr(s)&&!await at.workspace.requestWorkspaceTrust({message:qh}))return kr(s.hostPath)?(await at.window.showInformationMessage("The WSL folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen in WSL."}),await at.commands.executeCommand("remote-containers.reopenInWSL")):(await at.window.showInformationMessage("The local folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen locally."}),await at.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let a=mi(s);return a&&!await jh(e,s.repositoryPath)?(await at.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{})):ge(G({},await FCe(s,e,i,o,t,r,n)),{isTrusted:a||void 0})}async function FCe(e,t,r,n,i,o,s){let{log:a,logFilePath:c}=r,l="hostPath"in e&&kr(e.hostPath)&&!!at.extensions.getExtension("ms-vscode-remote.remote-wsl");l&&at.commands.executeCommand("setContext","canReopenInWSL",!0);let u=e.settings,f="localDocker"in e&&e.localDocker,d=!!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!f)&&(!!at.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!at.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));d&&at.commands.executeCommand("setContext","canReopenInSSH",!0);let p=!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!f);p&&at.commands.executeCommand("setContext","canReopenLocally",!0);let h;return at.window.withProgress({location:at.ProgressLocation.Notification,title:Of,cancellable:!1},async m=>{let g=go(t.extensionPath,bs,a),{cliHost:v,originalCwd:y}=await MCe(e,t.extensionPath,await Eo(),g,i.product,a),b=G(G({},await g),Fu(v,e.settings)),C=G(G({},v.env),b),_=await Rf({authority:o,extensionContext:t,sessionStart:r.sessionStart,progress:m,cliHost:v,env:C,cwd:v.cwd,isLocalContainer:qy(b),telemetry:i,output:a,logFilePath:c,allowSystemConfigChange:!0,postCreate:n}),P={async createConfiguration(S,x){return km({fileHost:x,telemetry:i,output:a,existingFilesLearnMoreLink:Oh,predefinedDefinitionsLearnMoreLink:Nh,openConfigurationCommandId:Rh},dt(VT.posix,S))},async showError(S,...x){return await at.window.showErrorMessage(S,{modal:!0},...x)}};return h={common:_,parsedAuthority:e,dockerCLI:Qi(),dockerComposePath:Ao(),dockerComposeCLI:yo({exec:_.cliHost.exec,env:G(G({},b),pr(b)),output:_.output},Qi(),Ao()),dockerEnv:b,workspaceMountConsistencyDefault:hC(),updateRemoteUserUIDOnMacOS:mC(),cacheMount:gC()?"volume":"none",configurationTracking:pC(t.workspaceState),removeOnStartup:await dz(t,o),buildNoCache:await hz(t,o),onRemoveOnShutdownChanged:s,userRepositoryConfigurationPaths:Do(),originalCwd:y,configProvider:P,development:t.extensionMode===at.ExtensionMode.Development},await jy(h),sU(h)}).then(m=>(s(async g=>{await pz(t,g&&m.dockerContainerId||!1),await Fh(t,g==="rebuildNoCache"?o:!1)}),Es(i,zT(e),"success",h==null?void 0:h.common,m.config,m.properties),m),m=>{var S;let g=m instanceof $e?m:new $e({description:"An error occurred setting up the container.",originalError:m});mi(e)&&(g.volumeName=e.volumeName,g.volumeName===Bn&&(g.volumeName=hi(e.repositoryPath).uniqueVolumeName),g.repositoryPath=e.repositoryPath,g.folderPath=e.folder),Es(i,zT(e),"failure",h==null?void 0:h.common,g.config,g.containerProperties,g);let v="onTheSide",y=(S=g.data)==null?void 0:S.fileWithError,b=y&&(h==null?void 0:h.common.cliHost.path.basename(y))||"devcontainer.json",C=Dr(e)?[{id:"openFileWithErrorLocally",title:`Open ${b} Locally`,isLastAction:!0,applicable:async(x,I)=>p&&!(I&&l),async execute(){let x=h==null?void 0:h.common.cliHost,I=y?x.type==="wsl"?await x.toCommonURI(y):Ve.file(y):void 0;await Mh(t,e.hostPath,I,c,v);let A=at.Uri.file(e.hostPath);await at.commands.executeCommand("vscode.openFolder",A)}},{id:"openFileWithErrorinWSL",title:`Open ${b} in WSL`,isLastAction:!0,applicable:async()=>l,async execute(){let x=at.Uri.parse((await uu(e.hostPath,a)).toString());await Mh(t,x.path,y?x.with({path:y}):void 0,c,v),await at.commands.executeCommand("vscode.openFolder",x)}},{id:"openFileWithErrorinSSH",title:`Open ${b} in SSH`,isLastAction:!0,applicable:async()=>d,async execute(){let x=e.settings,I=at.Uri.parse(Zd(x.host,e.hostPath).toString());await Mh(t,I.path,y?I.with({path:y}):void 0,c,v),await at.commands.executeCommand("vscode.openFolder",I)}}]:[],_=mi(e)?e.inspectVolume?[oa]:[{id:"reopenInRecoveryContainer",title:`Open ${b} in Recovery Container`,isLastAction:!0,applicable:(x,I)=>!0,execute:async x=>{await Mh(t,e.repositoryPath,y?Ve.file(y).with({scheme:"vscode-remote"}):void 0,c,v),await at.commands.executeCommand("remote-containers.inspectVolume",x.volumeName,x.repositoryPath,x.folderPath)}},oa,{id:"openRepository",title:"Open Repository",isLastAction:!1,applicable:(x,I)=>!I,async execute(){at.env.openExternal(at.Uri.parse(e.repositoryPath))}}]:[],P=Ap(e)?[oa]:[];return g.actions=[...qu,Nc,MU,...C,..._,...P,Mu,Oc],qCe(g),sa(g,zT(e),i,!0,r)})}async function MCe(e,t,r,n,i,o){let{settings:s}=e,a=s&&"host"in s&&s.host||void 0;if(Dr(e)){let c=dt(VT,e.hostPath),l=c.rootFolderPath,u=await Fi(a,c.rootFolderPath,To,Xi(),t,r,i,o,Ro,{sshAskpassEnv:n,settings:Df(),localDocker:e.localDocker});return u.cwd!==c.rootFolderPath&&(c=dt(u.path,c.isWorkspaceFile?u.path.join(u.cwd,VT.basename(e.hostPath)):u.cwd)),o.write(`Setting up container for folder or workspace: ${c.workspaceOrFolderPath}\r
`),My(o,e.settings),e.localDocker&&o.write(`Local Docker: ${e.localDocker}\r
`),{cliHost:u,originalCwd:l}}else{let c=await Fi(a,void 0,To,Xi(),t,r,i,o,Ro,{sshAskpassEnv:n,settings:Df()});return{cliHost:c,originalCwd:await c.homedir()}}}function zT(e){return Dr(e)?"config":mi(e)?e.inspectVolume?"volume":"repository":"volume"}function qCe(e){let t=(e.originalError&&(e.originalError.cmdOutput||e.originalError.message)||"").toLowerCase();t&&t.indexOf("drive has not been shared")!==-1?e.description="The drive of the workspace folder is not shared. Share it in the Docker settings first.":t&&(t.indexOf("port is already allocated")!==-1||t.indexOf("address already in use")!==-1)?e.description="A port the container is setup to bind to is already in use. See the Dev Containers terminal for details.":t&&t.indexOf('invalid mount config for type "bind"')!==-1?e.description="A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running.":t&&t.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(e.description="The base image references the obsolete Debian 8 update repository.",e.actions.push({id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(r,n)=>n,async execute(){at.env.openExternal(at.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var jo=te(require("vscode"));var K9=te(require("util"));var to=te(require("path"));async function Y9(e,t,r){let{common:n}=e,i;try{let{commit:o}=n.product;if(!o)throw new $e({description:"Cannot attach without commit id for the remote extension host."});i=await Ru(e,t.Id,r.workspaceFolder,r.remoteUser);let s=Tr(n.cliHost,i.shellServer),{hostOrContainerPort:a,hostPortServer:c,connectionToken:l,webConnectionToken:u,remoteEnv:f,serverDownloaded:d}=await qv(n,i,r,async()=>{},Js);if(jCe(n,i,s,r.configFilePath),UCe(n,i,s,r.configFilePath),Au(n,i,a,l,u,t,dt(to.posix,"/")),c){let p=async()=>{await(0,K9.promisify)(c.close.bind(c))()};n.shutdowns.push(p)}return{params:n,properties:i,config:r,resolvedAuthority:{host:na,port:a,connectionToken:l,extensionHostEnv:f},webConnectionToken:u,tunnelInformation:n.isLocalContainer?Du(t):{},dockerParams:e,dockerContainerId:t.Id,serverDownloaded:d}}catch(o){let s=o instanceof $e?o:new $e({description:"An error occurred attaching to the container.",originalError:o});throw t&&(s.manageContainer=!1,s.params=e.common,s.containerId=t.Id,s.dockerParams=e),i&&(s.containerProperties=i),s.config=r,s}}function jCe(e,t,r,n){t.installFolder&&J9(e,t,r,n).catch(console.error)}async function J9(e,t,r,n){try{await Xo(e,t,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],TM(t),{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await $Ce(e,t,r,n):(i==null?void 0:i.code)!==2&&await ho(6e4)}return J9(e,t,r,n)}async function $Ce(e,t,r,n){let i=await NM(e,t);await uS(n,async()=>{var s,a;let o=await q0(e.cliHost,r,n,t.remoteWorkspaceFolder);if(!HCe(((a=(s=o.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],i)){let c=Ft(o.text,["extensions"],i,{formattingOptions:{}});await ui(r,n,c,o.text)}})}function UCe(e,t,r,n){Q9(e,t,r,n).catch(console.error)}async function Q9(e,t,r,n){try{let i=Mv(t),o=to.posix.dirname(i),s=to.posix.basename(i);await Xo(e,t,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],o,{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await BCe(e.cliHost,t,r,n):(i==null?void 0:i.code)!==2&&await ho(6e4)}return Q9(e,t,r,n)}async function BCe(e,t,r,n){let{stdout:i}=await t.shellServer.exec(`cat ${Mv(t)}`),o=gt(i)||{};await uS(n,async()=>{var a,c;let s=await q0(e,r,n,t.remoteWorkspaceFolder);if(JSON.stringify(((c=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:c.settings)||{})!==JSON.stringify(o)){let l=Ft(s.text,["settings"],o,{formattingOptions:{}});await ui(r,n,l,s.text)}})}function HCe(e,t){let r=new Set(e),n=new Set(t);return r.size===n.size&&e.every(i=>n.has(i))}async function X9(e,t){let r=F0(e,t.Name),n=await o5(r);return n||(r=t5(e,t.Config.Image),n=await o5(r)),n}async function Z9(e,t,r,n,i){let o=Ve.file(F0(r,n.Name)),s=await q0(e,t,o,i);return s.exists||(o=Ve.file(t5(r,n.Config.Image)),s=await q0(e,t,o,i)),s}function L0(e){return to.join(e,"nameConfigs")}function F0(e,t){let r=t.startsWith("/")?t.substr(1):t;return to.join(L0(e),`${n5(r)}.json`)}async function e5(e){try{let t=L0(e);return(await Zn(t)).filter(n=>n.endsWith(".json")).map(n=>({name:i5(n.substr(0,n.length-5)),uri:Ve.file(to.join(t,n))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function M0(e){return to.join(e,"imageConfigs")}function t5(e,t){return to.join(M0(e),`${n5(t)}.json`)}async function r5(e){try{let t=M0(e);return(await Zn(t)).filter(n=>n.endsWith(".json")).map(n=>({image:i5(n.substr(0,n.length-5)),uri:Ve.file(to.join(t,n))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function n5(e){return e.replace(/[:/%]/g,t=>`%${t.charCodeAt(0).toString(16)}`)}function i5(e){return e.replace(/%([0-9a-f]{2})/g,(t,r)=>String.fromCharCode(parseInt(r,16)))}async function o5(e){if(!await zt(e))return;let t=await tt(e),r=gt(t.toString())||{},n=ap(r);return n.configFilePath=Ve.file(e),n}async function q0(e,t,r,n){let i=await t.readDocument(r),o=i||es,s=gt(o)||{},a=ap(s),c=Rv({platform:e.platform,configFile:r,env:e.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:n},a);return c.configFilePath=r,{exists:!!i,text:o,config:c}}async function s5(e,t,r,n,i){return await Sa(e)?ge(G({},await VCe(e,t,r,n,i)),{isTrusted:!0}):(await jo.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function VCe(e,t,r,n,i){let o,s;return jo.window.withProgress({location:jo.ProgressLocation.Notification,title:Of,cancellable:!1},async a=>{var c,l;try{let u=$y(r),{settings:f}=u,d="containerName"in u?u.containerName:u.containerId;n.log.write(`Setting up container: ${d}\r
`),My(n.log,f);let p=f&&"host"in f&&f.host||void 0,h=go(e.extensionPath,bs,n.log),m=await Fi(p,u.cwd,To,Xi(),e.extensionPath,await Eo(),t.product,n.log,Ro,{sshAskpassEnv:h,settings:Df()}),g=Qi(),v=G(G({},await h),Fu(m,f)),y=yo({exec:m.exec,env:G(G({},v),pr(v)),output:n.log},Qi(),Ao()),b=G(G({},m.env),v),C=await Un({cliHost:m,dockerCLI:g,dockerComposeCLI:y,dockerComposePath:Ao(),env:b,output:n.log},"containerName"in u?u.containerName:u.containerId);if(!C)throw new $e({description:`Cannot attach to the container with name/id ${d}, it no longer exists.`,data:{reload:!1,attach:!0}});let _=(l=(c=(jo.workspace.workspaceFolders||[void 0])[0])==null?void 0:c.uri)==null?void 0:l.path,P=await Z9(m,Mi,e.globalStoragePath,C,_);if(_&&P.config.workspaceFolder!==_){let A=Ft(P.text,["workspaceFolder"],_,{formattingOptions:{}});await ui(Mi,P.config.configFilePath,A,P.text)}o={common:await Rf({authority:r,extensionContext:e,sessionStart:n.sessionStart,progress:a,cliHost:m,env:b,cwd:u.cwd||await m.homedir(),isLocalContainer:qy(v),telemetry:t,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:u,dockerCLI:g,dockerComposePath:Ao(),dockerComposeCLI:y,dockerEnv:v,workspaceMountConsistencyDefault:hC(),updateRemoteUserUIDOnMacOS:mC(),cacheMount:gC()?"volume":"none",configurationTracking:pC(e.workspaceState),userRepositoryConfigurationPaths:[],development:e.extensionMode===jo.ExtensionMode.Development},await jy(o);let S=Nu(f),x=C.Name.startsWith("/")?C.Name.substr(1):C.Name,I=`Container ${C.Config.Image} (${x})${S}`;if(o.common.setWorkspaceName(I),C.State.Status!=="running")throw new $e({description:`Cannot attach to the container ${C.Config.Image} (${x})${S}, it is not running.`,params:o.common,containerId:C.Id,dockerParams:o,data:{reload:!1,start:!0}});return await Y9(o,C,P.config)}catch(u){let f=u instanceof $e?u:new $e({description:"An error occurred attaching to the container.",originalError:u});throw f.actions=[qU,jU,...qu,Nc,oa,Mu,Oc],f}}).then(a=>(Es(t,"attach","success",o==null?void 0:o.common,s,a.properties),a),a=>{let c=a instanceof $e?a:new $e({description:"An error occurred attaching to the container.",originalError:a});return Es(t,"attach","failure",o==null?void 0:o.common,s,c.containerProperties,c),sa(c,"attach",t,!0,n)})}var Mt=te(require("vscode"));var Qt=te(require("vscode")),a5=te(require("path")),xl=te(require("os")),Im=te(require("fs")),c5=te(require("child_process")),l5=te(tu());async function j0(e){GCe()?await new u5().downloadAndInstallDocker(e):d5()?await new f5().downloadAndInstallDocker(e):await Qt.env.openExternal(Qt.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var WT=class{async downloadAndInstallDocker(t){if(await this.preInstallCheck(t)){let n="Downloading Docker installer...",i="The Docker Desktop installation is started. Complete the installation and then start Docker Desktop.",o;try{o=await Qt.window.withProgress({location:Qt.ProgressLocation.Notification,title:n},async()=>this.downloadInstaller())}catch(a){let c="Downloading the Docker Desktop installer failed. Do you want to manually download and install?",l="Download";throw this.handleError(c,l,this.downloadUrl),a}let s=this.getInstallCommand(o);Qt.window.showInformationMessage(i);try{await this.install(o,s,t)}catch(a){let c=`Docker Desktop installation failed. ${a}`,l="Install Instruction";throw this.handleError(c,l,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(t){let r=!0;if(await new p5(t).isDockerInstalledRealTimeCheck()){let n="Docker Desktop is already installed. Would you like to reinstall?",i="Reinstall";r=await Qt.window.showInformationMessage(n,{modal:!0},i)!==void 0}return r}async downloadInstaller(){let t=`${WCe()}.${this.fileExtension}`;return await YCe(this.downloadUrl,t),t}handleError(t,r,n){Qt.window.showErrorMessage(t,{title:r}).then(i=>{i&&Qt.env.openExternal(Qt.Uri.parse(n))})}},u5=class extends WT{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-windows-vscode";this.fileExtension="exe"}getInstallCommand(t){return`"${t}"`}async install(t,r,n){try{n.write(`Executing command ${r}`),await m5(r,n)}finally{try{await Im.promises.stat(t),await Im.promises.unlink(t)}catch{}}}},f5=class extends WT{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-mac-vscode";this.fileExtension="dmg"}getInstallCommand(t){return`chmod +x '${t}' && open '${t}'`}async install(t){let r="Docker Install",n=this.getInstallCommand(t);await KCe(n,r,{addDockerEnv:!1})}},zCe=0;function WCe(){return a5.join(xl.tmpdir(),`${Qt.env.sessionId}-${zCe++}.tmp`)}function GCe(){return xl.platform()==="win32"}function d5(){return xl.platform()==="darwin"}async function KCe(e,t,r){var a,c,l;let n;r=r!=null?r:{},r.addDockerEnv&&(n={});let i=new Qt.Task({type:"shell"},(a=r.workspaceFolder)!=null?a:Qt.TaskScope.Workspace,t,"Docker",new Qt.ShellExecution(e,{cwd:r.cwd||((l=(c=r.workspaceFolder)==null?void 0:c.uri)==null?void 0:l.fsPath)||xl.homedir(),env:n}),[]);r.alwaysRunNew&&(i.definition.idRandomizer=Math.random()),r.focus&&(i.presentationOptions={focus:!0});let o=await Qt.tasks.executeTask(i);return new Promise((u,f)=>{let d=Qt.tasks.onDidEndTaskProcess(p=>{p.execution===o&&(d.dispose(),p.exitCode&&r.rejectOnError&&f(p.exitCode),u())})})}var p5=class{constructor(t){this.output=t;this.maxCacheTime=3e4;this.isDockerInstalledLazy=new g5(async()=>{let r=await this.isDockerInstalledRealTimeCheck();return r&&this.isDockerInstalledLazy.cacheForever(),r},this.maxCacheTime)}async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{return await m5("docker -v",this.output),!0}catch{return!1}}};async function YCe(e,t){await new Promise((r,n)=>{let i=Im.createWriteStream(t);l5.https.get(e,s=>{if(s.statusCode<200||s.statusCode>299){n(new Error(`Failed to download Docker (${e}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",n),s.pipe(i),s.on("end",r)}).on("error",n)})}var h5=10*1024;async function m5(e,t,r,n){let i=Buffer.alloc(r&&r.maxBuffer||h5),o=Buffer.alloc(r&&r.maxBuffer||h5);return await JCe(e,t,r,n,i,n,o),{stdout:GT(i),stderr:GT(o)}}async function JCe(e,t,r,n,i,o,s,a){return await new Promise((c,l)=>{let u,f=0,d=0;r=r||{},r.shell=!0,QCe(r,t);let p=c5.spawn(e,r);p.on("error",h=>(u&&(u.dispose(),u=void 0),l(h))),p.on("close",(h,m)=>{if(u&&(u.dispose(),u=void 0),a&&a.isCancellationRequested)return l(new Error("User canceled"));if(h){let g=`Process '${e.length>50?`${e.substring(0,50)}...`:e}' exited with code ${h}`;s&&(g+=`
Error: ${GT(s)}`);let v=new Error(g);return v.code=h,v.signal=m,v.stdErrHandled=o!==null,l(v)}return c()}),(r==null?void 0:r.stdin)&&(p.stdin.write(r.stdin),p.stdin.end()),(n||i)&&p.stdout.on("data",h=>{let m=h.toString();n&&n(m,p),i&&(f+=i.write(m,f))}),(o||s)&&p.stderr.on("data",h=>{let m=h.toString();o&&o(m,p),s&&(d+=s.write(m,d))}),a&&(u=a.onCancellationRequested(()=>{p.kill()}))})}function QCe(e,t){var r,n;!d5()||/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((r=e==null?void 0:e.env)==null?void 0:r.PATH)||process.env.PATH||"")||(e=e!=null?e:{},e.env=(n=e.env)!=null?n:G({},process.env),t.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),e.env.PATH=`${e.env.PATH}:/usr/local/bin`)}function GT(e){return e.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var g5=class{constructor(t,r){this.valueFactory=t;this._valueLifetime=r;this._isValueCreated=!1}get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let t=this._valuePromise===void 0;t&&(this._valuePromise=this.valueFactory());let r=await this._valuePromise;if(t&&(this._value=r,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&t){let n=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(n)},this._valueLifetime)}return r}};async function Pn(e,t,r){var o;let n=(o=(Mt.workspace.workspaceFolders||[])[0])==null?void 0:o.uri;n&&(n.scheme==="file"&&kr(n.fsPath)||fu(n))&&(t=await yt(e,t.output,n));let i=await Tm(t,r);if(i==="permission")return await Mt.window.showErrorMessage("Current user does not have permission to run 'docker'.",{modal:!0,detail:"Try adding the user to the 'docker' group."},"Documentation")&&Mt.env.openExternal(Mt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(i==="ssh")return await Mt.window.showErrorMessage("Cannot connect to Docker daemon using 'ssh'.",{modal:!0,detail:"Make sure public/private keys are set up for connecting without keyboard interaction."},"Show Log")&&Mt.commands.executeCommand(_i),!1;if(i==="daemon")return await Mt.window.showErrorMessage("Docker returned an error.",{modal:!0,detail:"Make sure the Docker daemon is running."},"Show Log")&&Mt.commands.executeCommand(_i),!1;if(!i||i==="command"){if(t.cliHost.type==="wsl")await Mt.window.showErrorMessage("Docker Desktop WSL 2 backend required.",{modal:!0},"Read more on docker.com")&&Mt.env.openExternal(Mt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let s="Install",a="License",c="Ignore",l=i===!1?[s,a,c]:[s,a],u=await Mt.window.showErrorMessage("Docker version 17.12.0 or later required.",{modal:!0,detail:"Check the license for details."},...l);if(u===s)j0(t.output).then(console.error);else if(u===a)Mt.env.openExternal(Mt.Uri.parse("https://aka.ms/docker-subscription-service-agreement"));else if(u===c)return!0}return!1}return i==="wsl1"?(await Mt.window.showErrorMessage("WSL 2 distro required.",{modal:!0,detail:"The WSL distro is running with WSL 1."},"Read more on docker.com")&&Mt.env.openExternal(Mt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}async function Tm(e,t){var s,a,c,l;let r;try{let u=await Ct(e,"version","--format","{{.Server.APIVersion}}");r=u.stdout.toString(),e.output.write(r);let f=u.stderr.toString();f&&e.output.write(it(f))}catch(u){console.error(u);let f=(s=u==null?void 0:u.stdout)==null?void 0:s.toString();f&&e.output.write(f);let d=u&&(u.stderr?u.stderr.toString():u.message)||"";d&&e.output.write(it(d)),Am(t,"error",void 0,d);let p=d.toLowerCase();return p.indexOf("permission denied")!==-1?p.indexOf("ssh")!==-1?"ssh":"permission":p.indexOf("enoent")!==-1||p.indexOf("not found")!==-1?(e.output.write(`CLI host's PATH: ${e.cliHost.env.PATH}`),"command"):e.cliHost.type==="wsl"&&((l=(c=(a=u==null?void 0:u.stdout)==null?void 0:a.toString())==null?void 0:c.toLowerCase())==null?void 0:l.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let n=r.trim(),i=vc(n);if(!i&&n.toLowerCase().indexOf("error during connect")!==-1)return Am(t,"error",void 0,n),"daemon";if(!i)return Am(t,"unparsed",n),!0;let o=!mu(i,[1,35]);return!o&&await CS(e)?(Am(t,"podman",n),!0):(Am(t,o?"success":"failure",n),o)}function Am(e,t,r,n){let i={outcome:t};r&&(i.version=r),n&&(i.errorMessage=n),e.sendTelemetryEvent("dockerVersion",i)}async function v5(e){try{return await Sc(e,"version"),!0}catch{return await Mt.window.showErrorMessage("Docker Compose required",{modal:!0},"Documentation")&&Mt.env.openExternal(Mt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")),!1}}var Xf=te(require("vscode"));var KT=class{constructor(t){this.fileHost=t}async provideDocumentLinks(t,r){let n=[],i=Xg(t.getText());if(!i)return n;let o=Zg(i)||{};return o.configFilePath=t.uri,Wt(o)&&this._linksForDockerfile(n,o,i,t),"dockerComposeFile"in o&&await this._linksForDockerCompose(n,o,i,t),n}_tryAddDocumentLinkToBucket(t,r,n,i,o){let s=t.positionAt(r),a=t.positionAt(n);s.compareTo(a)!==0&&o.push(new Xf.DocumentLink(new Xf.Range(s,a),i))}_linksForDockerfile(t,r,n,i){let o=Vs(n,["build","dockerfile"])||Vs(n,["dockerFile"]);o&&o.type==="string"&&this._tryAddDocumentLinkToBucket(i,o.offset+1,o.offset+o.length-1,Xr(this.fileHost,r),t)}async _linksForDockerCompose(t,r,n,i){let s=(await br(this.fileHost,r)).map(c=>Xf.Uri.file(c).path),a=Vs(n,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let c=0;c<a.children.length;c++)this._tryAddDocumentLinkToBucket(i,a.children[c].offset+1,a.children[c].offset+a.children[c].length-1,i.uri.with({path:s[c]}),t);else a.type==="string"&&this._tryAddDocumentLinkToBucket(i,a.offset+1,a.offset+a.length-1,i.uri.with({path:s[0]}),t)}};var ue=te(require("vscode")),Pl=te(require("path"));var y5="Stop Container",w5="Reopen Folder locally",C5="Close Workspace",Na;(function(i){i.Placeholder="Placeholder",i.Group="Group",i.Container="Container",i.Folder="Folder"})(Na||(Na={}));var qr=class{static isGroupItem(t){return!!t&&t.type===Na.Group}static isContainerItem(t){return!!t&&t.type===Na.Container}static isFolderItem(t){return!!t&&t.type===Na.Folder}},Dm;(function(n){n[n.DevContainers=0]="DevContainers",n[n.AttachContainers=1]="AttachContainers",n[n.OtherContainers=2]="OtherContainers"})(Dm||(Dm={}));var YT=class extends qr{constructor(t,r){super();this.label=t;this.groupType=r;this.type=Na.Group}async asTreeItem(t,r,n,i){return new ue.TreeItem(this.label,ue.TreeItemCollapsibleState.Expanded)}},no=class extends qr{constructor(t,r=[],n,i=!1){super();this.container=t;this.folders=r;this.parent=n;this.isDevContainer=i;this.type=Na.Container;this._alreadyCheckedRepository=!1}async asTreeItem(t,r,n,i){let o=new ue.TreeItem(this.getContainerLabel(),this.getCollapsibleState());o.description=this.containerDescription;let s=this.getContextBase();o.iconPath=$0(r,t0e),o.contextValue="exited"+s;let a=!1;return n&&this.container.Id===n.Id?(o.iconPath=$0(r,e0e),o.contextValue="active"+s,a=!0):t&&await this.setTreeItemIconAndContext(t,s,o),o.tooltip=this.getHover(a,o.iconPath instanceof ue.ThemeIcon?o.iconPath:new ue.ThemeIcon("vm"),o.label),this.folders.length===1&&(o.contextValue+="Folder"),o}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?ue.TreeItemCollapsibleState.Expanded:ue.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(t,r,n){switch(this.container.State.Status){case"created":{n.iconPath=new ue.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"paused":{n.iconPath=new ue.ThemeIcon("vm-outline"),n.contextValue="running"+r;break}case"restarting":{n.iconPath=new ue.ThemeIcon("vm-outline"),n.contextValue="exited"+r;break}case"exited":{n.iconPath=new ue.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"running":{n.iconPath=new ue.ThemeIcon("vm-running"),n.contextValue="running"+r;break}}}getTimeElapsed(t){if(!t)return"";let r="",n=t.State.Status,i=new Date(t.State.StartedAt),o=new Date(t.State.FinishedAt);if(i.getFullYear()>1&&o.getFullYear()>1){let s=new Date,a=new Date(i>o?t.State.StartedAt:t.State.FinishedAt),c,l,u=s.getTime()-a.getTime();(l=Math.round(u/no.years))>0?l===1?c="year":c="years":(l=Math.round(u/no.days))>0?l===1?c="day":c="days":(l=Math.round(u/no.hours))>0?l===1?c="hour":c="hours":(l=Math.round(u/no.minutes))>0?l===1?c="minute":c="minutes":(l=Math.round(u/no.seconds),l===1?c="second":c="seconds"),r=` ${l} ${c}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+r}getContainerLabel(){if(Lu(this.container)&&this.folders.length>0)return`${Pl.basename(this.folders[0].folder.path)}`;{let r=$S(this.container);if(r)return r;let n=this.repository;return n?n.repositoryName:this.container.Config.Image}}get containerDescription(){return this.container.Name.substr(1)}getHover(t,r,n){let i=new ue.MarkdownString(void 0,!0);if(i.appendMarkdown(`$(${r.id}) ${n} (${this.container.Name.substr(1)})  
`),this.repository){let s=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";i.appendMarkdown(`${s} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let o=Ly(this.container);return o&&i.appendMarkdown(`$(file-symlink-directory) ${o}  
`),t?i.appendMarkdown("$(remote) Connected"):i.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),i}get repository(){if(!this._alreadyCheckedRepository){let t=Dc(this.container);t&&(this._repository=hi(t)),this._alreadyCheckedRepository=!0}return this._repository}inspect(t){return hn(t,this.container.Id)}},sn=no;sn.seconds=1e3,sn.minutes=no.seconds*60,sn.hours=no.minutes*60,sn.days=no.hours*24,sn.years=no.days*365;var kl=class extends qr{constructor(t,r,n){super();this.container=t;this.folder=r;this.isDevContainer=n;this.type=Na.Folder}async asTreeItem(t,r,n,i){let o=new ue.TreeItem(Pl.basename(this.folder.path),ue.TreeItemCollapsibleState.None);return o.description=this.folder.path,o.iconPath=$0(r,n0e),o.contextValue="attachedFolder",this.isDevContainer&&!Dc(this.container)&&(o.contextValue="devFolder"),n&&this.container.Id===n.Id&&i===this.folder.path&&(o.iconPath=$0(r,r0e),o.tooltip=`Active Folder ${o.label}`,o.contextValue=`active${o.contextValue}`),o}};function XCe(e,t,r,n){if(!(!ue.env.remoteName||ue.env.remoteName!=="attached-container"&&ue.env.remoteName!=="dev-container"))return b5(e,t,r,n)}function b5(e,t,r,n){ue.commands.executeCommand("setContext","remote-containers:showDetails",!0);let i=new I5(e,t,n,t.output),o=ue.window.createTreeView("detailsContainers",{treeDataProvider:i});return i.setTitle=s=>{o.title=s},e.subscriptions.push(r.onDidChangeActiveContainer(s=>i.refresh(s))),i}function ZCe(e,t){let r=[y5];return e&&e.Id===t.Id&&ue.workspace.workspaceFolders&&ue.workspace.workspaceFolders.length>0&&(r.push(C5),ue.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&r.push(w5)),r}var E5=class{constructor(t,r){this.dockerParams=t;this.containerId=r;this.writeEmitter=new ue.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.destroyables=[]}open(){let{cliHost:t,env:r,output:n}=this.dockerParams;t.exec({cmd:Qi(),args:["logs","-f",this.containerId],env:r,output:n}).then(i=>{this.destroyables.push(i.stdout.on("data",o=>{this.write(o.toString())})),this.destroyables.push(i.stderr.on("data",o=>{this.write(o.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(t=>{t.destroy()})}write(t){this.writeEmitter.fire(t.replace(/\n/g,`\r
`))}},_5=class{constructor(t,r,n,i,o,s){this.targetsTreeData=t;this.detailsTreeData=r;this.devVolumesTreeData=n;this.dockerParams=i;this.context=o;this.telemetry=s}updateDockerParameters(t){this.dockerParams=t}registerCommands(){let t=[];return t.push(ue.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),t.push(ue.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),t.push(ue.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),t.push(ue.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),t.push(ue.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),t.push(ue.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),t.push(ue.commands.registerCommand("remote-containers.attachToContainer",this.commandAttachToContainer,this)),t.push(ue.commands.registerCommand("remote-containers.attachToContainerNewWindow",this.commandAttachToContainerNewWindow,this)),t.push(ue.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),t.push(ue.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),t.push(ue.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),t.push(ue.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),t.push(ue.commands.registerCommand("remote-containers.pruneVolumes",this.commandPruneVolumes,this)),t.push(ue.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),t.push(ue.commands.registerCommand("remote-containers.startAndOpenFolder",this.commandStartAndOpenFolder,this)),t.push(ue.commands.registerCommand("remote-containers.newContainer",this.commandNewContainer,this)),t.push(ue.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),t}async commandStopContainer(t){if(!qr.isContainerItem(t))return;let r=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===t.container.Id?"Stop active container? This will disconnect your current window.":`Stop ${t.getContainerLabel()}?`,n=await ue.window.showWarningMessage(r,{modal:!0},...ZCe(this.targetsTreeData.currentContainer,t.container));await this.targetsTreeData.withProgress(t,async()=>{switch(n){case y5:{await Ok(this.dockerParams,t.container),t.container=await hn(this.dockerParams,t.container.Id);break}case C5:{await ue.commands.executeCommand("workbench.action.closeFolder");break}case w5:{await ue.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(t){if(!qr.isContainerItem(t))return;let r=await Un(this.dockerParams,t.container.Id);if(!r)return;let n=await ue.window.showWarningMessage("Remove this container?",{modal:!0,detail:"This action is not reversible and deletes the container permanently."},"Remove");await this.targetsTreeData.withProgress(t.parent,async()=>{n==="Remove"&&(await Ok(this.dockerParams,t.container),await fz(this.dockerParams,r.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(t.container))})}async tryRemoveVolume(t){let r=Ly(t);if(r||(r=EU(t)),r){let n=await ry(this.dockerParams,r);if((await yS(this.dockerParams)).indexOf(r)>=0){let s;(n==null?void 0:n.Labels)&&n.Labels["vsch.local.repository.unique"]==="true"?s="The container is using a volume with a cloned repository.":s=`This is the last container using '${r}'.`,await ue.window.showInformationMessage(s,{modal:!0,detail:"Do you want to remove the volume and the data it contains?"},"Remove")==="Remove"&&await Nk(this.dockerParams,r)}}}async commandPruneVolumes(t){let r="Are you sure you want to remove all unused volumes?";await ue.window.showInformationMessage(r,{modal:!0},"Remove")==="Remove"&&await this.targetsTreeData.withProgress(t,async()=>{await Wq(this.dockerParams)})}async commandExplorerVolumesRefresh(t){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(t){!qr.isContainerItem(t)||await this.targetsTreeData.withProgress(t,async()=>{await wC(this.dockerParams,t.container),t.container=await hn(this.dockerParams,t.container.Id)})}async commandRemoveRecentFolder(t){!qr.isFolderItem(t)||(await ue.commands.executeCommand("vscode.removeFromRecentlyOpened",t.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(t){!qr.isContainerItem(t)||(this.detailsTreeData||(this.detailsTreeData=b5(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(t))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(t){let r,n;qr.isFolderItem(t)?(n=t,r=t.container):sn.isContainerItem(t)&&(n=t.folders[0],r=t.container),r&&(await wC(this.dockerParams,r),await ue.commands.executeCommand("remote-containers.openFolder",n))}async commandAttachToContainer(t){return this.attachToContainerInternal(t)}async commandAttachToContainerNewWindow(t){return this.attachToContainerInternal(t,!0)}async attachToContainerInternal(t,r=!1){let n;qr.isContainerItem(t)?n=t.container:this.detailsTreeData&&(n=this.detailsTreeData.container),n&&(await wC(this.dockerParams,n),await U0(this.dockerParams,n,this.context,r))}async commandInspectDockerResource(t){let r;(qr.isContainerItem(t)||La.isImageItem(t)||La.isVolume(t)||La.isDevVolume(t))&&(r=await t.inspect(this.dockerParams)),r&&ue.window.showTextDocument(await ue.workspace.openTextDocument({language:"json",content:JSON.stringify(r,null,"	")}))}async commandInspectInBasicDevContainer(t){La.isDevVolume(t)&&await t.inspectInBasicDevContainer()}async commandCloneInVolume(t){La.isDevVolume(t)&&await t.cloneRepositoryInVolume()}async commandRemoveVolume(t){La.isDevVolume(t)&&await t.removeVolume(this.dockerParams)}async commandNewContainer(){let t=[{label:"Open Current Folder in Container",command:"remote-containers.reopenInContainer"},{label:"Open Folder in Container...",command:"remote-containers.openFolder"},{label:"Open Workspace in Container...",command:"remote-containers.openWorkspace"},{label:"Clone Repository in Container Volume...",command:"remote-containers.openRepositoryInVolume"},{label:"Clone GitHub Pull Request in Container Volume...",command:"remote-containers.openPullRequestInVolume"},{label:"Try a Sample...",command:"remote-containers.trySample"}],r=await ue.window.showQuickPick(t,{placeHolder:"Select an action to create a container"});if(r)return ue.commands.executeCommand(r.command)}async commandShowContainerLog(t){if(!qr.isContainerItem(t))return;let r=new E5(this.dockerParams,t.container.Id);ue.window.createTerminal({name:t.container.Config.Image,pty:r}).show()}};async function S5(e,t,r,n){ue.commands.executeCommand("setContext","remote-containers:showDetails",!1);let i=new x5(e,t,s,r,n),o=ue.window.createTreeView("targetsContainers",{treeDataProvider:i});i.setMessage=a=>o.message=a,e.subscriptions.push(ue.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await i.getDockerParams(!0),i.refresh(void 0))));function s(a){let c=XCe(e,a,i,r),l=new A5(e,r,n),u=ue.window.createTreeView("devVolumes",{treeDataProvider:l});e.subscriptions.push(u);let f=new _5(i,c,l,a,e,r);e.subscriptions.push(...f.registerCommands()),e.subscriptions.push(sz(e)(async()=>{i.refresh(void 0),l.refresh(void 0);let d=await yt(e,n);c&&c.updateDockerParameters(d),f.updateDockerParameters(d)}))}}var x5=class{constructor(t,r,n,i,o){this.context=t;this.resolverResults=r;this.onFirstReveal=n;this.telemetry=i;this.output=o;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this._onDidChangeActiveContainer=new ue.EventEmitter;this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;this.refreshDockerParams=!1;this.needsSSHCredentials=!1;this.setTreeMessage=()=>{};this.devContainers=[];this.attachContainers=[];this.otherContainers=[];this.recentAttachEntries=new Map;this.recentAttachDevContainerEntries=new Map;this.recentDevComposeEntries=new Map;this.containerItems=new Map;this.action=Promise.resolve();this.needsDockerStartOrInstallContext=void 0;this.hasContainersContext=void 0}set setMessage(t){this.setTreeMessage=t}get currentContainer(){return this._currentContainer}async getDockerParams(t=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=go(this.context.extensionPath,async r=>(this.needsSSHCredentials=!0,bs(r,!1)),this.output));try{this.dockerParams=await yt(this.context,this.output,void 0,void 0,t?void 0:this.passiveSSHAskpassEnv,!1),await Tm(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)}catch(r){if(!this.needsSSHCredentials)throw r}}return this.dockerParams}handleDockerEvent(t){try{let r=JSON.parse(t.toString());if(!r.Action)return;let n="exec_create: /root/.vscode-server";if(r.Action==="die"||r.Action==="destroy"||r.Action==="create")this._onDidChangeTreeData.fire();else if(!r.Action.startsWith("exec_create")&&r.Actor&&r.Actor.ID&&this.containerItems.has(r.Actor.ID)){let i=this.containerItems.get(r.Actor.ID);this.dockerParams&&i?(async()=>{i.container=await hn(this.dockerParams,i.container.Id),this._onDidChangeTreeData.fire(i)})():this._onDidChangeTreeData.fire(i);return}else if(r.Action.startsWith(n)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(!!t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await oy(t,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async getTreeItem(t){return t.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}async setDockerStartOrInstallContext(t){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==t)&&(this.needsDockerStartOrInstallContext=t,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await ue.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await ue.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}async setHasContainersContext(t){if(this.hasContainersContext===void 0||this.hasContainersContext!==t){this.hasContainersContext=t;let r=ue.workspace.workspaceFolders&&ue.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await ue.commands.executeCommand("setContext",r,!this.hasContainersContext)}}async getDockerOrShowMessage(t){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(t){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(t);let r=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&r.push(new YT("Dev Containers",0)),this.otherContainers.length>0&&r.push(new YT("Other Containers",2)),r}async getChildDevContainer(t,r){let n=await this.getWorkspaceFolderFromContainer(t),i=n?[new kl(t,n,!0)]:[],o=Lu(t);o&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new kl(t,a,!1))):o&&this.recentAttachEntries.has(t.Id)?i.push(...this.recentAttachEntries.get(t.Id).map(a=>new kl(t,a,!1))):(o=Dc(t))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new kl(t,a,!1))):o===void 0&&this.recentDevComposeEntries.has(t.Id)&&i.push(...this.recentDevComposeEntries.get(t.Id).map(a=>new kl(t,a,!1)));let s=new sn(t,i,r,!0);return this.setContainerItems(s),s}setContainerItems(t){this.containerItems.set(t.container.Id,t),this._currentContainer&&t.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(t)}async getChildContainers(t){if(t.groupType===0){let r=this.devContainers.map(async n=>this.getChildDevContainer(n,t));return r.push(...this.attachContainers.map(async n=>{let i=new sn(n,this.recentAttachEntries.get(n.Id).map(o=>new kl(n,o,!1)),t);return this.setContainerItems(i),i})),Promise.all(r)}else return this.otherContainers.map(r=>{let n=new sn(r,[],t);return this.setContainerItems(n),n})}getChildFolders(t){return t.folders&&t.folders.length>1?t.folders:[]}async getChildItems(t){if(t===void 0){let r=await rs(this.dockerParams,!0);if(await this.setHasContainersContext(r.length>0),r.length===0)return[];let n=await ta(this.dockerParams,r);return this.getChildGroups(n)}else{if(qr.isGroupItem(t))return this.getChildContainers(t);if(qr.isContainerItem(t))return this.getChildFolders(t)}return[]}async getChildren(t){return await this.action,await this.getDockerOrShowMessage(t)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(t)):[]}async refresh(t){t===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(t)}async setCurrents(){let t=ue.workspace.workspaceFolders,r;if(this.dockerParams){if(t&&t.length>0){let n=this.resolverResults.get(t[0].uri.authority);n&&n.dockerContainerId&&(r=await Un(this.dockerParams,n.dockerContainerId),this.currentFolder=t[0].uri.path)}else if(this.resolverResults.size>0){let n=[...this.resolverResults.values()][0].dockerContainerId;n&&(r=await Un(this.dockerParams,n))}}r!==this._currentContainer&&(this._currentContainer=r)}addContainerToMap(t){if(Lu(t)){this.devContainers.push(t);return}else if(Dc(t)){this.devContainers.push(t);return}else if($S(t)&&this.recentDevComposeEntries.has(t.Id)){this.devContainers.push(t);return}else if(this.recentAttachEntries.has(t.Id)){this.attachContainers.push(t);return}this.otherContainers.push(t)}async setContainerTypes(t){return await this.setRecentEntries(t),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,t.forEach(r=>{this.addContainerToMap(r)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(t){let{cliHost:r,dockerCLI:n,dockerComposePath:i}=this.dockerParams,o=dt(r.path,t),s=await bo(r,o,Do()),a={cliHost:r,dockerPath:n,dockerComposePath:i,appRoot:ue.env.appRoot,extensionPath:this.context.extensionPath,package:await ai(this.context.extensionPath),output:this.output},c=s&&await Nf(a,o.rootFolderPath,s);if(c&&Wt(c.configuration))return ue.Uri.parse(Op(t,c.workspace.workspaceFolder,void 0),!0)}async getWorkspaceFolderFromContainer(t){let r=Lu(t);if(r)return this.getWorkspaceFolderFromHostWorkspace(r);{let n=Dc(t),i=Ly(t),o=_U(t);if(n)return ue.Uri.parse(Rc(n,i,o,!1,void 0,void 0))}}async getWorkspaceFolderFromHostPath(t){let r=this.dockerParams.cliHost,n=await RU(r,t,this.output),i=OU(r,n,t);return ue.Uri.parse(Op(t,i,void 0),!0)}getWorkspaceFolderFromRepository(t,r,n){return ue.Uri.parse(Rc(t,r,n,!1,void 0,void 0),!0)}async findComposeTargetContainer(t,r){if(!this.dockerParams)return;let{cliHost:n,dockerCLI:i,dockerComposePath:o}=this.dockerParams,s=dt(n.path,t),a=await bo(n,s,Do()),c={cliHost:n,dockerPath:i,dockerComposePath:o,appRoot:ue.env.appRoot,extensionPath:this.context.extensionPath,package:await ai(this.context.extensionPath),output:this.output},l=a&&await Nf(c,s.rootFolderPath,a);if(l&&"dockerComposeFile"in l.configuration){let u=await br(n,l.configuration),f=await kp(this.dockerParams,s,u);return rU(r,f,l.configuration.service)}}trySetEntryWithAttachAuthority(t,r,n){let i;if("containerName"in r){let o=n.find(s=>s.Name===r.containerName);o&&(i=o.Id)}else i=r.containerId;i&&(this.recentAttachEntries.has(i)?this.recentAttachEntries.get(i).push(t):this.recentAttachEntries.set(i,[t]))}async trySetEntryWithDevAuthority(t,r,n,i){let o=r.hostPath,s=i[o];if(s||(s=await this.getWorkspaceFolderFromHostPath(r.hostPath),i[o]=s),s.path!==t.path){this.recentAttachDevContainerEntries.has(r.hostPath)?this.recentAttachDevContainerEntries.get(r.hostPath).push(t):this.recentAttachDevContainerEntries.set(r.hostPath,[t]);let a=await this.findComposeTargetContainer(r.hostPath,n);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(t):a&&this.recentDevComposeEntries.set(a,[t])}}trySetEntryWithRepoAuthority(t,r){this.getWorkspaceFolderFromRepository(r.repositoryPath,r.volumeName,r.folder).path!==t.path&&(this.recentAttachDevContainerEntries.has(r.repositoryPath)?this.recentAttachDevContainerEntries.get(r.repositoryPath).push(t):this.recentAttachDevContainerEntries.set(r.repositoryPath,[t]))}trySetEntryWithVolumeAuthority(t,r){let n=r.volumeName;!n||(this.recentAttachEntries.has(n)?this.recentAttachEntries.get(n).push(t):this.recentAttachEntries.set(n,[t]))}async trySetEntry(t,r,n){var s;if(!t||!t.folderUri&&!t.workspace.configPath)return;let i=(s=t.folderUri)!=null?s:t.workspace.configPath,o=$y(i.authority);if(o)this.trySetEntryWithAttachAuthority(i,o,r);else{let a=gi(i.authority);a&&(Dr(a)?await this.trySetEntryWithDevAuthority(i,a,r,n):mi(a)?this.trySetEntryWithRepoAuthority(i,a):this.trySetEntryWithVolumeAuthority(i,a))}}async setRecentEntries(t){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let r=await ue.commands.executeCommand("_workbench.getRecentlyOpened");if(r&&r.workspaces){let n={};for(let i of r.workspaces)await this.trySetEntry(i,t,n)}}withProgress(t,r){return this.action=this.action.then(()=>r()),this.refresh(t)}},ro;(function(s){s.Default="Default",s.Title="Title",s.Image="Image",s.Port="Port",s.Volume="Volume",s.DevVolume="DevVolume"})(ro||(ro={}));var La=class{constructor(t){this.label=t;this.type=ro.Default}static isDetailItem(t){return!!t&&t.label!==void 0&&t.type!==void 0}static isImageItem(t){return!!t&&t.type===ro.Image}static isVolume(t){return!!t&&t.type===ro.Volume}static isDevVolume(t){return!!t&&t.type===ro.DevVolume}},P5=class{constructor(t){this.detail=t;this.type=ro.Image;this.context="image";this.label="Image"}inspect(t){return xu(t,this.detail)}},k5=class{constructor(t,r){this.label=t;this.volumeDetails=r;this.type=ro.Volume;this.context="volume"}async inspect(t){return ry(t,this.volumeDetails)}},I5=class{constructor(t,r,n,i){this.context=t;this.dockerParams=r;this.telemetry=n;this.output=i;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.setTreeTitle=()=>{}}updateDockerParameters(t){this.dockerParams=t}set setTitle(t){this.setTreeTitle=t}get container(){return this._container?this._container.container:void 0}getTreeItem(t){let r=new ue.TreeItem(t.label,Array.isArray(t.detail)&&t.detail.length>0?ue.TreeItemCollapsibleState.Expanded:ue.TreeItemCollapsibleState.None);return r.tooltip=t.label,t.detail&&!Array.isArray(t.detail)&&(r.description=t.detail,r.tooltip+=` ${r.description}`),r.contextValue=t.context,r.command=t.command,r}async getAttributes(t,r,n){let i=[];r&&i.push({label:"Workspace",detail:r});let o=Dc(t.container);return o&&i.push({label:"Repository",detail:o}),i.push({label:"Name",detail:t.container.Name}),i.push(new P5(t.container.Config.Image)),n&&i.push({label:"Configuration",detail:n,command:{title:"Open Dev Container File",command:"remote-containers.openDevContainerFile",arguments:[n]},context:"devContainer"}),i}async getMounts(t){let r=[];return t&&t.Mounts.forEach(n=>{if(n.Type==="volume"){let i=n.Name,o=new k5(`Volume: ${i}`,i),s={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Volume mount",detail:[o,s]})}else if(n.Type==="bind"){let i={label:`Source: ${n.Source}`,detail:void 0},o={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Bind mount",detail:[i,o]})}}),r}async getChildrenFromRoot(t){let r=[],n=Lu(t.container),i;if(this.dockerParams&&n){let a=await bo(this.dockerParams.cliHost,dt(this.dockerParams.cliHost.path,n),Do());a&&(i=We(a,this.dockerParams.cliHost.platform))}r.push({label:"Attributes",detail:await this.getAttributes(t,n,i),type:ro.Title});let o;this.dockerParams&&(o=await hn(this.dockerParams,t.container.Id));let s=await this.getMounts(o);return s.length>0&&r.push({label:"Mounts",detail:s,type:ro.Title}),r}async testContainer(){let t=!0;try{(this.dockerParams?await hn(this.dockerParams,this._container.container.Id):void 0)===void 0&&(t=!1)}catch{t=!1}return t||(this._container=void 0,this.setTreeTitle("Details (Containers)")),t}async getChildren(t){if(this._container===void 0)return[];let r=[];return t===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),r=await this.getChildrenFromRoot(this._container)):Array.isArray(t.detail)&&r.push(...t.detail),r}async refresh(t){this.dockerParams=await yt(this.context,this.output),await Tm(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=t||this._container,this._onDidChangeTreeData.fire(void 0)}},T5=class extends La{constructor(t){super(t.Name);this.type=ro.DevVolume;this.volumeDetails=t,this.createdAt=void 0}async asTreeItem(){let t=this.getLabel(),r=new ue.TreeItem(t,ue.TreeItemCollapsibleState.None);return r.iconPath=this.iconPath,r.description=this.getDescription(),this.isUniqueVolume()?r.contextValue="uniqueDevVolume":r.contextValue="devVolume",r}isUniqueVolume(){let t=this.volumeDetails.Labels;if(t){let r=t["vsch.local.repository.unique"];if(r&&r==="true")return!0}return!1}getLabel(){let t=this.volumeDetails.Name;if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();n&&n.gitUrlInfo.repository!=="unknown"&&(t=n.gitUrlInfo.fullRepositoryName)}return t}getDescription(){let t="";if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();if(n&&n.gitUrlInfo.repository!=="unknown"){let i=this.getBranchName(),o=this.getPullRequestId();o?t=`#${o}`:i&&(t=`${i}`)}}return t}getBranchName(){let t=this.volumeDetails.Labels;if(t&&this.isUniqueVolume()&&t["vsch.local.repository.branch"])return t["vsch.local.repository.branch"]}getPullRequestId(){let t=this.volumeDetails.Labels;if(t&&this.isUniqueVolume()&&t["vsch.local.repository.pullRequestId"])return t["vsch.local.repository.pullRequestId"]}getRepository(){let t=this.volumeDetails.Labels;if(t){let r=t["vsch.local.repository.unique"];if(r&&r==="true"){let n=t["vsch.local.repository"];return hi(n)}}}get iconPath(){return new ue.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let t="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let n=new Date,i=new Date(this.volumeDetails.CreatedAt),o,s,a=n.getTime()-i.getTime();(s=Math.round(a/sn.years))>0?s===1?o="year":o="years":(s=Math.round(a/sn.days))>0?s===1?o="day":o="days":(s=Math.round(a/sn.hours))>0?s===1?o="hour":o="hours":(s=Math.round(a/sn.minutes))>0?s===1?o="minute":o="minutes":(s=Math.round(a/sn.seconds),s===1?o="second":o="seconds"),t=` ${s} ${o} ago`}return this.createdAt=t,t}async inspect(t){return ry(t,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await ue.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await ue.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(t){if(!((await yS(t)).indexOf(this.volumeDetails.Name)>=0)){await ue.window.showInformationMessage(`Volume '${this.volumeDetails.Name}' is in use and cannot be removed.`,{modal:!0});return}await ue.window.showInformationMessage(`Are you sure you want to remove volume '${this.volumeDetails.Name}'?`,{modal:!0},"Remove")==="Remove"&&await Nk(t,this.volumeDetails.Name)}},A5=class{constructor(t,r,n){this.context=t;this.telemetry=r;this.output=n;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}async getTreeItem(t){return t.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await yt(this.context,this.output,void 0,void 0),await Tm(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(t){await ue.commands.executeCommand("setContext","remote-containers:noDevVolumes",t)}async getDockerOrShowMessage(t){return!(!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(t){if(!await this.getDockerOrShowMessage(t))return[];let r=await yt(this.context,this.output),n=await vo(r),i=await lp(r,n),o=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=i.filter(o);return await this.setHasVolumesContext(s.length===0),s.sort((a,c)=>{let l=new Date(a.CreatedAt);return new Date(c.CreatedAt).getTime()-l.getTime()}),s.map(a=>new T5(a))}async resolveTreeItem(t,r){let n=await yt(this.context,this.output),i=await this.getAssociatedContainers(n,r),o=r.getLabel(),s=r.getRepository(),a=r.getBranchName(),c=r.getPullRequestId(),l=r.getTimeElapsed();return i.length>0?t.tooltip=this.renderMarkdown(o,s,a,c,l,i.join(", ")):t.tooltip=this.renderMarkdown(o,s,a,c,l,"*None*"),t}async getAssociatedContainers(t,r){let n=[],i=await rs(t,!0),o=await ta(t,i);for(let s of o)for(let a of s.Mounts)a.Type==="volume"&&a.Name===r.volumeDetails.Name&&n.push(s.Name.substring(1));return n}renderMarkdown(t,r,n,i,o,s){let a=new ue.MarkdownString(void 0,!0);if(r){let c=r.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",l=r.gitUrlInfo.repositoryUrl;l.startsWith("http")?(l=r.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${c} [${l}](${l})
`)):a.appendMarkdown(`${c} ${l})
`),a.appendMarkdown(`&nbsp;  
`),n&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${n}](${l}/tree/${n})
`):a.appendMarkdown(`$(git-compare) ${n}
`),a.appendMarkdown(`&nbsp;  
`)),i&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${i}](${l}/pull/${i})
`):a.appendMarkdown(`$(git-pull-request-create) #${i}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${t}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(t){try{let r=JSON.parse(t.toString());if(!r.Action)return;(r.Action==="die"||r.Action==="destroy"||r.Action==="create"||r.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(!!t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await oy(t,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async refresh(t){t===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(t)}},e0e="vm-active",t0e="vm-default",r0e="folder-active",n0e="folder";function $0(e,t){let r=`${t}.svg`;return{light:ue.Uri.file(e.asAbsolutePath(Pl.join("resources","light",r))),dark:ue.Uri.file(e.asAbsolutePath(Pl.join("resources","dark",r))),highContrast:ue.Uri.file(e.asAbsolutePath(Pl.join("resources","highContrast",r)))}}var JT=te(require("util"));var Ii=te(require("vscode"));async function D5(e,t,r={}){let n=du(t[0],t.slice(1),void 0),i=await JF(t[0],t.slice(1),void 0,e.loadNativeModule),o=await Fv({params:e,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:n,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0}),{hostOrContainerPort:s,connectionToken:a,webConnectionToken:c,remoteEnv:l,serverDownloaded:u}=await qv(e,o,r,async()=>{},void 0);return{params:e,properties:o,config:void 0,resolvedAuthority:{host:na,port:s,connectionToken:a,extensionHostEnv:l},webConnectionToken:c,tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:u}}async function R5(e,t,r){var n,i,o;if(!!await Sa(e))if(r&&r.name){let s=["get","pod",r.name,"-o","json"];r.namespace&&s.push("--namespace",r.namespace);let{cliHost:a,env:c,output:l}=t,u=(await ze({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:c,output:l})).stdout.toString().trim(),d=(await ze({exec:a.exec,cmd:"kubectl",args:s,env:c,output:l})).stdout.toString(),p=JSON.parse(d),h=((n=p.spec)==null?void 0:n.containers)||[];if(!h.length){t.output.write(`No containers found. Pod details:
${d}`),await Ii.window.showErrorMessage("No containers found.",{modal:!0},"Show Log")&&Ii.commands.executeCommand(_i);return}let m=h.length>1?(i=await Ii.window.showQuickPick(h.map(g=>({label:g.name,detail:g.image,container:g})),{placeHolder:"Select container"}))==null?void 0:i.container:h[0];if(m){let g=((o=p.metadata)==null?void 0:o.namespace)||r.namespace,v={remoteAuthority:o0e({context:u,podname:r.name,namespace:g,name:m.name,image:m.image})};/\d$/.test(e.extensionPath)||(v.reuseWindow=!0),await Ii.commands.executeCommand("vscode.newWindow",v)}}else t.output.write(`No Pod name found. Pod object:
${JSON.stringify(r,void 0,"  ")}`),await Ii.window.showErrorMessage("No Pod name found.",{modal:!0},"Show Log")&&Ii.commands.executeCommand(_i)}async function O5(e,t,r,n,i){return await Sa(e)?ge(G({},await i0e(e,t,r,n,i)),{isTrusted:!0}):(await Ii.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function i0e(e,t,r,n,i){let o;return Ii.window.withProgress({location:Ii.ProgressLocation.Notification,title:Of,cancellable:!1},async s=>{try{let a=s0e(r),c=process.cwd(),l=await Fi(void 0,c,To,Xi(),e.extensionPath,await Eo(),t.product,n.log,Ro);o=await Rf({authority:r,extensionContext:e,sessionStart:n.sessionStart,progress:s,cliHost:l,env:l.env,cwd:c,isLocalContainer:!0,telemetry:t,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),o.setWorkspaceName(`${a.name} in ${a.podname} (${a.image})`);let u=["kubectl","exec","-it",a.podname];return a.context&&u.push("--context",a.context),a.namespace&&u.push("--namespace",a.namespace),u.push("--container",a.name,"--"),await D5(o,u)}catch(a){let c=a instanceof $e?a:new $e({description:"An error occurred attaching to the container.",originalError:a});throw c.actions=[...qu,Nc,oa,Mu,Oc],c}}).then(s=>(Es(t,"k8s-container","success",o,void 0,s.properties),s),s=>{let a=s instanceof $e?s:new $e({description:"An error occurred attaching to the container.",originalError:s});return Es(t,"k8s-container","failure",o,void 0,a.containerProperties,a),sa(a,"k8s-container",t,!0,n)})}function o0e(e){let t=[];for(let r in e){let n=e[r];n&&t.push(`${r}=${encodeURIComponent(n)}`)}return`k8s-container+${t.join("+")}`}function s0e(e){return e.substr(e.indexOf("+")+1).split("+").reduce((t,r)=>{let n=r.indexOf("=");return n!==-1&&(t[r.substr(0,n)]=decodeURIComponent(r.substr(n+1))),t},{})}var At=te(require("vscode")),Il=te(require("fs")),Zf=te(require("os")),Tl=te(require("path")),B0=te(require("child_process")),ed=te(require("util"));function H0(e){switch(e.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${e.quality}`}}async function N5(e,t){var l;let r=e.globalStorageUri,n=qn.joinPath(r,"cli-bin");await At.workspace.fs.createDirectory(n);let i="";try{i=(await At.workspace.fs.readFile(qn.joinPath(n,"remote-containers-path"))).toString()}catch(u){if((u==null?void 0:u.code)!=="FileNotFound")return}if(i===e.extensionPath)return;let o=qn.joinPath(e.extensionUri,"dev-containers-user-cli","bin"),s=H0(t),a=`devcontainer${s}`,c=[{source:"devcontainer",destination:a},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let u of c)await At.workspace.fs.copy(qn.joinPath(o,u.source),qn.joinPath(n,u.destination),{overwrite:!0});process.platform!=="win32"&&await Il.promises.chmod(qn.joinPath(n,a).fsPath,493),await At.workspace.fs.writeFile(qn.joinPath(n,"vscode-app-root"),Buffer.from(At.env.appRoot,"utf-8")),await At.workspace.fs.writeFile(qn.joinPath(n,"vscode-path"),Buffer.from(process.argv0,"utf-8")),await At.workspace.fs.writeFile(qn.joinPath(n,"vscode-quality"),Buffer.from((l=t.quality)!=null?l:"","utf-8")),await At.workspace.fs.writeFile(qn.joinPath(n,"vscode-machine-id"),Buffer.from(At.env.machineId,"utf-8")),await At.workspace.fs.writeFile(qn.joinPath(n,"remote-containers-path"),Buffer.from(e.extensionPath,"utf-8"))}async function a0e(e,t){let r=H0(t),n="";try{if(n=(await(0,ed.promisify)(B0.exec)(`powershell.exe -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),n.indexOf(e)>=0)return await At.window.showInformationMessage("The devcontainer CLI is already in your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0;switch(await At.window.showInformationMessage("The devcontainer CLI needs to be added to your PATH",{modal:!0},"Add","Copy CLI Path")){case"Add":let s=(0,ed.promisify)(B0.exec)(`powershell.exe  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${n};${e}', 'User')`),a=At.window.showInformationMessage("The devcontainer CLI has been added to your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});await Promise.all([s,a]);break;case"Copy CLI Path":await At.env.clipboard.writeText(e),await At.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}catch{return!1}}async function c0e(e,t){var a;let n=((a=process.env.PATH)!=null?a:"").split(":"),i=[Tl.join(Zf.homedir(),"bin"),Tl.join(Zf.homedir(),".local/bin")],o="/usr/local/bin";Zf.platform()==="darwin"&&i.push(o);let s=(0,ed.promisify)(Il.stat);for(let c of i){if(n.findIndex(p=>p===c)<0)continue;try{await s(c)}catch{continue}let l=H0(t),u=Tl.join(c,`devcontainer${l}`);try{let p=await s(u);return console.log(p),await At.window.showInformationMessage(`The devcontainer CLI is already symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0}catch(p){if((p==null?void 0:p.code)!=="ENOENT")return!1}let f=await At.window.showInformationMessage("The devcontainer CLI needs to be in your PATH",{detail:`Create a symlink in ${c}?`,modal:!0},"Create","Copy CLI Path"),d=Tl.join(e,`devcontainer${l}`);switch(f){case"Create":if(c===o){if(!await l0e(d,u))break}else await(0,ed.promisify)(Il.symlink)(d,u);await At.window.showInformationMessage(`The devcontainer CLI has been symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break;case"Copy CLI Path":await At.env.clipboard.writeText(e),await At.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}return!1}async function l0e(e,t){try{return await Il.promises.symlink(e,t),!0}catch(r){if(r.code!=="EACCES"&&r.code!=="ENOENT")throw r;if(await At.window.showInformationMessage("This will now prompt with 'osascript' for Administrator privileges to install the shell command.",{modal:!0},"OK")==="OK"){let i=`osascript -e "do shell script \\"mkdir -p ${Tl.dirname(t)} && ln -sf '${e}' '${t}'\\" with administrator privileges"`;return await(0,ed.promisify)(B0.exec)(i),!0}return!1}}async function L5(e,t){let r=e.globalStorageUri,n=qn.joinPath(r,"cli-bin").fsPath;switch(Zf.platform()){case"win32":if(await a0e(n,t))return;break;case"darwin":case"linux":if(await c0e(n,t))return;break}if(await At.window.showInformationMessage("The devcontainer CLI needs to be included your PATH",{modal:!0},"Copy CLI Path")==="Copy CLI Path"){await At.env.clipboard.writeText(n);let o=H0(t);await At.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${o} --help'
Note: you may need to restart your shell for PATH changes to take effect`})}}var j5=class{constructor(t,r,n){this.context=t;this.telemetry=n,this.output=r}handleUri(t){switch(t.path){case"/cloneInVolume":this.cloneInVolume(t)}}async cloneInVolume(t){let r=q5.parse(t.query);if(!r.url){B.window.showErrorMessage(`Failed to handle the URI '${t}' expected a 'url' query parameter.`,{modal:!0});return}let n;Array.isArray(r.url)?n=r.url[0]:n=r.url;let i=await yt(this.context,this.output.log);if(!await Pn(this.context,i,await this.telemetry))return;if(await n_(i.cliHost,n,this.output.log)===!1){B.commands.executeCommand(_i),await B.window.showErrorMessage(`Cannot access the repository '${n}'.`,{modal:!0});return}await B.commands.executeCommand(uC,r.url)}};async function f0e(e){var P;Ez();let t=new Date;bz(e);let r=await ai(e.extensionPath),n=await Jd(B.env.appRoot);_z(e,n);let i=wz(e,r,n),o=`Remote-Containers ${r.version} in VS Code ${B.version} (${n.commit||"out-of-source"}).`,s=new yC(e.logPath,t,o);e.subscriptions.push(B.commands.registerCommand(_i,()=>s.show()));let{channel:a,postCreate:c}=yz(s.log,t);e.subscriptions.push(B.commands.registerCommand(kk,()=>a.show())),e.subscriptions.push(B.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:fC(s,c,Yr.results,async(S,x,I)=>G9(e,await i,S,Yr.onRemoveOnShutdownChanged,x,I)),async getCanonicalURI(S){var I;let x=gi(S.authority);if(x&&Dr(x)){let{hostPath:A,settings:O}=x;return kr(A)?uu(A,s.log):O&&"host"in O&&((I=O.host)==null?void 0:I.startsWith("ssh://"))?Zd(O.host,A):B.Uri.file(A)}return S}}),B.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:fC(s,c,Yr.results,async(S,x,I)=>s5(e,await i,S,x,I))}),B.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:fC(s,c,Yr.results,async(S,x,I)=>O5(e,await i,S,x,I))}),B.window.registerUriHandler(new j5(e,s,i)));let l=async(S,x,I)=>{let A=await yt(e,s.log);if(!await Pn(e,A,await i))return;let O;if(qr.isFolderItem(S)?(O=S.folder,I=g0e()):O=S,O.scheme==="vscode-remote")return B.commands.executeCommand("vscode.openFolder",O,I);{let q=dt(A.cliHost.path,We(O,A.cliHost.platform));return z0(e,q,A,await i,x,I)}};e.subscriptions.push(B.commands.registerCommand("remote-containers.openFolder",async(S,x)=>S?l(S,!1,x):H5(e,!0,await i,!1,s.log))),e.subscriptions.push(B.commands.registerCommand("remote-containers.openWorkspace",async(S,x)=>S?l(S,!1,x):H5(e,!1,await i,!1,s.log))),e.subscriptions.push(B.commands.registerCommand(tz,async S=>td(e,await i,s.log,S))),e.subscriptions.push(B.commands.registerCommand(uC,async S=>td(e,await i,s.log,S,Bn))),e.subscriptions.push(B.commands.registerCommand(rz,async S=>{if(S.url){let x=S.url;return(S==null?void 0:S.ref)&&(x=`${S.url}/tree/${S.ref}`),td(e,await i,s.log,x,Bn)}})),e.subscriptions.push(B.commands.registerCommand(nz,async()=>{var K;let S=await((K=B.extensions.getExtension("ms-vscode.remote-repositories"))==null?void 0:K.activate()),x=B.workspace.workspaceFolders;if(!x)return;let I=x[0].uri;if(x.length>1){let ee=await B.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:"Choose a repository to clone in a Container Volume"});I=ee==null?void 0:ee[0]}let A=I?await S.getMetadata(I):void 0;if(!A)return;let O=`${A.repo.owner}/${A.repo.name}`,q=(await A.getRevision()).name,J=`https://github.com/${O}`;return q&&(J=`${J}/tree/${q}`),td(e,await i,s.log,J,Bn)})),e.subscriptions.push(B.commands.registerCommand(iz,async S=>y0e(e,await i,s.log,S,Bn))),e.subscriptions.push(B.commands.registerCommand("remote-containers.inspectVolume",async(S,x,I)=>z5(e,S,x,I,await i,s.log))),e.subscriptions.push(B.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async S=>w0e(e,S,await i,s.log))),e.subscriptions.push(B.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async S=>td(e,await i,s.log,void 0,S))),e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInContainer",()=>u(!1))),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>u(!0))),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>u("rebuildNoCache")));let u=async S=>{if(!await B.workspace.requestWorkspaceTrust({message:qh}))return;let I=await yt(e,s.log);if(!await Pn(e,I,await i))return;let A=B.workspace.workspaceFile;if(A&&A.scheme==="untitled"){await x0();return}let O=B.workspace.workspaceFolders;if(!A&&O&&O.length){let J=O.length>1?await B.window.showWorkspaceFolderPick({placeHolder:"Pick a folder to reopen in a container."}):O[0];J&&(A=J.uri)}let q=await Ak(A);if(q){await Rm(e,q.repositoryPath,q.volumeName,q.folder,I);return}if(A){let J;if(I.cliHost.type==="wsl"&&A.scheme==="file"){let ee=We(A,process.platform),re=Gs(ee)||Rk()||await bv(I.output)||(()=>{throw new Error("No default WSL distro found.")})();J=await Jo(re,ee,I.output)}else J=We(A,I.cliHost.platform);let K=dt(I.cliHost.path,J);await z0(e,K,I,await i,S,{forceReuseWindow:!0})}};e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenLocally",async()=>{let S=B.workspace.workspaceFolders,x=B.workspace.workspaceFile||S&&S.length&&S[0].uri;if(x&&x.scheme==="vscode-remote"){let I=gi(x.authority);if(I&&Dr(I)){let A=B.Uri.file(I.hostPath),O={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",A,O)}else B.window.showInformationMessage("'Reopen Locally' not possible in current context.")}})),e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let S=B.workspace.workspaceFolders,x=B.workspace.workspaceFile||S&&S.length&&S[0].uri;if(x&&x.scheme==="vscode-remote"){let I=gi(x.authority);if(I&&Dr(I)&&kr(I.hostPath)){let A=B.Uri.parse((await uu(I.hostPath,s.log)).toString()),O={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",A,O)}else B.window.showInformationMessage("'Reopen in WSL' not possible in current context.")}})),e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let S=B.workspace.workspaceFolders,x=B.workspace.workspaceFile||S&&S.length&&S[0].uri;if(x&&x.scheme==="vscode-remote"){let I=gi(x.authority),A=I==null?void 0:I.settings;if(I&&Dr(I)&&A&&"host"in A&&A.host&&A.host.startsWith("ssh://")){let O=B.Uri.parse(Zd(A.host,I.hostPath).toString()),q={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",O,q)}else B.window.showInformationMessage("'Reopen in SSH' not possible in current context.")}}));let f,d=async S=>{var O;if(!await Sa(e))return;let x,I=typeof S=="string"?S:(O=S==null?void 0:S.containerDesc)==null?void 0:O.Id;if(I){let q=await yt(e,s.log);if(!await Pn(e,q,await i))return;x=await hn(q,I)}else{let q=!1;f||(f=go(e.extensionPath,async K=>(q=!0,bs(K)),s.log));let J=await yt(e,s.log,void 0,void 0,f);if(x=await k0e(J,Pn(e,J,await i),()=>q),!x)return}let A=await yt(e,s.log);U0(A,x,e)};e.subscriptions.push(B.commands.registerCommand("remote-containers.attachToRunningContainer",d)),e.subscriptions.push(B.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",d)),e.subscriptions.push(B.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async S=>R5(e,await yt(e,s.log),S)));let p=async S=>{var A;let x=await yt(e,s.log);if(!await Pn(e,x,await i))return;let I=(A=S==null?void 0:S.pullRequestModel)==null?void 0:A.html_url;td(e,await i,s.log,I,Bn)};e.subscriptions.push(B.commands.registerCommand("remote-containers.checkoutPRInVolume",p)),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let S=await ml();if(S){let x=await yt(e,s.log);await Rm(e,S.repositoryPath,S.volumeName,S.folder,x,!0);return}return await Promise.all(Yr.onRemoveOnShutdownChangedEmitter.fire(!0)),B.commands.executeCommand("workbench.action.reloadWindow")})),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let S=await ml();if(S){let x=await yt(e,s.log);await Rm(e,S.repositoryPath,S.volumeName,S.folder,x,"rebuildNoCache");return}return await Promise.all(Yr.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),B.commands.executeCommand("workbench.action.reloadWindow")}));let h=B.env.remoteName&&B.env.remoteName!=="test"?"linux":process.platform,m=((P=(B.workspace.workspaceFolders||[])[0])==null?void 0:P.uri)||Ve.file(process.cwd()),g=Oa(h,m),v={fileHost:g,findDevContainerFiles:()=>Fk(g),telemetry:i,output:s.log,existingFilesLearnMoreLink:Oh,predefinedDefinitionsLearnMoreLink:Nh,openConfigurationCommandId:Rh},y=await N9(e,v);e.subscriptions.push(B.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{if(!B.workspace.workspaceFolders){await B.window.showInformationMessage("Open a folder to create the configuration files in first.",{modal:!0},"Open Folder")&&await B.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder");return}await eA(e,g,y,await i,s.log)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openDevContainerFile",async(S,x)=>{let I,A=await yt(e,s.log),O;if(typeof S=="string"?I=[Ve.file(S)]:(O=await Fk(A.cliHost),I=(await Promise.all(O.map(q=>q.scheme==="file"||q.scheme==="vscode-remote"?q:A.cliHost.toCommonURI(We(q,A.cliHost.platform))))).filter(q=>!!q)),I.length){let q;I.length===1?q={uri:I[0]}:q=await B.window.showQuickPick(I.map(K=>({label:K.scheme==="file"?K.fsPath:K.toString(),uri:K})),{placeHolder:"Select container configuration file to open"});let J=await ml();if(J){let K=gz(J.folder);for(let ee of K){try{await B.workspace.openTextDocument(B.Uri.parse(ee.toString()))}catch{continue}await B.commands.executeCommand("vscode.open",B.Uri.parse(ee.toString()),x);return}return}if(q){let K=q.uri,ee=uU(K);if(ee){let re=`https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers/${process.platform==="win32"?ee.replace(/\\/g,"/"):ee}`;return B.env.openExternal(B.Uri.parse(re))}else{if(K.scheme==="file"&&await zt(K.fsPath))return await B.commands.executeCommand("vscode.open",B.Uri.parse(K.toString()),x);if(K.scheme==="file"&&Yr.results.size)return await ui(Mi,K,[],es),await B.commands.executeCommand("vscode.open",B.Uri.parse(K.toString()),x);if(K.scheme==="vscode-remote"&&Yr.results.size)return await B.commands.executeCommand("vscode.open",B.Uri.parse(K.toString()),x);if(S===void 0)return await eA(e,g,y,await i,s.log)}}}else if(S===void 0&&!(O==null?void 0:O.length))return await eA(e,g,y,await i,s.log)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:S,dockerParams:x}=[...Yr.results.values()][0];if(!S||!x)return B.window.showInformationMessage("Named configurations are only available for Docker containers.",{modal:!0});let I=await hn(x,S),A=F0(e.globalStoragePath,I.Name),O=B.Uri.file(A);return await zt(A)?B.commands.executeCommand("vscode.open",O):(await ui(Mi,O,[],es),B.commands.executeCommand("vscode.open",O))})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let S=[...(await e5(e.globalStoragePath)).map(I=>G({label:I.name},I)).sort((I,A)=>I.label.localeCompare(A.label)),...(await r5(e.globalStoragePath)).map(I=>G({label:I.image},I)).sort((I,A)=>I.label.localeCompare(A.label))],x=await B.window.showQuickPick(S.length?S:[{label:"No configuration found."}],{placeHolder:"Choose a configuration file"});if(x&&"uri"in x)return B.commands.executeCommand("vscode.open",B.Uri.parse(x.uri.toString()))})),e.subscriptions.push(B.commands.registerCommand("remote-containers.settings",async()=>B.commands.executeCommand("workbench.action.openSettings",`@ext:${B5()}`))),e.subscriptions.push(B.commands.registerCommand("remote-containers.getHelp",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers")))),e.subscriptions.push(B.commands.registerCommand("remote-containers.getStarted",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),e.subscriptions.push(B.commands.registerCommand("remote-containers.reportIssue",async()=>B.commands.executeCommand("vscode.openIssueReporter",B5()))),e.subscriptions.push(B.commands.registerCommand("remote-containers.provideFeedback",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),e.subscriptions.push(B.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new KT(g))),e.subscriptions.push(B.commands.registerCommand("remote-containers.trySample",async()=>{N0e(e,s.log)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openLogFile",()=>L0e(e))),e.subscriptions.push(B.commands.registerCommand("remote-containers.openLastLogFile",()=>F0e(e,"remoteContainers",s.logFilePath))),e.subscriptions.push(B.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>A0e(e))),e.subscriptions.push(B.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>p0e(e))),e.subscriptions.push(B.commands.registerCommand("remote-containers.installDocker",()=>j0(s.log))),S5(e,Yr.results,await i,s.log),await N5(e,n),e.subscriptions.push(B.commands.registerCommand("remote-containers.installUserCLI",()=>L5(e,n))),(async()=>{await mz(e)||await Y5(e,g,await i,s.log)})().catch(console.error),h0e(e);let b=B.env.remoteName,C=!b||["dev-container","attached-container","wsl","ssh-remote","exec","k8s-container"].indexOf(b)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[];e.subscriptions.push(B.commands.registerCommand("remote-containers.addExtensionToConfig",y.addExtensionToConfiguration),B.languages.registerCompletionItemProvider([...C,{pattern:wr.join(M0(e.globalStoragePath),"*.json")},{pattern:wr.join(L0(e.globalStoragePath),"*.json")}],y.createCompletionItemProvider()),B.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>{var I;let S=await yt(e,s.log),x=await TT(v,{readDockerComposeConfig:async(A,O)=>{let q=await Z$(S.cliHost.cwd,A,S.output);return eU(S,q,O)}});if(x){let A;if(!x.manifest&&x.imageName)try{A=await xu(S,x.imageName)}catch(O){if(((I=O==null?void 0:O.stdout)==null?void 0:I.toString().replace(/\s/g,""))==="[]")try{await Ct(S,"pull",x.imageName),A=await xu(S,x.imageName)}catch{}}await DT(v,x,(A==null?void 0:A.Config.Labels)||{})}}),B.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",y.addPortLabelToConfiguration)),await ml()&&B.commands.executeCommand("setContext","isRecoveryContainer",!0),e.subscriptions.push(w9())}var $5="showRecoveryContainerNotification",U5="showReopenInContainerNotificationReset",d0e=5e3;function p0e(e){return e.globalState.update(U5,Date.now())}async function h0e(e){setTimeout(async()=>{let t=e.globalState.get(U5);if(tA(e.globalState.get($5),t))return;if(await ml()){let n="This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry.",i="Reopen in Container",o="Don't Show Again",s=await B.window.showInformationMessage(n,i,o);s===i?B.commands.executeCommand("remote-containers.reopenInContainer"):s===o&&await e.globalState.update($5,Date.now())}},d0e)}async function m0e(){await Promise.all([...Yr.results.values()].map(e=>Promise.all(e.params.shutdowns.map(t=>{try{t()}catch(r){console.error(r)}}))))}function B5(){let{name:e,publisher:t}=F5();return`${t}.${e}`}async function H5(e,t,r,n,i){var f;let o=await yt(e,i);if(!await Pn(e,o,r))return;let s,a=B.workspace.workspaceFolders;if(a&&a[0]){let d=a[0].uri;if(d.scheme==="vscode-remote"){let p=gi(d.authority);if(p&&Dr(p)){let h=dt(o.cliHost.path,p.hostPath);s=B.Uri.file(h.rootFolderPath)}else/^(wsl|ssh-remote)\+/.test(d.authority)&&(s=d)}else d.scheme==="file"&&(s=d)}s||(((f=B.env.remoteName)==null?void 0:f.match(/^(wsl|ssh-remote)$/))?s=B.Uri.from({scheme:"vscode-remote",authority:B.env.remoteAuthority,path:await o.cliHost.homedir()}):s=B.Uri.file(M5.homedir()));let c=t?{defaultUri:s,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Open"}:{defaultUri:s,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Code Workspace":["code-workspace"]},openLabel:"Open"},l=await B.window.showOpenDialog(c),u=l&&l[0];if(u){let d=t?u:u.with({path:wr.posix.dirname(u.path)}),p=await yt(e,o.output,d,Dk()==="always"),h=We(u,p.cliHost.platform),m=dt(p.cliHost.path,h);await z0(e,m,p,r,n)}}function g0e(){return B.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)==="on"?{forceNewWindow:!0}:{forceReuseWindow:!0}}async function z0(e,t,r,n,i,o){var b;let{cliHost:s}=r;if(kr(t.rootFolderPath)){if(r=await yt(e,r.output,t.rootFolderPath),s=r.cliHost,!await Pn(e,r,n))return;t=dt(s.path,t.isWorkspaceFile?s.path.join(s.cwd,wr.basename(t.workspaceOrFolderPath)):s.cwd)}let a=await nu(s,t);if(a){let C="Continue";if(await B.window.showInformationMessage(`The workspace could fail to open in a container: ${a}`,{modal:!0},C)!==C)return}let c=await bo(s,t,Do(),!0,r.output),{dockerCLI:l,dockerComposePath:u}=r,f={cliHost:s,dockerPath:l,dockerComposePath:u,appRoot:B.env.appRoot,extensionPath:e.extensionPath,package:await ai(e.extensionPath),output:r.output},d=c&&await Nf(f,t.rootFolderPath,c);if(!d||!ea(d.configuration)){let C=await km({fileHost:s,telemetry:n,output:r.output,existingFilesLearnMoreLink:Oh,predefinedDefinitionsLearnMoreLink:Nh,openConfigurationCommandId:Rh},t);if(!C||(d=await Nf(f,t.rootFolderPath,Ve.file(C).with({scheme:Zt.scheme})),!d))return}let p=d.configuration;if(!await v0e(r,p))return;let h=d.workspace.workspaceFolder;if(Wt(p)){let C=Xr(s,p);if(!p.initializeCommand&&!await Tr(s).readDocument(C))return Om(`"${C.fsPath}" does not exist.`,s,p.configFilePath);if(p.workspaceFolder&&!wr.posix.isAbsolute(p.workspaceFolder))return Om("Workspace folder in devcontainer.json must be an absolute path.",s,p.configFilePath)}else if(!("image"in p))if("dockerComposeFile"in p){if(!await v5(r)||!await I0e(t,r,p))return}else{let C=p.configFilePath;return Om(`Configuration "${s.path.relative(t.rootFolderPath,We(C,s.platform))}" not valid.`,s,C)}t.isWorkspaceFile&&(h=wr.posix.join(h,s.path.basename(t.workspaceOrFolderPath)));let m=ia(r.env),g=s.type==="wsl"?(await s.toCommonURI(t.workspaceOrFolderPath)).fsPath:t.workspaceOrFolderPath,v=(s.type==="local"||s.type==="wsl")&&m&&"host"in m&&((b=m.host)==null?void 0:b.startsWith("ssh://")),y=B.Uri.parse(Op(g,h,m,v));await G0({uri:y,type:t.isWorkspaceFile?"workspace":"folder",label:`${NU(s.platform,t.workspaceOrFolderPath,await s.homedir())}${Nu(m)} [Dev Container]`}),await Lk(e,i?y.authority:!1),await Fh(e,i==="rebuildNoCache"?y.authority:!1),await B.commands.executeCommand("vscode.openFolder",y,o)}async function v0e(e,t){let r=t.hostRequirements;if(r&&(r.cpus||r.memory)){let n=await Ct(e,"info","--format","{{json .}}"),i=JSON.parse(n.stdout.toString()),o=i.NCPU&&r.cpus&&r.cpus>i.NCPU,s=i.MemTotal&&r.memory&&QT(r.memory)>i.MemTotal;if(o||s){let a=[];i.NCPU&&a.push(`CPUs ${i.NCPU}`),i.MemTotal&&a.push(`RAM ${XT(i.MemTotal)}`);let c=[];r.cpus&&c.push(`CPUs ${r.cpus}`),r.memory&&c.push(`RAM ${XT(QT(r.memory))}`),r.storage&&c.push(`disk ${XT(QT(r.storage))}`);let l=`Docker daemon: ${a.join(", ")}
devcontainer.json: ${c.join(", ")}`;if(!await B.window.showInformationMessage("Not all host requirements in devcontainer.json are met by the Docker daemon.",{modal:!0,detail:l},"Continue"))return!1}}return!0}function QT(e){let t=/^(\d+)([tgmk]b)?$/.exec(e);if(t){let[,r,n]=t,i=parseInt(r,10),o=n&&{t:2**40,g:2**30,m:2**20,k:2**10}[n[0]]||1;return i*o}return 0}function XT(e){let t=Math.min(Math.floor(Math.log2(Math.max(Math.abs(e),1))/10),4),r=e/Math.pow(2,10*t),n=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(r),1)))),1),i=Math.round(r*n)/n,o=[" bytes","kb","mb","gb","tb"][t];return`${i}${o}`}async function td(e,t,r,n,i){if(!await jh(e))return;let o=await yt(e,r),s=null;if(!!await Pn(e,o,t)){if(typeof n=="string")s=n;else{let a=await B.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:c=>`Clone a repository from ${c.name} in a Container Volume`,urlLabel:"Clone git repository from URL",branch:!0});if(a){s=(typeof a=="string"?a:a.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let c=Co(s);if(await n_(o.cliHost,c.repositoryUrl,o.output)===!1){B.commands.executeCommand(_i),await B.window.showInformationMessage(`Cannot access the repository '${c.repositoryUrl}'.`,{modal:!0});return}typeof a!="string"&&a.branch&&(s=`${s}/tree/${a.branch}`)}}s&&await V5(e,o,s,i)}}async function V5(e,t,r,n){if(n||(n=await b0e(t)),n){let i=ZT(r);n!==Bn&&(i=await _0e(r)),i&&await Rm(e,r,n,i,t)}}async function y0e(e,t,r,n,i){if(!await jh(e))return;let o=await yt(e,r),s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await Pn(e,o,t))return;let a={placeHolder:"e.g. https://github.com/microsoft/vscode/pull/123",prompt:"Enter a GitHub pull request url",validateInput:u=>s.test(u)?void 0:"Invalid pull request url"},c;if(n?c=n:c=await B.window.showInputBox(a),!c)return;let l=Co(c);if(l.repository==="unknown"||!l.pullRequestId){await B.window.showInformationMessage(`Invalid pull request URL '${c}'.`,{modal:!0});return}await V5(e,o,c,i)}async function z5(e,t,r,n,i,o){let s=await yt(e,o);!await Pn(e,s,i)||(t||(t=await C0e(s)),t&&(r&&n?await P0e(t,r,n,s):await x0e(t,s)))}async function w0e(e,t,r,n){let i=await yt(e,n);!await Pn(e,i,await r)||t&&t.volumeName&&await z5(e,t.volumeName,void 0,void 0,r,n)}var W0=class{get detail(){return""}},W5=class extends W0{get label(){return"$(plus) Create a new volume..."}get description(){return""}get volumeName(){return""}get detail(){return"Use this volume to store several cloned repositories."}get alwaysShow(){return!0}},G5=class extends W0{constructor(t){super();this.volume=t}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}},K5=class extends W0{constructor(t){super();this.volume=t}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}};async function C0e(e){let t=await vo(e),n=(await lp(e,t)).map(a=>new K5(a)),i="Select the volume to inspect with Visual Studio Code",o=B.window.createQuickPick();o.items=n,o.placeholder=i,o.show();let s=await new Promise(a=>{o.onDidAccept(()=>a(o.activeItems[0])),o.onDidHide(()=>a(void 0))});return o.hide(),s?s.volume.Name:null}async function b0e(e){let t=await vo(e,["vsch.local.repository.unique=false"]),n=(await lp(e,t)).map(u=>new G5(u)),i=new W5,o=[i,...n],s="Select the volume for the cloned repository",a=B.window.createQuickPick();a.items=o,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let c=await new Promise(u=>{a.onDidAccept(()=>u(a.activeItems[0])),a.onDidHide(()=>u(void 0))});if(a.hide(),!c)return null;let l=null;return c===i?l=await E0e(e):l=c.volumeName,l}async function E0e(e){let t="",r="vsc-remote-containers",n=await vo(e);n.find(s=>s===r)||(t=r);let i={prompt:"Enter the volume name.",value:t,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?"Volume names should be at least two characters and the first character must be alphanumeric.":"Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric."},o=await B.window.showInputBox(i);return o?n.find(s=>s===o)?(await B.window.showErrorMessage("Volume already exists",{modal:!0}),null):o:null}async function _0e(e){let t={prompt:"Enter the target folder name.",value:ZT(e),ignoreFocusOut:!0},r=await B.window.showInputBox(t);return r||null}function ZT(e){return hi(e).repositoryName}async function S0e(){return(await B.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function Rm(e,t,r,n,i,o=!1){let s=ia(i.env),a=Ou(t),c;try{c=await a.parseUrl(void 0)}catch(u){if(u instanceof Iy){B.window.showErrorMessage(u.description);return}let f=await S0e();try{c=await a.parseUrl(f)}catch{B.window.showErrorMessage(`Cannot access '${t}'.`,{modal:!0});return}}let l=B.Uri.parse(Rc(t,r,n,!1,s,c));r===Bn&&(r="a unique volume"),await G0({uri:l,type:"folder",label:`${n} in ${r} [Dev Container]`}),await Lk(e,o?l.authority:!1),await Fh(e,o==="rebuildNoCache"?l.authority:!1),await B.commands.executeCommand("vscode.openFolder",l)}async function x0e(e,t){let r=ia(t.env),n=B.Uri.parse(Rc(void 0,e,void 0,!0,r,void 0));await G0({uri:n,type:"folder",label:`Volume ${e} [Dev Container]`}),await B.commands.executeCommand("vscode.openFolder",n)}async function P0e(e,t,r,n){let i=ia(n.env),o=B.Uri.parse(Rc(t,e,r,!0,i,void 0));await G0({uri:o,type:"folder",label:`${r} in ${e} [Inspect Dev Container]`}),await B.commands.executeCommand("vscode.openFolder",o)}async function G0(e){return B.commands.executeCommand("_workbench.addToRecentlyOpened",e)}async function U0(e,t,r,n){if(!await Sa(r))return;let i,o=e.cliHost;if(o.type==="wsl"){let l=await o.toCommonURI(o.cwd);l&&l.scheme==="file"&&(i=l.fsPath)}let s=AU(t.Name,ia(e.env),i),a=await X9(r.globalStoragePath,t),c=r.extensionMode===B.ExtensionMode.Development;if(a&&a.workspaceFolder&&!n){let l=B.Uri.parse(`vscode-remote://${s}${a.workspaceFolder}`),u={};c?u.forceReuseWindow=!0:u.forceNewWindow=!0,await B.commands.executeCommand("vscode.openFolder",l,u)}else{let l={remoteAuthority:s};c&&!n&&(l.reuseWindow=!0),await B.commands.executeCommand("vscode.newWindow",l)}}async function k0e(e,t,r){let n=(async()=>{if(!await t)throw new Error("cancel");let i=await rs(e),o=await ta(e,i),s=[];if(o.forEach(a=>{a.State.Status==="running"&&s.push({label:a.Name,description:`${a.Config.Image} ${a.Id}`,containerInfo:a})}),s.length===0)throw B.window.showErrorMessage("There are no running containers to attach to.",{modal:!0}),new Error("cancel");return s})();try{let i={placeHolder:"Select the container to attach VS Code"},o=await B.window.showQuickPick(n,i);if(!o&&r()){if(!await t)throw new Error("cancel");o=await B.window.showQuickPick(n,i)}return o?o.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function I0e(e,t,r){if(!r.workspaceFolder)return Om("Workspace folder not specified in devcontainer.json.",t.cliHost,r.configFilePath),!1;if(!wr.posix.isAbsolute(r.workspaceFolder))return Om("Workspace folder in devcontainer.json must be an absolute path.",t.cliHost,r.configFilePath),!1;let n=await br(t.cliHost,r,t.cliHost.env,t.cliHost.cwd),i=await kp(t,e,n),o=await tU(t,i,r.service),s=o&&await hn(t,o);return!(s&&!await T0e(t.cliHost,n,r,s))}async function T0e(e,t,r,n){var o,s,a,c;let i=[];for(let l=0;l<t.length;l++)await e.isFile(t[l])||i.push(t[l]);return i.length>0?(B.window.showErrorMessage(`The following referenced docker compose files do not exist: ${i.join(", ")}`,{modal:!0}),!1):((s=(o=r.customizations)==null?void 0:o.vscode)==null?void 0:s.devPort)&&!n.Ports.find(l=>{var u,f;return((f=(u=r.customizations)==null?void 0:u.vscode)==null?void 0:f.devPort)===l.PrivatePort})?(B.window.showErrorMessage(`The port '${(c=(a=r.customizations)==null?void 0:a.vscode)==null?void 0:c.devPort}' is not open on the service '${r.service}'`,{modal:!0}),!1):!0}async function Om(e,t,r){if(await B.window.showErrorMessage(e,{modal:!0},"Open devcontainer.json")){let i=We(r,t.platform),o=await t.toCommonURI(i);o&&B.window.showTextDocument(B.Uri.parse(o.toString()))}}async function eA(e,t,r,n,i){await r.createConfiguration()&&await Y5(e,t,n,i)}async function Y5(e,t,r,n){if([void 0,"wsl","ssh-remote"].indexOf(B.env.remoteName)===-1)return;let i=B.workspace.workspaceFile,o=B.workspace.workspaceFolders,s=i||o&&o.length&&o[0].uri||void 0;if(s&&s.scheme!=="vscode-vfs"){let a=We(s,t.platform),c=dt(t.path,a),l=await zS(t,c,Do());l&&await D0e(e,l,c,t,r,n)}}var K0="showReopenInContainerNotification",J5="showReopenInContainerNotificationReset";function A0e(e){return e.globalState.update(J5,Date.now())}async function D0e(e,t,r,n,i,o){let s=e.globalState.get(J5);if(tA(e.globalState.get(K0),s)||tA(e.workspaceState.get(K0),s))return;let a=lU(n,r,t.uri),c,l="";n.platform!=="linux"&&B.env.remoteName!=="wsl"&&!(n.platform==="win32"&&kr(r.rootFolderPath));let u;a?r.isWorkspaceFile?u="Workspace contains a Dev Container configuration file.":u="Folder contains a Dev Container configuration file.":u="There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.";let f="Reopen in Container",d="Clone in Volume",p="Don't Show Again...",h=r.isWorkspaceFile?`${u} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`:`${u} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`,m=c?[f,d,p]:[f,p];R0e(i,t.location);let g=await B.window.showInformationMessage(h,...m);if(O0e(i,g===f?"reopen":g===d?"openRepository":g===p?"dontShowAgain":"cancel",t.location),g===f){if(!await B.workspace.requestWorkspaceTrust({message:qh}))return;let b=await yt(e,o);if(!await Pn(e,b,i))return;if(b.cliHost.type==="wsl"&&n.platform==="win32"){let{cwd:C}=await D_(r.workspaceOrFolderPath,Xi(),o);r=dt(b.cliHost.path,C)}try{await z0(e,r,b,i,!1,{forceReuseWindow:!0})}catch(C){await sa(C,"ui",i)}}else if(g===d){let y=await yt(e,o),b=await xL(y.cliHost,r,y.output),C="OK",_="Cancel";(!b||C===await B.window.showInformationMessage("Local changes not pushed to the Git remote will not be available in the Docker volume.",C,_))&&await B.window.withProgress({location:B.ProgressLocation.Notification,title:"Clone in Volume"},async(P,S)=>{P.report({message:"Follow the prompts at the top of the window."}),await B.commands.executeCommand(uC,c)})}else if(g===p){let y=r.isWorkspaceFile?"Any Workspace":"Any Folder",b=r.isWorkspaceFile?"Current Workspace":"Current Folder",C=r.isWorkspaceFile?"Don't show again for the current workspace or for any workspace?":"Don't show again for the current folder or for any folder?",_=await B.window.showInformationMessage(C,y,b);_===y?await e.globalState.update(K0,Date.now()):_===b&&await e.workspaceState.update(K0,Date.now())}}function R0e(e,t){e.sendTelemetryEvent("reopenNotificationOpen",{location:t})}function O0e(e,t,r){e.sendTelemetryEvent("reopenNotificationResult",{result:t,location:r})}function tA(e,t){return e===!1?e=1:e===void 0&&(e=-1),t===void 0&&(t=0),t<e}async function N0e(e,t){let r=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET Core",detail:"https://github.com/Microsoft/vscode-remote-try-dotnetcore"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],n={placeHolder:"Select a sample repository to clone in a container volume"},i=await B.window.showQuickPick(r,n);if(!i)return;let o=await yt(e,t);i.detail&&await Rm(e,i.detail,Bn,ZT(i.detail),o)}async function L0e(e){let t=await Promise.all((await Q5(e)).map(async n=>{let i=await(0,JT.promisify)(V0.stat)(n.path),o=n.time;return{label:n.prefix,description:`${rd(o.getFullYear())}-${rd(o.getMonth())}-${rd(o.getDay())} ${rd(o.getHours())}:${rd(o.getMinutes())}:${rd(o.getSeconds())} - ${i.size} bytes`,path:n.path}}));t.length||t.push({label:"No log files found."});let r=await B.window.showQuickPick(t,{placeHolder:"Choose a log file"});r&&r.path&&await B.window.showTextDocument(B.Uri.file(r.path))}function rd(e,t=2){let r=e.toString();for(;r.length<t;)r="0"+r;return r}async function F0e(e,t,r){let n=(await Q5(e)).find(i=>i.name.startsWith(t)&&i.path!==r);n?await B.window.showTextDocument(B.Uri.file(n.path)):await B.window.showInformationMessage("No previous log file found.",{modal:!0})}async function Q5(e){let t=[],r=wr.basename(e.logPath),n=wr.dirname(wr.dirname(wr.dirname(e.logPath)));for(let i of(await rA(n)).sort().reverse()){let o=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/.exec(i);if(o){let s=wr.join(n,i);for(let a of await rA(s)){let c=wr.join(s,a),l=wr.join(c,r);for(let u of(await rA(l)).sort()){let f=wr.join(l,u),d=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(u),p=d?new Date(`${d[1]}-${d[2]}-${d[3]}T${d[4]}:${d[5]}:${d[6]}.${d[7]}Z`):new Date(`${o[1]}-${o[2]}-${o[3]}T${o[4]}:${o[5]}:${o[6]}Z`);t.push({name:u,path:f,time:p,prefix:d?u.substr(0,d.index-1):u.substr(0,u.length-4)})}}}}return t.sort((i,o)=>i.time>o.time?-1:i.time<o.time?1:i.path.localeCompare(o.path)),t}async function rA(e){try{return await(0,JT.promisify)(V0.readdir)(e)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
//# sourceMappingURL=extension.js.map
